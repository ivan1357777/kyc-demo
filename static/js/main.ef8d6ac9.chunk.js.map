{"version":3,"sources":["Images/login.png","Images/login-portrait.png","Images/home1.png","Images/home1-portrait.png","Images/sign-in.png","Images/sign-in-portrait.png","Images/presale.png","Images/presale-portrait.png","Images/game.png","Images/game-portrait.png","Images/profile.png","Images/profile-portrait.png","Images/about-us.png","Images/about-us-portrait.png","Images/stats.png","Images/stats-portrait.png","Images/help.png","Images/help-portrait.png","Images/whitepaper.png","Images/whitepaper-portrait.png","Images/roadmap.png","Images/roadmap-portrait.png","Images/confese-and-earn.png","Images/confese-and-earn-portrait.png","Images/home2.png","Images/home2-portrait.png","pages/Home/index.js","pages/Lock/index.js","pages/Presale/index.js","pages/Game/index.js","pages/Profile/index.js","pages/AboutUs/index.js","pages/Stats/index.js","pages/Help/index.js","pages/Whitepaper/index.js","pages/RoadMap/index.js","pages/ConfessAndEarn/index.js","pages/Good/index.js","pages/Login/index.js","pages/SignUp/index.js","pages/Skey/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","Home","React","createElement","className","Lock","navigate","useNavigate","localStorage","getItem","onClick","handleLockUnlock","setItem","Presale","timeLeft","setTimeLeft","useState","tokensSold","setTokensSold","presaleEnd","Date","getTime","useEffect","timer","setInterval","now","timeRemaining","clearInterval","days","Math","floor","hours","minutes","seconds","close","role","aria-label","style","width","async","console","log","prev","error","handleShareTwitter","tweetText","encodeURIComponent","window","open","Game","countries","countryCodes","name","dial_code","code","Profile","profilePicture","setProfilePicture","profilePictureFile","setProfilePictureFile","walletAddress","setWalletAddress","country","setCountry","city","setCity","phoneNumber","setPhoneNumber","phoneCountryCode","setPhoneCountryCode","isAdult","setIsAdult","notifyQuestUpdates","setNotifyQuestUpdates","notifyRewardAlerts","setNotifyRewardAlerts","user","setUser","loading","setLoading","showResetForm","setShowResetForm","newPassword","setNewPassword","confirmPassword","setConfirmPassword","resetStatus","setResetStatus","earnedBadges","setEarnedBadges","storedUserId","alert","response","fetch","ok","Error","currentUser","json","fetchUserData","userId","id","_id","referralCode","userConfessions","filter","conf","status","badges","length","push","reduce","sum","votes","dayOfWeek","getDay","correctedDay","monday","setDate","getDate","setHours","sunday","weekConfessions","confDate","timestamp","max","fetchUserConfessions","color","firstName","lastName","src","getProfileImageUrl","imgPath","replace","startsWith","alt","height","objectFit","type","accept","onChange","event","file","target","files","URL","createObjectURL","fontSize","username","email","value","placeholder","textAlign","solana","isPhantom","publicKey","connect","toString","display","flexDirection","alignItems","checked","e","level","exp","SNV2","undefined","acceptedGoodDeedsCount","goodDeeds","Array","isArray","gd","accepted","acceptedConfessionsCount","confessions","c","nftHoldings","map","badge","index","key","description","currentQuest","completedQuests","quest","upcomingQuests","rank","backgroundColor","countryName","item","accountVerified","method","handleResetPasswordClick","onSubmit","preventDefault","headers","Content-Type","body","JSON","stringify","errorData","message","required","formData","FormData","append","result","handleLogout","removeItem","confirm","About","Stats","Help","Wpaper","RoadMap","generateReferralCode","random","substring","toUpperCase","getRomaniaDateString","toLocaleDateString","timeZone","ConfessAndEarn","adminVerified","setAdminVerified","setUsername","userProfile","setUserProfile","saved","sessionStorage","today","profile","parse","referralCodeDate","usernameForReferral","tokenBalance","selectedImage","setSelectedImage","imagePreview","setImagePreview","videoPreview","setVideoPreview","warn","then","res","data","catch","err","freeDeletionsToday","setFreeDeletionsToday","setConfessions","pendingConfessions","setPendingConfessions","newConfession","setNewConfession","text","video","systemMessage","setSystemMessage","rewardInfo","setRewardInfo","dailyRewards","weeklyRewards","dailyTop","weeklyTop","voteErrors","setVoteErrors","currentPage","setCurrentPage","selectedVideo","setSelectedVideo","channelRef","useRef","current","BroadcastChannel","onmessage","fetchConfessions","getTodayConfessionsCount","referralCodePattern","RegExp","test","handleInputChange","[object Object]","url","topConfession","revokeObjectURL","Fragment","admin","join","trim","split","includes","justifyContent","marginTop","onContextMenu","draggable","maxWidth","maxHeight","videoURL","videoElement","document","preload","onloadedmetadata","duration","controls","controlsList","confessionData","confession","overflow","cursor","approvedConfession","_","i","handleApproveConfession","handleDeclineConfession","navigator","clipboard","writeText","renderConfessions","sortedConfessions","sort","a","b","aBoosted","boostedUntil","totalPages","ceil","startIndex","paginatedConfessions","slice","hidden","newConfessions","upvotedBy","updatedUpvotedBy","newErrors","postMessage","updatedConfession","prevConfessions","upvoteConfession","find","deleteConfession","boostConfession","alreadyReported","reportedBy","updatedReportedBy","newReports","reports","reportConfession","disabled","from","page","min","position","top","left","zIndex","stopPropagation","autoPlay","questTemplates","category","reward","XP","dummyUser","isAdmin","hasVoted","ApprovedImagesPagination","_ref","approvedImages","handleDeleteApprovedImage","handleDeleteAllApprovedImages","images","modalImage","setModalImage","indexOfLastImage","indexOfFirstImage","currentImages","imgUrl","onDragStart","onError","goToPrevPage","idx","handlePageSelect","goToNextPage","GoodDeeds","setCurrentQuest","proof","setProof","setStatus","setError","isSubmitting","setIsSubmitting","setApprovedImages","pendingImages","setPendingImages","pendingModalImage","setPendingModalImage","updateUserProgress","newProgress","showAdminInput","setShowAdminInput","adminEmail","setAdminEmail","adminAccessText","setAdminAccessText","adminCodeInput","setAdminCodeInput","generatedAdminCode","setGeneratedAdminCode","generateAdminCode","randomString","handleKeyDown","keyCode","addEventListener","removeEventListener","storedImages","parsed","jsonString","timerId","getTimeUntilRomaniaMidnight","nowRomania","toLocaleString","nextMidnightRomania","delay","scheduleDeletion","setTimeout","clearTimeout","assignDailyQuest","randomIndex","closePage","handleVerifyAdminCode","fontWeight","fileType","q","effectiveReward","burnedSNV2","computeEffectiveReward","newExp","newLevel","newGoodDeeds","newCompletedCount","updatedBadges","prevUser","imageUrl","finalUrl","uploadImageToServer","newImages","submittedBy","handleVote","openAdminPanel","refreshDailyQuest","imgObj","delRes","found","updatedGoodDeeds","handleApproveImage","handleDeclineImage","Login","setEmail","password","setPassword","securityKey","setSecurityKey","isLoggedIn","setIsLoggedIn","storedIsLoggedIn","storedSecurityKey","storedEmail","closeLogin","expectedSecurityKey","location","reload","encryptedKey","defaultChecked","htmlFor","Link","to","handleAdminLogout","Signup","setFirstName","setLastName","emailCode","setEmailCode","walletPhantom","setWalletPhantom","termsAccepted","setTermsAccepted","successMessage","setSuccessMessage","isSendingCode","setIsSendingCode","codeSent","setCodeSent","generatedCode","setGeneratedCode","emailVerificationError","setEmailVerificationError","emailVerificationSuccess","setEmailVerificationSuccess","hiddenField","setHiddenField","isLongEnough","hasUppercase","hasSpecialChar","hasNumber","getPasswordStrength","count","Boolean","accountCreated","setAccountCreated","setAccountVerified","accountCode","setAccountCode","accountVerificationError","setAccountVerificationError","accountVerificationSuccess","setAccountVerificationSuccess","sendAccountVerificationCode","axios","post","errorMsg","handleAccountVerification","detailedError","listStyleType","paddingLeft","padding","toLowerCase","href","Skey","onSuccess","setKey","setMessage","secretKey","CryptoJS","enc","Utf8","iv","AES","encrypt","mode","CBC","pad","Pkcs7","encryptKey","_err$response","_err$response$data","App","isLocked","setIsLocked","isPortrait","setIsPortrait","innerHeight","innerWidth","userStatus","handleResize","handleNavigation","path","home1Portrait","home1","handleLockToggle","prevState","signInPortrait","signIn","presalePortrait","presale","gamePortrait","game","profilePortrait","aboutUsPortrait","aboutUs","statsPortrait","stats","helpPortrait","helpImg","whitepaperPortrait","whitepaper","roadmapPortrait","roadmap","confeseAndEarnPortrait","confeseAndEarn","home2Portrait","home2","loginPortrait","loginImg","Routes","Route","element","AboutUs","Whitepaper","Good","SignUp","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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ACA,QACA,cACA,oBACA,UACA,UACA,8BACA,WACA,OACA,UACA,SACA,QACA,SACA,UACA,UACA,QACA,SACA,UACA,YACA,SACA,gBACA,SACA,QACA,WACA,WACA,UACA,UACA,QACA,YACA,OACA,OACA,UACA,SACA,QACA,UACA,QACA,SACA,aACA,QACA,WACA,SACA,aACA,OACA,SACA,UACA,UACA,UACA,QACA,gBACA,YACA,aACA,aACA,SACA,WACA,WACA,OACA,QACA,mBACA,aACA,YACA,SACA,aACA,UACA,SACA,WACA,aACA,UACA,aACA,2BACA,UACA,QACA,QACA,cACA,cACA,YACA,QACA,UACA,cACA,kBACA,SACA,OACA,WACA,QACA,kBACA,SACA,mBACA,WACA,OACA,cACA,SACA,WACA,QACA,UACA,SACA,SACA,wBACA,cACA,mCACA,QACA,aACA,wBACA,eACA,UACA,SACA,aACA,eACA,YACA,WACA,WACA,kBACA,UACA,eACA,cACA,cACA,QACA,YACA,QACA,WACA,SACA,cACA,QACA,aACA,WACA,WACA,cACA,OACA,QACA,sBACA,UACA,SACA,eACA,SACA,SACA,UACA,uBACA,iBACA,2BACA,UACA,aACA,UACA,YACA,UACA,QACA,SACA,YAGIC,EAAe,CACnB,CAAEC,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,sBAAuBC,UAAW,SAAUC,KAAM,MAC1D,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,SAAUC,KAAM,MAC9C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,WAAYC,UAAW,SAAUC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,yBAA0BC,UAAW,OAAQC,KAAM,MAC3D,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,eAAgBC,UAAW,OAAQC,KAAM,MACjD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,SAAUC,UAAW,KAAMC,KAAM,MACzC,CAAEF,KAAM,2BAA4BC,UAAW,OAAQC,KAAM,MAC7D,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,WAAYC,UAAW,MAAOC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,4BAA6BC,UAAW,OAAQC,KAAM,MAC9D,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,OAAQC,UAAW,MAAOC,KAAM,MACxC,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,2BAA4BC,UAAW,OAAQC,KAAM,MAC7D,CAAEF,KAAM,mCAAoCC,UAAW,OAAQC,KAAM,MACrE,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,SAAUC,KAAM,MAC/C,CAAEF,KAAM,qBAAsBC,UAAW,SAAUC,KAAM,MACzD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,cAAeC,UAAW,OAAQC,KAAM,MAChD,CAAEF,KAAM,oBAAqBC,UAAW,OAAQC,KAAM,MACtD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,uBAAwBC,UAAW,OAAQC,KAAM,MACzD,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,UAAWC,UAAW,SAAUC,KAAM,MAC9C,CAAEF,KAAM,YAAaC,UAAW,OAAQC,KAAM,MAC9C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,gBAAiBC,UAAW,OAAQC,KAAM,MAClD,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,OAAQC,UAAW,MAAOC,KAAM,MACxC,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,UAAWC,UAAW,SAAUC,KAAM,MAC9C,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,aAAcC,UAAW,KAAMC,KAAM,MAC7C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,gBAAiBC,UAAW,OAAQC,KAAM,MAClD,CAAEF,KAAM,YAAaC,UAAW,OAAQC,KAAM,MAC9C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,WAAYC,UAAW,MAAOC,KAAM,MAC5C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,mBAAoBC,UAAW,OAAQC,KAAM,MACrD,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,YAAaC,UAAW,OAAQC,KAAM,MAC9C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,kBAAmBC,UAAW,MAAOC,KAAM,MACnD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,YAAaC,UAAW,OAAQC,KAAM,MAC9C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,cAAeC,UAAW,OAAQC,KAAM,MAChD,CAAEF,KAAM,kBAAmBC,UAAW,OAAQC,KAAM,MACpD,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,WAAYC,UAAW,MAAOC,KAAM,MAC5C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,kBAAmBC,UAAW,OAAQC,KAAM,MACpD,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,mBAAoBC,UAAW,OAAQC,KAAM,MACrD,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,OAAQC,UAAW,MAAOC,KAAM,MACxC,CAAEF,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,SAAUC,UAAW,KAAMC,KAAM,MACzC,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,wBAAyBC,UAAW,SAAUC,KAAM,MAC5D,CAAEF,KAAM,cAAeC,UAAW,SAAUC,KAAM,MAClD,CAAEF,KAAM,mCAAoCC,UAAW,SAAUC,KAAM,MACvE,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,wBAAyBC,UAAW,OAAQC,KAAM,MAC1D,CAAEF,KAAM,eAAgBC,UAAW,OAAQC,KAAM,MACjD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,eAAgBC,UAAW,OAAQC,KAAM,MACjD,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,kBAAmBC,UAAW,OAAQC,KAAM,MACpD,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,eAAgBC,UAAW,MAAOC,KAAM,MAChD,CAAEF,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,cAAeC,UAAW,OAAQC,KAAM,MAChD,CAAEF,KAAM,QAASC,UAAW,MAAOC,KAAM,MACzC,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,cAAeC,UAAW,MAAOC,KAAM,MAC/C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,MAC7C,CAAEF,KAAM,WAAYC,UAAW,MAAOC,KAAM,MAC5C,CAAEF,KAAM,cAAeC,UAAW,OAAQC,KAAM,MAChD,CAAEF,KAAM,OAAQC,UAAW,OAAQC,KAAM,MACzC,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,sBAAuBC,UAAW,SAAUC,KAAM,MAC1D,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,SAAUC,UAAW,MAAOC,KAAM,MAC1C,CAAEF,KAAM,eAAgBC,UAAW,OAAQC,KAAM,MACjD,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,uBAAwBC,UAAW,OAAQC,KAAM,MACzD,CAAEF,KAAM,iBAAkBC,UAAW,MAAOC,KAAM,MAClD,CAAEF,KAAM,2BAA4BC,UAAW,KAAMC,KAAM,MAC3D,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,aAAcC,UAAW,OAAQC,KAAM,MAC/C,CAAEF,KAAM,UAAWC,UAAW,OAAQC,KAAM,MAC5C,CAAEF,KAAM,YAAaC,UAAW,MAAOC,KAAM,MAC7C,CAAEF,KAAM,UAAWC,UAAW,MAAOC,KAAM,MAC3C,CAAEF,KAAM,QAASC,UAAW,OAAQC,KAAM,MAC1C,CAAEF,KAAM,SAAUC,UAAW,OAAQC,KAAM,MAC3C,CAAEF,KAAM,WAAYC,UAAW,OAAQC,KAAM,OAmqBhCC,MAhqBCA,KAEd,MAAOC,EAAgBC,GAAqBzC,mBAAS,OAC9C0C,EAAoBC,GAAyB3C,mBAAS,OACtD4C,EAAeC,GAAoB7C,mBAAS,KAC5C8C,EAASC,GAAc/C,mBAAS,KAChCgD,EAAMC,GAAWjD,mBAAS,KAC1BkD,EAAaC,GAAkBnD,mBAAS,KACxCoD,EAAkBC,GAAuBrD,mBAAS,KAClDsD,EAASC,GAAcvD,oBAAS,IAChCwD,EAAoBC,GAAyBzD,oBAAS,IACtD0D,EAAoBC,GAAyB3D,oBAAS,IACtD4D,EAAMC,GAAW7D,mBAAS,OAC1B8D,EAASC,GAAc/D,oBAAS,GACjCV,EAAWC,eAEVyE,EAAeC,GAAoBjE,oBAAS,IAC5CkE,EAAaC,GAAkBnE,mBAAS,KACxCoE,EAAiBC,GAAsBrE,mBAAS,KAChDsE,EAAaC,GAAkBvE,mBAAS,KAGxCwE,EAAcC,GAAmBzE,mBAAS,IAEjDM,oBAAU,KACR,MAAMoE,EAAelF,aAAaC,QAAQ,UAC1C,IAAKiF,EAGH,OAFAC,MAAM,8DACNrF,EAAS,WAGXiC,iBACE,IACE,MAAMqD,QAAiBC,yCAAyCH,KAChE,IAAKE,EAASE,GAAI,MAAM,IAAIC,MAAM,6BAClC,MAAMC,QAAoBJ,EAASK,OACnCpB,EAAQmB,GACR,MAAOrD,GACPH,QAAQG,MAAM,4BAA6BA,GAC5C,QACCoC,GAAW,IAGfmB,IACC,CAAC5F,IAEJgB,oBAAU,KACJsD,IACFf,EAAiBe,EAAKhB,eAAiB,IACvCG,EAAWa,EAAKd,SAAW,IAC3BG,EAAQW,EAAKZ,MAAQ,IACrBG,EAAeS,EAAKV,aAAe,IACnCG,EAAoBO,EAAKR,kBAAoB,IAC7CG,EAAWK,EAAKN,UAAW,GACvBM,EAAKpB,gBACPC,EAAkBmB,EAAKpB,kBAG1B,CAACoB,IAEJ,MAAMuB,EAASvB,EAAQA,EAAKwB,IAAMxB,EAAKyB,IAAO,KA4P9C,GArDA/E,oBAAU,KAgDJsD,GAAQA,EAAK0B,cA/CjB/D,iBACE,IACE,MAAMqD,QAAiBC,MAAM,yCAC7B,GAAID,EAASE,GAAI,CACf,MAEMS,SAFaX,EAASK,QAECO,OAC3BC,GAAQA,EAAK7B,OAASA,EAAK0B,cAAgC,aAAhBG,EAAKC,QAElD,IAAIC,EAAS,GACTJ,EAAgBK,QAAU,GAC5BD,EAAOE,KAAK,oBAEVN,EAAgBK,QAAU,IAC5BD,EAAOE,KAAK,mBAEKN,EAAgBO,OAAO,CAACC,EAAKN,IAASM,GAAON,EAAKO,OAAS,GAAI,IAChE,KAChBL,EAAOE,KAAK,eAEd,MAAMpF,EAAM,IAAIL,KACV6F,EAAYxF,EAAIyF,SAChBC,EAA6B,IAAdF,EAAkB,EAAIA,EACrCG,EAAS,IAAIhG,KAAKK,GACxB2F,EAAOC,QAAQ5F,EAAI6F,UAAYH,EAAe,GAC9CC,EAAOG,SAAS,EAAG,EAAG,EAAG,GACzB,MAAMC,EAAS,IAAIpG,KAAKgG,GACxBI,EAAOH,QAAQD,EAAOE,UAAY,GAClC,MAAMG,EAAkBlB,EAAgBC,OAAOC,IAC7C,MAAMiB,EAAW,IAAItG,KAAKqF,EAAKkB,WAC/B,OAAOD,GAAYN,GAAUM,GAAYF,IAEvCC,EAAgBb,OAAS,GACLa,EAAgBX,OACpC,CAACc,EAAKnB,IAAUA,EAAKO,OAASY,EAAIZ,OAAS,GAAKP,EAAOmB,EACvD,IAEgBhD,OAASA,EAAK0B,cAC9BK,EAAOE,KAAK,gBAGhBpB,EAAgBkB,IAElB,MAAOhE,GACPH,QAAQG,MAAM,yCAA0CA,IAI1DkF,IAED,CAACjD,IAEAE,EAAS,OAAO5E,IAAAC,cAAA,SAAG,wBACvB,IAAKyE,EAAM,OAAO1E,IAAAC,cAAA,SAAG,2BAkBrB,OACED,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QALpBwB,IAAM5B,EAAS,MAMrBJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,WAEtClC,IAAAC,cAAA,UAAI,WACJD,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,UAAW,YACpB5H,IAAAC,cAAA,UAAQkC,MAAO,CAAEyF,MAAO,YAC9BlD,EAAKmD,UAAY,IAAMnD,EAAKoD,UAAY,gBAClC,KAGX9H,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,OACE8H,IAxGeC,MACzB,IAAIC,EAAU3E,EAId,OAHK2E,GAAWvD,GAAQA,EAAKpB,iBAC3B2E,EAAUvD,EAAKpB,gBAEb2E,GAAWA,EAAQC,SACrBD,EAAUA,EAAQC,QAAQ,MAAO,MACrBC,WAAW,oCACWF,IAE3BA,EAEF,uBA4FQD,GACLI,IAAI,UACJlI,UAAU,cACViC,MAAO,CAAEC,MAAO,QAASiG,OAAQ,QAASC,UAAW,WAEvDtI,IAAAC,cAAA,SAAOsI,KAAK,OAAOC,OAAO,UAAUC,SApQnBC,IACzB,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAC5BF,IACFlF,EAAsBkF,GACtBpF,EAAkBuF,IAAIC,gBAAgBJ,MAgQiCzI,UAAU,iBAG7EF,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,aACPD,IAAAC,cAAA,SACED,IAAAC,cAAA,KAAGkC,MAAO,CAAE6G,SAAU,SAAUpB,MAAO,YACpClD,EAAKuE,UAAY,aAKxBjJ,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,UACPD,IAAAC,cAAA,KAAGkC,MAAO,CAAE6G,SAAU,OAAQpB,MAAO,YAClClD,EAAKwE,OAAS,qBAAqB,KAAElJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,YAAW,UAAQ,MAIzFlC,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,mBACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOzF,EACP+E,SApRgBC,GAAU/E,EAAiB+E,EAAME,OAAOO,OAqRxDC,YAAY,+BACZjH,MAAO,CAAEkH,UAAW,YAEtBrJ,IAAAC,cAAA,UAAQO,QAtRI6B,UACpB,GAAIQ,OAAOyG,QAAUzG,OAAOyG,OAAOC,UACjC,IACE,MACMC,SADiB3G,OAAOyG,OAAOG,WACVD,UAAUE,WACrCpH,QAAQC,IAAI,6BAA8BiH,GAC1C7F,EAAiB6F,GACjB,MAAO/G,GACPH,QAAQG,MAAM,sCAAuCA,QAGvDgD,MAAM,0EA2QgCvF,UAAU,OAAM,2BAKlDF,IAAAC,cAAA,OAAKC,UAAU,YAAYiC,MAAO,CAAEwH,QAAS,OAAQC,cAAe,SAAUC,WAAY,WACxF7J,IAAAC,cAAA,aAAO,qBACPD,IAAAC,cAAA,SACEsI,KAAK,WACLuB,QAAS1F,EACTqE,SAAWsB,GAAM1F,EAAW0F,EAAEnB,OAAOkB,WACrC9J,IAAAC,cAAA,KAAGkC,MAAO,CAAC6G,SAAU,UAAU,6BAGnChJ,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,gBACPD,IAAAC,cAAA,SAAG,SAAOyE,EAAKsF,OAAS,GACxBhK,IAAAC,cAAA,SAAG,QAAMyE,EAAKuF,KAAO,IAGvBjK,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,oBACPD,IAAAC,cAAA,SAAIyE,EAAKwF,KAAOxF,EAAKwF,KAAO,eAG9BlK,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,+BACPD,IAAAC,cAAA,cACmCkK,IAAhCzF,EAAK0F,uBACF1F,EAAK0F,uBACJ1F,EAAK2F,WAAaC,MAAMC,QAAQ7F,EAAK2F,WAClC3F,EAAK2F,UAAU/D,OAAOkE,GAAMA,EAAGC,UAAU/D,OACzC,IAIZ1G,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,6BACPD,IAAAC,cAAA,cACqCkK,IAAlCzF,EAAKgG,yBACFhG,EAAKgG,yBACJhG,EAAKiG,aAAeL,MAAMC,QAAQ7F,EAAKiG,aACpCjG,EAAKiG,YAAYrE,OAAOsE,GAAkB,aAAbA,EAAEpE,QAAuBE,OACtD,IAIZ1G,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,qBACPD,IAAAC,cAAA,SAAIyE,EAAKmG,aAAeP,MAAMC,QAAQ7F,EAAKmG,aAAenG,EAAKmG,YAAYnE,OAAS,IAItF1G,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,mCACNqF,GAAgBA,EAAaoB,OAAS,EACrC1G,IAAAC,cAAA,UACGqF,EAAawF,IAAI,CAACC,EAAOC,IACxBhL,IAAAC,cAAA,MAAIgL,IAAKD,GAAOhL,IAAAC,cAAA,cAAS8K,MAI7B/K,IAAAC,cAAA,SAAG,SAKPD,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,0BACjC5H,IAAAC,cAAA,UAvIiB,CAC3B,CAAEiG,GAAI,EAAGhD,KAAM,oBAAqBgI,YAAa,4BACjD,CAAEhF,GAAI,EAAGhD,KAAM,eAAgBgI,YAAa,kBAC5C,CAAEhF,GAAI,EAAGhD,KAAM,eAAgBgI,YAAa,8BAC5C,CAAEhF,GAAI,EAAGhD,KAAM,gBAAiBgI,YAAa,4BAoIXJ,IAAKC,GACzB/K,IAAAC,cAAA,MAAIgL,IAAKF,EAAM7E,IACblG,IAAAC,cAAA,cAAS8K,EAAM7H,MAAc,KAAG6H,EAAMG,gBAK9ClL,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,wBACjC5H,IAAAC,cAAA,UA1Ie,CACzB,CAAEiG,GAAI,EAAGhD,KAAM,YAAagI,YAAa,kCACzC,CAAEhF,GAAI,EAAGhD,KAAM,iBAAkBgI,YAAa,cAC9C,CAAEhF,GAAI,EAAGhD,KAAM,YAAagI,YAAa,eACzC,CAAEhF,GAAI,EAAGhD,KAAM,gBAAiBgI,YAAa,sCAuIbJ,IAAKC,GACvB/K,IAAAC,cAAA,MAAIgL,IAAKF,EAAM7E,IACblG,IAAAC,cAAA,cAAS8K,EAAM7H,MAAc,KAAG6H,EAAMG,iBAOhDlL,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,2BACPD,IAAAC,cAAA,SAAIyE,EAAKyG,cAAgB,oBAG3BnL,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,qBACNyE,EAAK0G,iBAAmB1G,EAAK0G,gBAAgB1E,OAAS,EACrD1G,IAAAC,cAAA,UACGyE,EAAK0G,gBAAgBN,IAAI,CAACO,EAAOL,IAChChL,IAAAC,cAAA,MAAIgL,IAAKD,GAAQK,KAIrBrL,IAAAC,cAAA,SAAG,wBAIPD,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,oBACNyE,EAAK4G,gBAAkB5G,EAAK4G,eAAe5E,OAAS,EACnD1G,IAAAC,cAAA,UACGyE,EAAK4G,eAAeR,IAAI,CAACO,EAAOL,IAC/BhL,IAAAC,cAAA,MAAIgL,IAAKD,GAAQK,KAIrBrL,IAAAC,cAAA,SAAG,uBAIPD,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,qBACPD,IAAAC,cAAA,SAAG,IAAEyE,EAAK6G,MAAQ,aAGpBvL,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,YACPD,IAAAC,cAAA,UACEkJ,MAAOvF,EACP6E,SAAWsB,GAAMlG,EAAWkG,EAAEnB,OAAOO,OACrChH,MAAO,CAAEkH,UAAW,SAAUzB,MAAO,OAAQ4D,gBAAiB,mBAC9DtL,UAAU,OAEVF,IAAAC,cAAA,UAAQkJ,MAAM,IAAG,uBAChBnG,EAAU8H,IAAI,CAACW,EAAaT,IAC3BhL,IAAAC,cAAA,UAAQgL,IAAKD,EAAO7B,MAAOsC,GACxBA,MAMTzL,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,SACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOrF,EACP2E,SAAWsB,GAAMhG,EAAQgG,EAAEnB,OAAOO,OAClCC,YAAY,kBACZjH,MAAO,CAAEkH,UAAW,aAIxBrJ,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,iBACPD,IAAAC,cAAA,UACEkJ,MAAOjF,EACPuE,SAAWsB,GAAM5F,EAAoB4F,EAAEnB,OAAOO,OAC9ChH,MAAO,CAAEkH,UAAW,SAAUmC,gBAAiB,kBAAmB5D,MAAO,QACzE1H,UAAU,OAEVF,IAAAC,cAAA,UAAQkJ,MAAM,IAAG,uBAChBlG,EAAa6H,IAAI,CAACY,EAAMV,IACvBhL,IAAAC,cAAA,UAAQgL,IAAKD,EAAO7B,MAAOuC,EAAKvI,WAC7BuI,EAAKxI,KAAK,KAAGwI,EAAKvI,UAAU,QAMrCnD,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,iBACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOnF,EACPyE,SAAWsB,GAAM9F,EAAe8F,EAAEnB,OAAOO,OACzCC,YAAY,qCACZjH,MAAO,CAAEkH,UAAW,aAIxBrJ,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,aAAO,gCACPD,IAAAC,cAAA,SACGyE,EAAKiH,gBAAkB,WAAa,aAAc,IACnD3L,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAYwC,EAAKiH,gBAAkB,WAAa,WAC9DjH,EAAKiH,gBAAkB,SAAM,kBAKpC3L,IAAAC,cAAA,OAAKC,UAAU,YAAYiC,MAAO,CAAEwH,QAAS,OAAQC,cAAe,SAAUC,WAAY,WACxF7J,IAAAC,cAAA,aAAO,6BACPD,IAAAC,cAAA,OAAKkC,MAAO,CAACyF,MAAO,UAClB5H,IAAAC,cAAA,SACEsI,KAAK,WACLuB,QAASxF,EACTmE,SAAWsB,GAAMxF,EAAsBwF,EAAEnB,OAAOkB,WAChD9J,IAAAC,cAAA,WAAM,iBAGVD,IAAAC,cAAA,WACED,IAAAC,cAAA,SACEsI,KAAK,WACLuB,QAAStF,EACTiE,SAAWsB,GAAMtF,EAAsBsF,EAAEnB,OAAOkB,WAChD9J,IAAAC,cAAA,KAAGkC,MAAO,CAAC6G,SAAU,UAAU,oBAIrChJ,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,UAAI,qBACJD,IAAAC,cAAA,SAAG,8CACHD,IAAAC,cAAA,SAAG,qDACHD,IAAAC,cAAA,SAAG,iDACHD,IAAAC,cAAA,UAAQO,QAnbQ6B,UACxB,WACyBsD,yCAAyCM,SAAe,CAC7E2F,OAAQ,UAEGhG,GACXH,MAAM,8DAENA,MAAM,2BAER,MAAOhD,GACPH,QAAQG,MAAM,yBAA0BA,GACxCgD,MAAM,mDAuaoCvF,UAAU,OAAM,gBAGpDF,IAAAC,cAAA,UAAQO,QAASA,IAAMiF,MAAM,gCAAiCvF,UAAU,OAAM,uBAKhFF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,UAAQO,QA5aeqL,KAC/B9G,GAAiB,IA2akC7E,UAAU,OAAM,mBAGzD4E,GAAiBM,GAAepF,IAAAC,cAAA,KAAGC,UAAU,iBAAiBkF,GAChEpF,IAAAC,cAAA,UAAQO,QA/YK6B,UACrB,IACE,MAAMqD,QAAiBC,yCAAyCM,cAAoB,CAClF2F,OAAQ,SAENlG,EAASE,UACLF,EAASK,OACfN,MAAM,gGAENA,MAAM,wBAER,MAAOhD,GACPH,QAAQG,MAAM,wBAAyBA,GACvCgD,MAAM,6CAkYiCvF,UAAU,OAAM,yCAGhDwE,EAAKsF,OAAS,IACbhK,IAAAC,cAAA,UAAQO,QAlYG6B,UACrB,WACyBsD,yCAAyCM,cAAoB,CAClF2F,OAAQ,UAEGhG,GACXH,MAAM,2CAENA,MAAM,qCAER,MAAOhD,GACPH,QAAQG,MAAM,0BAA2BA,GACzCgD,MAAM,+CAsXmCvF,UAAU,OAAM,kBAMpD4E,GACC9E,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,QAAM6L,SAzbgBzJ,UAGhC,GAFA0H,EAAEgC,iBAEE/G,IAAgBE,EAKpB,IACE,MAAMQ,QAAiBC,yCAAyCM,mBAAyB,CACvF2F,OAAQ,MACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEpH,kBAEzB,GAAIU,EAASE,GACXP,EAAe,gCACfJ,EAAe,IACfE,EAAmB,IACnBJ,GAAiB,OACZ,CACL,MAAMsH,QAAkB3G,EAASK,OACjCV,+BAA4CgH,EAAUC,SAAW,oBAEnE,MAAO7J,GACPH,QAAQG,MAAM,4BAA6BA,GAC3C4C,EAAe,yDArBfA,EAAe,6BAsbLrF,IAAAC,cAAA,SACEsI,KAAK,WACLa,YAAY,eACZD,MAAOnE,EACPyD,SAAWsB,GAAM9E,EAAe8E,EAAEnB,OAAOO,OACzCoD,UAAQ,IAEVvM,IAAAC,cAAA,SACEsI,KAAK,WACLa,YAAY,mBACZD,MAAOjE,EACPuD,SAAWsB,GAAM5E,EAAmB4E,EAAEnB,OAAOO,OAC7CoD,UAAQ,IAEVvM,IAAAC,cAAA,UAAQsI,KAAK,SAASrI,UAAU,OAAM,UAGtCF,IAAAC,cAAA,UACEsI,KAAK,SACLrI,UAAU,MACVM,QAASA,KACPuE,GAAiB,GACjBM,EAAe,MAElB,WAIFD,GAAepF,IAAAC,cAAA,SAAImF,IAIxBpF,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,UAAQO,QA3hBQ6B,UACxB,IAAKuB,IAAYE,EAEf,YADA2B,MAAM,kCAGR,IAAKrB,EAEH,YADAqB,MAAM,sCAIR,MAAM+G,EAAW,IAAIC,SACrBD,EAASE,OAAO,gBAAiBhJ,GACjC8I,EAASE,OAAO,UAAW9I,GAC3B4I,EAASE,OAAO,OAAQ5I,GACxB0I,EAASE,OAAO,mBAAoBxI,GACpCsI,EAASE,OAAO,cAAe1I,GAC/BwI,EAASE,OAAO,UAAWtI,GAC3BoI,EAASE,OAAO,qBAAsBpI,GACtCkI,EAASE,OAAO,qBAAsBlI,GACtCgI,EAASE,OAAO,WAAYhI,EAAKuE,UAE7BzF,GACFgJ,EAASE,OAAO,iBAAkBlJ,GAGpC,IACE,MAAMkC,QAAiBC,yCAAyCM,IAAU,CACxE2F,OAAQ,MACRM,KAAMM,IAGR,GAAI9G,EAASE,GAAI,CACf,MAAM+G,QAAejH,EAASK,OAC9BpB,EAAQgI,EAAOjI,MACfe,MAAM,sCAENA,MAAM,6BAER,MAAOhD,GACPH,QAAQG,MAAM,0BAA2BA,GACzCgD,MAAM,oDAmfoCvF,UAAU,OAAM,gBAGpDF,IAAAC,cAAA,UAAQO,QArlBGoM,KACnBtM,aAAauM,WAAW,QACxBvM,aAAauM,WAAW,UACxBpH,MAAM,4BACNrF,EAAS,WAilB8BF,UAAU,qBAAoB,UAG7DF,IAAAC,cAAA,UAAQO,QAjlBU6B,UAC1B,GACEQ,OAAOiK,QACL,+EAGF,WACyBnH,yCAAyCM,IAAU,CACxE2F,OAAQ,YAEGhG,IACXH,MAAM,iCACNrF,EAAS,YAETqF,MAAM,6BAER,MAAOhD,GACPH,QAAQG,MAAM,0BAA2BA,GACzCgD,MAAM,oDA+jBoCvF,UAAU,oBAAoBiC,MAAO,CAAEyF,MAAO,QAAS,6BCjgC1FmF,MA/BDA,KACZ,MAAM3M,EAAWC,cAMjB,OACEL,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QAPpBwB,KACZ5B,EAAS,OAOHJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,cAAa,WAE3ClC,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,UAAI,iCACJD,IAAAC,cAAA,SAAG,kKAGHD,IAAAC,cAAA,SAAG,iIAGHD,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,SAAG,6LAGHD,IAAAC,cAAA,SAAG,sFCTI+M,MAjBDA,IAEVhN,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,SAAG,kHAGHD,IAAAC,cAAA,SAAG,yKCSIgN,MAjBFA,IAETjN,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,UAAI,QACJD,IAAAC,cAAA,SAAG,kHAGHD,IAAAC,cAAA,SAAG,yKCSIiN,MAjBAA,IAEXlN,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,UAAI,cACJD,IAAAC,cAAA,SAAG,kHAGHD,IAAAC,cAAA,SAAG,yKCSIkN,MAjBCA,IAEZnN,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,UAAI,YACJD,IAAAC,cAAA,SAAG,kHAGHD,IAAAC,cAAA,SAAG,yKCNX,MAAMmN,EAAwBnE,IAE5B,SAAUA,KADStH,KAAK0L,SAAS3D,SAAS,IAAI4D,UAAU,EAAG,GAAGC,iBAK1DC,EAAuBA,KACpB,IAAItM,MAAOuM,mBAAmB,QAAS,CAAEC,SAAU,qBA47B7CC,MAz7BQA,KACrB,MAAMvN,EAAWC,eAGVuN,EAAeC,GAAoB/M,oBAAS,GACnDM,oBAAU,KAEoB,SADAd,aAAaC,QAAQ,kBAE/CsN,GAAiB,IAElB,IAGH,MAAO5E,EAAU6E,GAAehN,mBAAS,KAClCiN,EAAaC,GAAkBlN,mBAAS,KAC7C,MAAMmN,EAAQC,eAAe3N,QAAQ,eAC/B4N,EAAQX,IACd,GAAIS,EAAO,CACT,MAAMG,EAAUjC,KAAKkC,MAAMJ,GAC3B,GAAIG,EAAQE,mBAAqBH,EAAO,CACtC,MAAMI,EAAsBH,EAAQnF,UAAY,QAChDmF,EAAQhI,aAAegH,EAAqBmB,GAC5CH,EAAQE,iBAAmBH,EAE7B,OAAOC,EAEP,MAAO,CACLI,aAAc,EACd/H,OAAQ,GACRwC,SAAU,GACV7C,aAAcgH,EAAqB,SACnCkB,iBAAkBH,KAIxB/M,oBAAU,KACR8M,eAAexN,QAAQ,cAAeyL,KAAKC,UAAU2B,KACpD,CAACA,IAGJ,MAAOU,EAAeC,GAAoB5N,mBAAS,OAC5C6N,EAAcC,GAAmB9N,mBAAS,OAC1C+N,EAAcC,GAAmBhO,mBAAS,MAGjDM,oBAAU,KACR,MAAMoE,EAAelF,aAAaC,QAAQ,UAC1C,IAAKiF,EAGH,OAFAlD,QAAQyM,KAAK,0CACbjB,EAAY,IAGdnI,yCAAyCH,KACtCwJ,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACL5M,QAAQC,IAAI,qBAAsB2M,GAClCpB,EAAYoB,EAAKjG,UACjB,MAAMkF,EAAQX,IACdQ,EAAgBxL,GACVA,EAAK8L,mBAAqBH,EACrB,IAAK3L,EAAMyG,SAAUiG,EAAKjG,UAE1B,IACFzG,EACHyG,SAAUiG,EAAKjG,SACf7C,aAAcgH,EAAqB8B,EAAKjG,UACxCqF,iBAAkBH,MAKzBgB,MAAOC,GAAQ9M,QAAQG,MAAM,4BAA6B2M,KAC5D,IAGHhO,oBAAU,KACJ6H,GAAyB,UAAbA,GAAwB8E,EAAY3H,aAAa+B,WAAW,YAAcwG,GACxFX,EAAgBxL,IAAI,IACfA,EACH4D,aAAcgH,EAAqBnE,GACnCqF,iBAAkBd,QAGrB,CAACvE,EAAU8E,EAAY3H,aAAcuI,IAGxC,MAAOU,EAAoBC,GAAyBxO,mBAAS,IACtD6J,EAAa4E,GAAkBzO,mBAAS,KACxC0O,EAAoBC,GAAyB3O,mBAAS,KACtD4O,EAAeC,GAAoB7O,mBAAS,CACjD8O,KAAM,GACNrH,KAAM,SACNI,KAAM,KACNkH,MAAO,QAEFC,EAAeC,GAAoBjP,mBAAS,KAE5CkP,EAAYC,GAAiBnP,mBAAS,CAC3CoP,aAAc,GACdC,cAAe,IACfC,SAAU,EACVC,UAAW,KAENC,EAAYC,GAAiBzP,mBAAS,KACtC0P,EAAaC,GAAkB3P,mBAAS,IAIxC4P,EAAeC,GAAoB7P,mBAAS,MAG7C8P,EAAaC,iBAAO,MAC1BzP,oBAAU,KACRwP,EAAWE,QAAU,IAAIC,iBAAiB,uBAC1CH,EAAWE,QAAQE,UAAatI,KACN,WAApBA,EAAMwG,KAAK3G,MACbgH,EAAe7G,EAAMwG,KAAKvE,eAGvB,KACLiG,EAAWE,QAAQ9O,UAEpB,IAEH,MAAMiP,EAAmB5O,UACvB,IACE,MAAMqD,QAAiBC,MAAM,yCACvBuJ,QAAaxJ,EAASK,OAC5BwJ,EAAeL,GACf,MAAOzM,GACPH,QAAQG,MAAM,8BAA+BA,KAGjDrB,oBAAU,KACR6P,KACC,IAGH7P,oBAAU,KACJwM,GACFjI,MAAM,iDACHqJ,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACL5M,QAAQC,IAAI,2CAA4C2M,GACxDO,EAAsBP,KAEvBC,MAAOC,GAAQ9M,QAAQG,MAAM,sCAAuC2M,KAExE,CAACxB,IAIJ,MAGMsD,EAA2BA,KAC/B,MAAM/C,EAAQX,IACR2D,EAAsB,IAAIC,OAAO,IAAMrD,EAAY9E,SAAW,KACpE,OAAO0B,EAAYrE,OAChBC,GACC,IAAIrF,KAAKqF,EAAKkB,WAAWgG,mBAAmB,QAAS,CAAEC,SAAU,uBAA0BS,GAC3FgD,EAAoBE,KAAK9K,EAAK7B,OAChCgC,QAIE4K,EAAqBvH,IACzB,MAAM7G,KAAEA,EAAIiG,MAAEA,GAAUY,EAAEnB,OAC1B+G,EAAiB,IAAKD,EAAe6B,CAACrO,GAAOiG,KA0F/C/H,oBAAU,KACJ2M,EAAY3H,cACdT,uEAAuEoI,EAAY3H,gBAChF4I,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACDA,EAAKsC,MACP5C,EAAgBM,EAAKsC,KACrB7B,EAAkBnN,IAAI,IAAWA,EAAMmG,KAAMuG,EAAKsC,UAGrDrC,MAAOC,GAAQ9M,QAAQG,MAAM2M,KAEjC,CAACrB,EAAY3H,eA8DhBhF,oBAAU,KACR,IAAIqF,EAAS,GACb,MAAM0K,EAAsB,IAAIC,OAAO,IAAMrD,EAAY9E,SAAW,KAC9D5C,EAAkBsE,EAAYrE,OAAOC,GAAQ4K,EAAoBE,KAAK9K,EAAK7B,OAC7E2B,EAAgBK,QAAU,GAC5BD,EAAOE,KAAK,oBAEVN,EAAgBK,QAAU,IAC5BD,EAAOE,KAAK,mBAEKN,EAAgBO,OAAO,CAACC,EAAKN,IAASM,GAAON,EAAKO,OAAS,GAAI,IAChE,KAChBL,EAAOE,KAAK,eAEd,MAAMpF,EAAM,IAAIL,KACV6F,EAAYxF,EAAIyF,SAChBC,EAA6B,IAAdF,EAAkB,EAAIA,EACrCG,EAAS,IAAIhG,KAAKK,GACxB2F,EAAOC,QAAQ5F,EAAI6F,UAAYH,EAAe,GAC9CC,EAAOG,SAAS,EAAG,EAAG,EAAG,GACzB,MAAMC,EAAS,IAAIpG,KAAKgG,GACxBI,EAAOH,QAAQD,EAAOE,UAAY,GAClC,MAAMG,EAAkBoD,EAAYrE,OAAOC,IACzC,MAAMiB,EAAW,IAAItG,KAAKqF,EAAKkB,WAC/B,OAAOD,GAAYN,GAAUM,GAAYF,IAE3C,GAAIC,EAAgBb,OAAS,EAAG,CAC9B,MAAM+K,EAAgBlK,EAAgBX,OAAO,CAACc,EAAKnB,IAAUA,EAAKO,OAASY,EAAIZ,OAAS,GAAKP,EAAOmB,EAAM,IACtGyJ,EAAoBE,KAAKI,EAAc/M,OACzC+B,EAAOE,KAAK,gBAGhBqH,EAAgBxL,IAAI,IAAWA,EAAMiE,aACpC,CAACkE,EAAaoD,EAAY9E,WA2P7B7H,oBAAU,IACD,KACDuN,GAAc7F,IAAI4I,gBAAgB/C,GAClCE,GAAc/F,IAAI4I,gBAAgB7C,IAEvC,CAACF,EAAcE,IA2KlB,OACE7O,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,OAAKC,UAAU,4BACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QA5KpBwB,KACZ5B,EAAS,OA4KHJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,cAAa,WAE3ClC,IAAAC,cAAA,WAEC2N,GACC5N,IAAAC,cAAAD,IAAA2R,SAAA,KACE3R,IAAAC,cAAA,UAAQO,QA5PiB6B,UACjC,GAAKQ,OAAOiK,QAAQ,oDACpB,IACE,MAAMpH,QAAiBC,MAAM,mDAAoD,CAC/EiG,OAAQ,SACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEwF,OAAO,MAE1B1C,QAAaxJ,EAASK,OAC5B,IAAKL,EAASE,GACZ,MAAM,IAAIC,MAAMqJ,EAAKzM,OAAS,qCAEhCsN,EAAiBb,EAAK5C,SACtB2E,IACA,MAAOxO,GACPsN,EAAiB,mCAAqCtN,EAAM6J,WA6OTpM,UAAU,OAAM,0BAG7DF,IAAAC,cAAA,OAAKC,UAAU,wBACbF,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,SAAG,oFAITD,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,SAAG,8EAEHD,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,SAAGD,IAAAC,cAAA,cAAQ,cACXD,IAAAC,cAAA,KAAGkC,MAAO,CAAEyF,MAAO,UAAWoB,SAAU,WACtChJ,IAAAC,cAAA,cAASgJ,GAAsB,kBAEjCjJ,IAAAC,cAAA,SAAGD,IAAAC,cAAA,cAAQ,kBAAuB,IAAE8N,EAAYS,aAAa,SAC7DxO,IAAAC,cAAA,SACED,IAAAC,cAAA,cAAQ,WAAiB,IACxB8N,EAAYtH,OAAOC,OAAS,EAAIqH,EAAYtH,OAAOoL,KAAK,MAAQ,QAEnE7R,IAAAC,cAAA,SAAGD,IAAAC,cAAA,cAAQ,YAAiB,IAAE8N,EAAY3H,eAE5CpG,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,YACEiD,KAAK,OACLkG,YAAY,gDACZD,MAAOuG,EAAcE,KACrBnH,SAAU6I,EACVpR,UAAU,eAEZF,IAAAC,cAAA,SAAIyP,EAAcE,KAAKkC,OAAOC,MAAM,OAAOrL,OAAO,eAClD1G,IAAAC,cAAA,UAAI,2CACJD,IAAAC,cAAA,UACEiD,KAAK,OACLiG,MAAOuG,EAAcnH,KACrBE,SAAU6I,EACVpR,UAAU,mBACViC,MAAO,CAAEkH,UAAW,WAEpBrJ,IAAAC,cAAA,UAAQkJ,MAAM,UAAS,UACvBnJ,IAAAC,cAAA,UAAQkJ,MAAM,aAAY,cAE5BnJ,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,SAAOsI,KAAK,OAAOC,OAAO,UAAUC,SAnqBnBpG,UACvB,GAAI0H,EAAEnB,OAAOC,MAAMnC,OAAS,EAAG,CAC7B,MAAMiC,EAAOoB,EAAEnB,OAAOC,MAAM,GAE5B,IADwB,CAAC,aAAc,YAAa,aAC/BmJ,SAASrJ,EAAKJ,MAIjC,OAHAwH,EAAiB,kDACjBJ,EAAiB,IAAKD,EAAe/G,KAAM,YAC3CiG,EAAgB,MAGlB,MAAMpC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS/D,GACzB6D,EAASE,OAAO,eAAgBqB,EAAY3H,cAC5C,IACE,MAAMV,QAAiBC,MAAM,0DAA2D,CACtFiG,OAAQ,OACRM,KAAMM,IAEF0C,QAAaxJ,EAASK,OACxBL,EAASE,IACXgJ,EAAgBM,EAAKsC,KACrB7B,EAAkBnN,IAAI,IAAWA,EAAMmG,KAAMuG,EAAKsC,QAElDzB,EAAiBb,EAAKzM,OAAS,0BAEjC,MAAOA,GACPH,QAAQG,MAAMA,GACdsN,EAAiB,+CAwoBiD7P,UAAU,gBACzEyO,GACC3O,IAAAC,cAAA,OAAKC,UAAU,gBAAgBiC,MAAO,CAAEwH,QAAS,OAAQsI,eAAgB,SAAUC,UAAW,SAC5FlS,IAAAC,cAAA,OACE8H,IAAK4G,EACLvG,IAAI,UACJ+J,cAAgBpI,GAAMA,EAAEgC,iBACxBqG,UAAU,QACVjQ,MAAO,CAAEkQ,SAAU,QAASC,UAAW,YAI7CtS,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,SAAOsI,KAAK,OAAOC,OAAO,UAAUC,SA/oBjBsB,IACzB,GAAIA,EAAEnB,OAAOC,MAAMnC,OAAS,EAAG,CAC7B,MAAMiC,EAAOoB,EAAEnB,OAAOC,MAAM,GAE5B,IADwB,CAAC,YAAa,aAAc,aAC/BmJ,SAASrJ,EAAKJ,MAIjC,OAHAwH,EAAiB,kDACjBJ,EAAiB,IAAKD,EAAeG,MAAO,YAC5Cf,EAAgB,MAGlB,MAAMyD,EAAWzJ,IAAIC,gBAAgBJ,GAC/B6J,EAAeC,SAASxS,cAAc,SAC5CuS,EAAaE,QAAU,WACvBF,EAAazK,IAAMwK,EACnBC,EAAaG,iBAAmBtQ,WAE9B,GADAQ,OAAOiG,IAAI4I,gBAAgBa,GACvBC,EAAaI,SAAW,GAC1B7C,EAAiB,qCACjBJ,EAAiB,IAAKD,EAAeG,MAAO,OAC5Cf,EAAgB,UACX,CACL,MAAMtC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS/D,GACzB6D,EAASE,OAAO,eAAgBqB,EAAY3H,cAC5C9D,QAAQC,IAAI,sBACZ,IACE,MAAMmD,QAAiBC,MAAM,0DAA2D,CACtFiG,OAAQ,OACRM,KAAMM,IAEF0C,QAAaxJ,EAASK,OAC5BzD,QAAQC,IAAI,yBAA0B2M,GAClCxJ,EAASE,IACXkJ,EAAgBI,EAAKsC,KACrB7B,EAAkBnN,IAAI,IAAWA,EAAMqN,MAAOX,EAAKsC,OACnDzB,EAAiB,MAEjBA,EAAiBb,EAAKzM,OAAS,0BAC/BkN,EAAkBnN,IAAI,IAAWA,EAAMqN,MAAO,QAC9Cf,EAAgB,OAElB,MAAOrM,GACPH,QAAQG,MAAM,gBAAiBA,GAC/BsN,EAAiB,4CACjBJ,EAAkBnN,IAAI,IAAWA,EAAMqN,MAAO,QAC9Cf,EAAgB,YAkmB+C5O,UAAU,gBAC1E2O,GACC7O,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,SACEmC,MAAM,MACNyQ,UAAQ,EACRV,cAAgBpI,GAAMA,EAAEgC,iBACxB+G,aAAa,cAEb9S,IAAAC,cAAA,UAAQ8H,IAAK8G,EAActG,KAAK,cAAc,iDAKpDvI,IAAAC,cAAA,UAAQO,QA1lBS6B,UAEvB,GADkBqN,EAAcE,KAAKkC,OAAOC,MAAM,OAAOrL,OACzC,GAEd,YADAqJ,EAAiB,yCAInB,GAAImB,KA/HuB,EAiIzB,YADAnB,EAAiB,8CAGnB,GACGL,EAAc/G,MAAsC,kBAAvB+G,EAAc/G,MAC3C+G,EAAcG,OAAwC,kBAAxBH,EAAcG,MAG7C,YADAE,EAAiB,yDAGnB,GAA2B,WAAvBL,EAAcnH,OAAsBU,EAEtC,YADA8G,EAAiB,oDAGnB,MAAMgD,EAAiB,CACrBnD,KAAMF,EAAcE,KACpBrH,KAAMmH,EAAcnH,KACpB7D,KAAMqJ,EAAY3H,aAClBI,OAAQ,WAEiB,WAAvBkJ,EAAcnH,OAChBwK,EAAe9J,SAAWA,GAExByG,EAAc/G,OAChBoK,EAAepK,KAAO+G,EAAc/G,MAElC+G,EAAcG,QAChBkD,EAAelD,MAAQH,EAAcG,OAEvC,IACE,MAAMnK,QAAiBC,MAAM,wCAAyC,CACpEiG,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU2G,KAEjBpG,QAAejH,EAASK,OAC1BL,EAASE,IACXmK,EAAiB,+DACjBJ,EAAiB,CAAEC,KAAM,GAAIrH,KAAM,SAAUI,KAAM,KAAMkH,MAAO,OAChEjB,EAAgB,MAChBE,EAAgB,MAChBW,EAAuBjN,GAAS,CAACmK,EAAOqG,cAAexQ,KAEvDuN,EAAiBpD,EAAOlK,OAAS,gCAEnC,MAAOA,GACPH,QAAQG,MAAM,+BAAgCA,GAC9CsN,EAAiB,oDAmiBsB7P,UAAU,OAAM,qBAClD4P,GAAiB9P,IAAAC,cAAA,KAAGC,UAAU,kBAAkB4P,IAIlDlC,GAAiB4B,EAAmB9I,OAAS,GAjJhD1G,IAAAC,cAAA,OAAKC,UAAU,iCACbF,IAAAC,cAAA,UAAI,oCACHuP,EAAmB1E,IAAI,CAACvE,EAAMyE,IAC7BhL,IAAAC,cAAA,OAAKgL,IAAK1E,EAAKJ,KAAOI,EAAKL,GAAIhG,UAAU,2BACvCF,IAAAC,cAAA,SACED,IAAAC,cAAA,cACiB,cAAdsG,EAAKgC,KACF,wCACiBhC,EAAK0C,aAG9BjJ,IAAAC,cAAA,SAAIsG,EAAKqJ,MACRrJ,EAAKoC,MACJ3I,IAAAC,cAAA,OAAKC,UAAU,2BACbiC,MAAO,CACLwH,QAAS,OACTsI,eAAgB,SAChBpI,WAAY,SACZoJ,SAAU,SACVC,OAAQ,UACRb,SAAU,SAGZrS,IAAAC,cAAA,OACE8H,IAAKxB,EAAKoC,KACVP,IAAI,WACJ5H,QAASA,IAAMkO,EAAiBnI,EAAKoC,MACrCwJ,cAAgBpI,GAAMA,EAAEgC,iBACxBqG,UAAU,QACVjQ,MAAO,CAAE+Q,OAAQ,UAAWb,SAAU,WAI3C9L,EAAKsJ,OACJ7P,IAAAC,cAAA,OAAKC,UAAU,4BACbF,IAAAC,cAAA,SACE4S,UAAQ,EACRzQ,MAAM,MACN+P,cAAgBpI,GAAMA,EAAEgC,iBACxB+G,aAAa,aACbtS,QAASA,IAAMmQ,EAAiBpK,EAAKsJ,OACrC1N,MAAO,CAAE+Q,OAAQ,YAEjBlT,IAAAC,cAAA,UAAQ8H,IAAKxB,EAAKsJ,MAAOtH,KAAK,cAAc,iDAKlDvI,IAAAC,cAAA,OAAKC,UAAU,8BACbF,IAAAC,cAAA,UAAQO,QAASA,IAtNIwK,KAC/B,MAAMgI,EAAaxD,EAAmBxE,GACtCrF,uDAAuDqN,EAAW7M,KAAO6M,EAAW9M,KAAM,CACxF0F,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEwF,OAAO,MAE7B5C,KAAMC,GACAA,EAAIrJ,GAGFqJ,EAAIlJ,OAFFkJ,EAAIW,OAAOZ,KAAKY,IAAU,MAAM,IAAI/J,MAAM+J,iBAAsBX,EAAIzI,aAI9EwI,KAAME,IACL5M,QAAQC,IAAI,uBAAwB2M,GACpC,IAAIiE,EAAqBjE,EAAK8D,YACzBG,EAAmBxK,MAAQqK,EAAWrK,OACzCwK,EAAmBxK,KAAOqK,EAAWrK,MAEvC8G,EAAuBjN,GAASA,EAAK8D,OAAO,CAAC8M,EAAGC,IAAMA,IAAMrI,IAC5DuE,EAAgB/M,GAAS,CAAC2Q,KAAuB3Q,IACjDuN,EAAiB,uCAElBZ,MAAOC,IACN9M,QAAQG,MAAM,8BAA+B2M,GAC7CW,EAAiB,+BAAiCX,EAAI9C,YA6LzBgH,CAAwBtI,GAAQ9K,UAAU,OAAM,WACvEF,IAAAC,cAAA,UAAQO,QAASA,IA1LIwK,KAC/B,MAAMgI,EAAaxD,EAAmBxE,GACtCrF,uDAAuDqN,EAAW7M,KAAO6M,EAAW9M,KAAM,CACxF0F,OAAQ,SACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEwF,OAAO,MAE7B5C,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAK,KACJS,EAAuBjN,GAASA,EAAK8D,OAAO,CAAC8M,EAAGC,IAAMA,IAAMrI,IAC5D+E,EAAiB,0BAElBZ,MAAOC,IACN9M,QAAQG,MAAM,8BAA+B2M,GAC7CW,EAAiB,kCA4KYwD,CAAwBvI,GAAQ9K,UAAU,OAAM,eAiG7EF,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,sBACjC5H,IAAAC,cAAA,SAAG,OAAK+P,EAAWI,SAAS,2BAAyBJ,EAAWE,aAAa,eAC7ElQ,IAAAC,cAAA,SAAG,OAAK+P,EAAWK,UAAU,4BAA0BL,EAAWG,cAAc,gBAElFnQ,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,oBACjC5H,IAAAC,cAAA,SAAG,uBAAqB8N,EAAY3H,cACpCpG,IAAAC,cAAA,UAAQC,UAAU,MAAMM,QAASA,KAC7BgT,UAAUC,UAAUC,UAAU3F,EAAY3H,cAC1C2J,EAAiB,2BAChB,uBAIP/P,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,mBAChC+C,EAAYjE,OAAS,EA/QJiN,MACxB,MACMC,EAAoB,IADEjJ,EAAYrE,OAAOC,GAAwB,YAAhBA,EAAKC,SACTqN,KAAK,CAACC,EAAGC,KAC1D,MAAMC,EAAWF,EAAEG,cAAgBH,EAAEG,aAAe/S,KAAKK,MAAQ,EAAI,EAErE,OADiBwS,EAAEE,cAAgBF,EAAEE,aAAe/S,KAAKK,MAAQ,EAAI,GACnDyS,IAEdE,EAAavS,KAAKwS,KAAKP,EAAkBlN,OAjhBtB,IAkhBnB0N,EAlhBmB,IAkhBL5D,EAAc,GAC5B6D,EAAuBT,EAAkBU,MAAMF,EAAYA,EAnhBxC,IAohBzB,OACEpU,IAAAC,cAAAD,IAAA2R,SAAA,KACG0C,EAAqBvJ,IAAKvE,GACzBvG,IAAAC,cAAA,OAAKgL,IAAK1E,EAAKJ,KAAOI,EAAKL,GAAIhG,UAAU,mBACtCqG,EAAKgO,OACJvU,IAAAC,cAAA,SAAG,4DAEHD,IAAAC,cAAAD,IAAA2R,SAAA,KACE3R,IAAAC,cAAA,SACED,IAAAC,cAAA,cACiB,cAAdsG,EAAKgC,KACF,wCACiBhC,EAAK0C,aAG9BjJ,IAAAC,cAAA,SAAIsG,EAAKqJ,MACRrJ,EAAKoC,MACJ3I,IAAAC,cAAA,OAAKC,UAAU,mCACbF,IAAAC,cAAA,OACE8H,IAAKxB,EAAKoC,KACVP,IAAI,wBACJlI,UAAU,iBACVM,QAASA,IAAMkO,EAAiBnI,EAAKoC,MACrCwJ,cAAgBpI,GAAMA,EAAEgC,iBACxBqG,UAAU,QACVjQ,MAAO,CAAE+Q,OAAQ,UAAWb,SAAU,OAAQC,UAAW,YAI9D/L,EAAKsJ,OACJ7P,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,SACE4S,UAAQ,EACRzQ,MAAM,MACN+P,cAAgBpI,GAAMA,EAAEgC,iBACxBvL,QAASA,IAAMmQ,EAAiBpK,EAAKsJ,OACrC1N,MAAO,CAAE+Q,OAAQ,WACjBJ,aAAa,cAEb9S,IAAAC,cAAA,UAAQ8H,IAAKxB,EAAKsJ,MAAOtH,KAAK,cAAc,iDAKlDvI,IAAAC,cAAA,OAAKC,UAAU,sBACbF,IAAAC,cAAA,UAAQO,QAASA,IA3TP0F,KACxB,IAAIzD,EAAQ,GACZ,MAAM+R,EAAiB7J,EAAYG,IAAKvE,IAEtC,IADeA,EAAKJ,KAAOI,EAAKL,MACjBA,EAAI,CAIjB,GAHKK,EAAKkO,YACRlO,EAAKkO,UAAY,IAEflO,EAAKkO,UAAUzC,SAASjE,EAAY3H,cAEtC,OADA3D,EAAQ,4CACD8D,EAET,MAAMmO,EAAmB,IAAInO,EAAKkO,UAAW1G,EAAY3H,cACzD,MAAO,IAAKG,EAAMO,MAAOP,EAAKO,MAAQ,EAAG2N,UAAWC,GAEtD,OAAOnO,IAEL9D,EACF8N,EAAe/N,IAAI,IAAWA,EAAM+O,CAACrL,GAAKzD,MAG1C8N,EAAe/N,IACb,MAAMmS,EAAY,IAAKnS,GAEvB,cADOmS,EAAUzO,GACVyO,IAGXpF,EAAeiF,GACX5D,EAAWE,SACbF,EAAWE,QAAQ8D,YAAY,CAC7BrM,KAAM,SACNoC,YAAa6J,IAIjB7O,+CAA+CO,WAAa,CAC1D0F,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE1H,KAAMqJ,EAAY3H,iBAExC4I,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACL,GAAIA,EAAKzM,MACP8N,EAAe/N,IAAI,IAAWA,EAAM+O,CAACrL,GAAKgJ,EAAKzM,SAC/CH,QAAQG,MAAMyM,EAAKzM,WACd,CACL,MAAMoS,EAAoB3F,EAAK8D,WAC/BzD,EAAgBuF,GACdA,EAAgBhK,IAAKvE,IAClBA,EAAKJ,KAAOI,EAAKL,MAAQA,EAAK2O,EAAoBtO,OAK1D4I,MAAOC,IACN9M,QAAQG,MAAM,kCAAmC2M,OAoQhB2F,CAAiBxO,EAAKJ,KAAOI,EAAKL,KAAK,UAC9DlG,IAAAC,cAAA,WACAD,IAAAC,cAAA,YAAOsG,EAAKO,MAAM,UACjBwJ,EAAW/J,EAAKJ,KAAOI,EAAKL,KAC3BlG,IAAAC,cAAA,KAAGC,UAAU,iBAAiBoQ,EAAW/J,EAAKJ,KAAOI,EAAKL,MAE1DK,EAAK7B,OAASqJ,EAAY3H,cAAgBwH,IAC1C5N,IAAAC,cAAA,UAAQC,UAAU,MAAMM,QAASA,IAvQ1B6B,WACvB,MAAMkE,EAAOoE,EAAYqK,KAAMpK,IAAOA,EAAEzE,KAAOyE,EAAE1E,MAAQA,GACzD,GAAKK,EACL,GAAKqH,GAAiBrH,EAAK7B,OAASqJ,EAAY3H,aAIhD,IACE,MAAMV,QAAiBC,+CAA+CO,IAAM,CAC1E0F,OAAQ,SACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE1H,KAAMqJ,EAAY3H,aAAcwL,MAAOhE,MAE1DjB,QAAejH,EAASK,OAC1BL,EAASE,IACPyJ,EAAqB,GACvBC,EAAsBD,EAAqB,GAC3CrB,EAAgBxL,IAAI,IACfA,EACHgM,aAAchM,EAAKgM,aAAe,MAEpCuB,EAAiB,qDAEjBA,EAAiB,qCAEnBkB,IACIL,EAAWE,SACbF,EAAWE,QAAQ8D,YAAY,CAAErM,KAAM,SAAUoC,YAAa,MAGhEoF,EAAiBpD,EAAOlK,OAAS,8BAEnC,MAAOA,GACPH,QAAQG,MAAM,6BAA8BA,GAC5CsN,EAAiB,qDA9BjBA,EAAiB,8CAmQoCkF,CAAiB1O,EAAKJ,KAAOI,EAAKL,KAAK,UAIhFlG,IAAAC,cAAA,UAAQC,UAAU,MAAMM,QAASA,IArOxB0F,KACvB,MAAMK,EAAOoE,EAAYqK,KAAMpK,IAAOA,EAAEzE,KAAOyE,EAAE1E,MAAQA,GACzD,IAAKK,EAAM,OAEX,GADkBA,EAAKqJ,KAAKkC,OAAOC,MAAM,OAAOrL,OAChC,MAASH,EAAKoC,OAASpC,EAAKsJ,MAE1C,YADAE,EAAiB,qEAGnB,IAAKlN,OAAOiK,QAAQ,qDAClB,OAEF,MAAMmH,EAAe/S,KAAKK,MAAQ,MAC5BiT,EAAiB7J,EAAYG,IAAKF,IACrCA,EAAEzE,KAAOyE,EAAE1E,MAAQA,EAAK,IAAK0E,EAAGqJ,gBAAiBrJ,GAEpD2E,EAAeiF,GACX5D,EAAWE,SACbF,EAAWE,QAAQ8D,YAAY,CAC7BrM,KAAM,SACNoC,YAAa6J,IAGjBzE,EAAiB,qCA+MoCmF,CAAgB3O,EAAKJ,KAAOI,EAAKL,KAAK,SAG7ElG,IAAAC,cAAA,UACEC,UAAU,MACVM,QAASA,IAjND0F,KACxB,IAAIiP,GAAkB,EACtB,MAAMX,EAAiB7J,EAAYG,IAAKF,IAEtC,IADeA,EAAEzE,KAAOyE,EAAE1E,MACXA,EAAI,CAIjB,GAHK0E,EAAEwK,aACLxK,EAAEwK,WAAa,IAEbxK,EAAEwK,WAAWpD,SAASjE,EAAY3H,cAGpC,OAFA2J,EAAiB,8CACjBoF,GAAkB,EACXvK,EAET,MAAMyK,EAAoB,IAAIzK,EAAEwK,WAAYrH,EAAY3H,cAClDkP,GAAc1K,EAAE2K,SAAW,GAAK,EACtC,OAAID,GAAc,EACT,IACF1K,EACH2K,QAASD,EACTf,QAAQ,EACRa,WAAYC,GAGT,IAAKzK,EAAG2K,QAASD,EAAYF,WAAYC,GAElD,OAAOzK,IAELuK,IACJ5F,EAAeiF,GACX5D,EAAWE,SACbF,EAAWE,QAAQ8D,YAAY,CAC7BrM,KAAM,SACNoC,YAAa6J,IAGjBzE,EAAiB,wBAEjBpK,+CAA+CO,WAAa,CAC1D0F,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE1H,KAAMqJ,EAAY3H,iBAExC4I,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACL,GAAIA,EAAKzM,MACPsN,EAAiBb,EAAKzM,OACtBH,QAAQG,MAAMyM,EAAKzM,WACd,CACL,MAAMoS,EAAoB3F,EAAK8D,WAC/BzD,EAAgBuF,GACdA,EAAgBhK,IAAKvE,IAClBA,EAAKJ,KAAOI,EAAKL,MAAQA,EAAK2O,EAAoBtO,OAK1D4I,MAAOC,IACN9M,QAAQG,MAAM,yCAA0C2M,OAwJ7BoG,CAAiBjP,EAAKJ,KAAOI,EAAKL,IACjDuP,SAAUlP,EAAK6O,YAAc7O,EAAK6O,WAAWpD,SAASjE,EAAY3H,eACnE,UAGAG,EAAK6O,YAAc7O,EAAK6O,WAAWpD,SAASjE,EAAY3H,cACvDpG,IAAAC,cAAA,KAAGC,UAAU,gBAAgBiC,MAAO,CAAEyF,MAAO,UAAW,YAGtD,SAMbsM,EAAa,GACZlU,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,UAAQO,QAASA,IAAMiQ,EAAgBjO,GAASb,KAAK+F,IAAIlF,EAAO,EAAG,IAAKiT,SAA0B,IAAhBjF,GAAmB,YAGpGlG,MAAMoL,KAAK,CAAEhP,OAAQwN,GAAc,CAACd,EAAGC,IAAMA,EAAI,GAAGvI,IAAK6K,GACxD3V,IAAAC,cAAA,UAAQgL,IAAK0K,EAAMnV,QAASA,IAAMiQ,EAAekF,GAAOzV,UAAWsQ,IAAgBmF,EAAO,SAAW,IAClGA,IAGL3V,IAAAC,cAAA,UAAQO,QAASA,IAAMiQ,EAAgBjO,GAASb,KAAKiU,IAAIpT,EAAO,EAAG0R,IAAcuB,SAAUjF,IAAgB0D,GAAY,WA+K/FP,GAAsB3T,IAAAC,cAAA,SAAG,iDAErDD,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,UAEjC5H,IAAAC,cAAA,SAAG,sBAAoBiR,IAA2B,WA/uB7B,EA+uB2D,gCAIjFzC,GACCzO,IAAAC,cAAA,OAAKC,UAAU,cAAcM,QAASA,IAAMkO,EAAiB,OAC3D1O,IAAAC,cAAA,OAAKC,UAAU,uBACbF,IAAAC,cAAA,OACE8H,IAAK0G,EACLrG,IAAI,YACJ+J,cAAgBpI,GAAMA,EAAEgC,iBACxBqG,UAAU,YAOjB1B,GACC1Q,IAAAC,cAAA,OAAKC,UAAU,cAAcM,QAASA,IAAMmQ,EAAiB,MAAOxO,MAAO,CACzE0T,SAAU,QACVC,IAAK,EACLC,KAAM,EACN3T,MAAO,OACPiG,OAAQ,OACRmD,gBAAiB,qBACjB7B,QAAS,OACTsI,eAAgB,SAChBpI,WAAY,SACZmM,OAAQ,MAERhW,IAAAC,cAAA,OAAKC,UAAU,sBAAsBM,QAAUuJ,GAAMA,EAAEkM,kBAAmB9T,MAAO,CAC/EkQ,SAAU,MACVC,UAAW,QAEXtS,IAAAC,cAAA,SACE8H,IAAK2I,EACLmC,UAAQ,EACRqD,UAAQ,EACR/D,cAAgBpI,GAAMA,EAAEgC,iBACxB5J,MAAO,CAAEC,MAAO,OAAQiG,OAAQ,qBCz7BhD,MAAM8N,EAAiB,CACrB,CACEjQ,GAAI,EACJkQ,SAAU,OACVlL,YAAa,oBACbmL,OAAQ,CAAEnM,KAAM,GAAIoM,GAAI,KAE1B,CACEpQ,GAAI,EACJkQ,SAAU,WACVlL,YAAa,0CACbmL,OAAQ,CAAEnM,KAAM,IAAKoM,GAAI,KAE3B,CACEpQ,GAAI,EACJkQ,SAAU,OACVlL,YAAa,2CACbmL,OAAQ,CAAEnM,KAAM,IAAKoM,GAAI,GAAIvL,MAAO,qBAKlCwL,EAAY,CAChBrQ,GAAI,EACJ+C,SAAU,aACViB,KAAM,IACNoM,GAAI,GACJlL,gBAAiB,GACjB3E,OAAQ,GAERwD,IAAK,EACLD,MAAO,EACPK,UAAW,GACXmM,SAAS,EACTC,UAAU,GA4qBNC,EAA2BC,IAK3B,IAL4BC,eAChCA,EAAchJ,cACdA,EAAaiJ,0BACbA,EAAyBC,8BACzBA,GACDH,EACCrU,QAAQC,IAAI,qCAAsCqU,GAClD,MAAMG,EAASH,GAAkB,GAE3B1C,EAAavS,KAAKwS,KAAK4C,EAAOrQ,OADd,KAEf8J,EAAaC,GAAkB3P,mBAAS,IACxCkW,EAAYC,GAAiBnW,mBAAS,MAE7C,GAAsB,IAAlBiW,EAAOrQ,OACT,OAAO1G,IAAAC,cAAA,SAAG,2BAGZ,MAAMiX,EATgB,GASG1G,EACnB2G,EAAoBD,EAVJ,GAWhBE,EAAgBL,EAAOzC,MAAM6C,EAAmBD,GAkBtD,OACElX,IAAAC,cAAA,WACED,IAAAC,cAAA,OAAKC,UAAU,eACZkX,EAActM,IAAI,CAACuM,EAAQrM,IAC1BhL,IAAAC,cAAA,OAAKgL,IAAKD,EAAO9K,UAAU,cACzBF,IAAAC,cAAA,OACE8H,IAAKsP,EACLjP,gBAAiB4C,EAAQmM,EAAoB,IAC7CjX,UAAU,YACVM,QAASA,IAAMyW,EAAcI,GAC7BlF,cAAgBpI,GAAMA,EAAEgC,iBACxBuL,YAAcvN,GAAMA,EAAEgC,iBACtBwL,QAAUxN,IACRzH,QAAQG,MAAM,uBAAwB4U,GACtCtN,EAAEnB,OAAOb,IAAM,qCAGlB6F,GACC5N,IAAAC,cAAA,UAAQO,QAASA,IAAMqW,EAA0B7L,EAAQmM,GAAoBjX,UAAU,OAAM,aAOrGF,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,UAAQO,QApCOgX,KACfhH,EAAc,GAChBC,EAAeD,EAAc,IAkCIiF,SAA0B,IAAhBjF,GAAmB,QAC3D,IAAIlG,MAAM4J,IAAapJ,IAAI,CAACsI,EAAGqE,IAC9BzX,IAAAC,cAAA,UACEgL,IAAKwM,EACLjX,QAASA,IAlCOmV,KACxBlF,EAAekF,IAiCQ+B,CAAiBD,EAAM,GACtCvX,UAAWsQ,IAAgBiH,EAAM,EAAI,SAAW,IAE/CA,EAAM,IAGXzX,IAAAC,cAAA,UAAQO,QApDOmX,KACfnH,EAAc0D,GAChBzD,EAAeD,EAAc,IAkDIiF,SAAUjF,IAAgB0D,GAAY,SAEtEtG,GACC5N,IAAAC,cAAA,OAAKC,UAAU,2BACbF,IAAAC,cAAA,UAAQO,QAASsW,EAA+B5W,UAAU,OAAM,+BAKnE8W,GACChX,IAAAC,cAAA,OAAKC,UAAU,mBAAmBM,QAASA,IAAMyW,EAAc,OAC7DjX,IAAAC,cAAA,OACE8H,IAAKiP,EACL5O,IAAI,mBACJ+J,cAAgBpI,GAAMA,EAAEgC,iBACxBuL,YAAcvN,GAAMA,EAAEgC,iBACtBwL,QAAUxN,IACRzH,QAAQG,MAAM,6BAA8BuU,GAC5CjN,EAAEnB,OAAOb,IAAM,wCASd6P,MA7wBGA,KAChB,MAAOlT,EAAMC,GAAW7D,mBAASyV,IAC1BpL,EAAc0M,GAAmB/W,mBAAS,OAC1CgX,EAAOC,GAAYjX,mBAAS,OAC5B0F,EAAQwR,GAAalX,mBAAS,KAC9B2B,EAAOwV,GAAYnX,mBAAS,KAC5BoX,EAAcC,GAAmBrX,oBAAS,IAC1C8V,EAAgBwB,GAAqBtX,mBAAS,KAC9CuX,EAAeC,GAAoBxX,mBAAS,KAC5CyX,EAAmBC,GAAwB1X,mBAAS,MAErDV,EAAWC,cAGXoY,EAAsBC,IAC1B,MAAMzS,EAAS3F,aAAaC,QAAQ,UACpCoF,yCAAyCM,oBAA0B,CACjE2F,OAAQ,MACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUsM,KAEpB1J,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAKE,IACJ5M,QAAQC,IAAI,yBAA0B2M,KAEvCC,MAAMC,GAAO9M,QAAQG,MAAM,gCAAiC2M,KAIjEhO,oBAAU,KACR,MAAMoE,EAAelF,aAAaC,QAAQ,UAC1C,IAAKiF,EAGH,OAFAlD,QAAQyM,KAAK,0CACbpK,EAAQnC,IAAI,IAAUA,EAAMyG,SAAU,mBAGxCtD,yCAAyCH,KACtCwJ,KAAMC,GAAQA,EAAIlJ,QAClBiJ,KAAME,IACL5M,QAAQC,IAAI,qBAAsB2M,GAClCvK,EAAQnC,IAAI,IACPA,EACHyG,SAAUiG,EAAKjG,SACfiB,KAAMgF,EAAKhF,KACXoM,GAAIpH,EAAKoH,GACTrM,IAAKiF,EAAKjF,KAAO,EACjBD,MAAOkF,EAAKlF,OAAS,EACrBK,UAAW6E,EAAK7E,WAAa,GAC7B5D,OAAQyI,EAAKzI,QAAU,GACvB2E,gBAAiB8D,EAAK9D,iBAAmB,QAG5C+D,MAAOC,GAAQ9M,QAAQG,MAAM,4BAA6B2M,KAC5D,IAGH,MAAOuJ,EAAgBC,GAAqB9X,oBAAS,IAC9C+X,EAAYC,GAAiBhY,mBAAS,KACtCiY,EAAiBC,GAAsBlY,mBAAS,KAChDmY,EAAgBC,GAAqBpY,mBAAS,KAC9CqY,EAAoBC,GAAyBtY,mBAAS,KACtD8M,EAAeC,GAAoB/M,oBAAS,GAOnDM,oBAAU,KAEoB,SADAd,aAAaC,QAAQ,kBAE/CsN,GAAiB,IAElB,IAEH,MAAMwL,EAAoBA,KACxB,MAAMC,EAAe3X,KAAK0L,SAAS3D,SAAS,IAAI4D,UAAU,EAAG,GAAGC,cAEhE,UAbO,IAAIrM,MAAOuM,mBAAmB,QAAS,CAAEC,SAAU,wBAavC4L,KAoDrBlY,oBAAU,KACR,MAAMmY,EAAiBxP,IACP,gBAAVA,EAAEkB,KAAuC,KAAdlB,EAAEyP,UAC/BzP,EAAEgC,iBACFtG,MAAM,+BAIV,OADA5C,OAAO4W,iBAAiB,UAAWF,GAC5B,IAAM1W,OAAO6W,oBAAoB,UAAWH,IAClD,IAGHnY,oBAAU,KACRuE,MAAM,6CACHqJ,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAKE,IACJ5M,QAAQC,IAAI,qCAAsC2M,GAClDkJ,EAAkBlJ,GAClB5O,aAAaI,QAAQ,iBAAkByL,KAAKC,UAAU8C,MAEvDC,MAAMC,IACL9M,QAAQG,MAAM,yCAA0C2M,GACxD,MAAMuK,EAAerZ,aAAaC,QAAQ,kBAC1C,GAAIoZ,EACF,IACE,MAAMC,EAASzN,KAAKkC,MAAMsL,GAC1BrX,QAAQC,IAAI,qCAAsCqX,GAClDxB,EAAkBwB,GAClB,MAAO7P,GACPzH,QAAQG,MAAM,iDAAkDsH,OAIvE,IAGH3I,oBAAU,KACR,MAAMyY,EAAa1N,KAAKC,UAAUwK,GAGlC,GAFAtU,QAAQC,IAAI,yCAA0CsX,GAElDA,EAAWnT,OADY,IAEzBpE,QAAQyM,KAAK,yDAGf,IACEzO,aAAaI,QAAQ,iBAAkBmZ,GACvC,MAAO9P,GACPzH,QAAQG,MAAM,8CAA+CsH,KAE9D,CAAC6M,IAGJxV,oBAAU,KACR,IAAI0Y,EAEJ,MAIMC,EAA8BA,KAClC,MAAMC,EAJC,IAAI9Y,MAAK,IAAIA,MAAO+Y,eAAe,QAAS,CAAEvM,SAAU,sBAKzDwM,EAAsB,IAAIhZ,KAAK8Y,GACrCE,EAAoB7S,SAAS,GAAI,EAAG,EAAG,GACvC,IAAI8S,EAAQD,EAAoB/Y,UAAY6Y,EAAW7Y,UAEvD,OADIgZ,GAAS,IAAGA,EAAQ,OACjBA,GAGHC,EAAmBA,KACvB,MAAMD,EAAQJ,IACdzX,QAAQC,IAAI,yCAA0C4X,EAAO,MAC7DL,EAAUO,WAAW,KACnB1U,MAAM,4CAA6C,CAAEiG,OAAQ,WAC1DoD,KAAK,KACJ1M,QAAQC,IAAI,uDACZ6V,EAAkB,IAClB9X,aAAauM,WAAW,oBAEzBsC,MAAMC,GAAO9M,QAAQG,MAAM,yCAA0C2M,IACxEgL,KACCD,IAIL,OADAC,IACO,IAAME,aAAaR,IACzB,IAEH1Y,oBAAU,KACRmZ,KACC,IAGH,MAAMA,EAAmBA,KACvB,MAAMC,EAAc7Y,KAAKC,MAAMD,KAAK0L,SAAW8I,EAAezP,QAC9DmR,EAAgB1B,EAAeqE,IAC/BzC,EAAS,MACTC,EAAU,IACVC,EAAS,KAuJX7W,oBAAU,KACJwM,GACFjI,MAAM,4CACHqJ,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAKE,IACJ5M,QAAQC,IAAI,sCAAuC2M,GAEnDoJ,EAAiBpJ,KAElBC,MAAMC,GAAO9M,QAAQG,MAAM,iCAAkC2M,KAEjE,CAACxB,IAmGJ,OACE5N,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QAPhBia,KAChBra,EAAS,OAOHJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,WAEtClC,IAAAC,cAAA,WAGC0Y,IAAmB/K,GAClB5N,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,SACEsI,KAAK,QACLa,YAAY,oBACZD,MAAO0P,EACPpQ,SAAWsB,GAAM+O,EAAc/O,EAAEnB,OAAOO,SAE1CnJ,IAAAC,cAAA,SACEsI,KAAK,OACLa,YAAY,oBACZD,MAAO4P,EACPtQ,SAAWsB,GAAMiP,EAAmBjP,EAAEnB,OAAOO,SAE/CnJ,IAAAC,cAAA,UAAQO,QA7aU6B,UAC1B,IAAKwW,EAEH,YADAb,EAAU,wDAGZ,GAPyB,WAOrBe,EAEF,YADAf,EAAU,6BAGZ,MAAM5U,EAAOiW,IACbD,EAAsBhW,GACtB,IACE,MAAMsC,QAAiBC,MAAM,4CAA6C,CACxEiG,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAElD,MAAO2P,EAAYzV,KAAMA,MAE5C8L,QAAaxJ,EAASK,OAC5B,IAAKL,EAASE,GACZ,MAAM,IAAIC,MAAMqJ,EAAKzM,OAAS,8BAEhCuV,EAAU,kCACV,MAAOvV,GACPuV,EAAU,6BAA+BvV,EAAM6J,YAsZH,aACrC6M,GACCnZ,IAAAC,cAAAD,IAAA2R,SAAA,KACE3R,IAAAC,cAAA,SACEsI,KAAK,OACLa,YAAY,8BACZD,MAAO8P,EACPxQ,SAAWsB,GAAMmP,EAAkBnP,EAAEnB,OAAOO,SAE9CnJ,IAAAC,cAAA,UAAQO,QA3ZQka,KACxBzB,IAAmBE,GACrBtL,GAAiB,GACjBvN,aAAaI,QAAQ,gBAAiB,QACtCsX,EAAU,mCACVY,GAAkB,IAElBZ,EAAU,6CAoZwC,iBAM/CpK,GACC5N,IAAAC,cAAA,OAAKC,UAAU,wBACbF,IAAAC,cAAA,UAAI,kBACJD,IAAAC,cAAA,SAAG,+FAIPD,IAAAC,cAAA,UAAI,cAEJD,IAAAC,cAAA,KAAGkC,MAAO,CAAEwY,WAAY,SAAU,YAAS3a,IAAAC,cAAA,WAASD,IAAAC,cAAA,UAAQkC,MAAO,CAACyF,MAAO,UAAWoB,SAAU,WAAYtE,EAAKuE,WACjHjJ,IAAAC,cAAA,SAAG,4EAEFkL,EACCnL,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,UAAI,kBAAgBkL,EAAaiL,SAAS,MAAIjL,EAAaD,aAC3DlL,IAAAC,cAAA,SAAG,WACQkL,EAAakL,OAAOnM,KAAK,wCAAsCiB,EAAakL,OAAOC,GAAG,MACpE,SAA1BnL,EAAaiL,UAAuBjL,EAAakL,OAAOtL,YAAcI,EAAakL,OAAOtL,QAAU,IAEvG/K,IAAAC,cAAA,SACEC,UAAU,cACVqI,KAAK,OACLC,OAAO,kBACPC,SAnTcsB,IACxB,MAAMpB,EAAOoB,EAAEnB,OAAOC,MAAM,GAC5B,GAAIF,EAAM,CACR,MAAMiS,EAAWjS,EAAKJ,KAClBqS,EAASzS,WAAW,WAAayS,EAASzS,WAAW,WACvD4P,EAASpP,GACTsP,EAAS,MAETA,EAAS,uCACTF,EAAS,WA4SJtV,GAASzC,IAAAC,cAAA,KAAGC,UAAU,gBAAgBiC,MAAO,CAAEyF,MAAO,QAAUnF,GACjEzC,IAAAC,cAAA,UAAQO,QA5QY6B,UACvB8I,EAIA2M,EAIDpT,EAAK0G,gBAAgB4J,KAAK6F,GAAKA,EAAE3U,KAAOiF,EAAajF,IACvD8R,EAAU,qDAIZG,GAAgB,GAChBH,EAAU,kCAEVqC,WAAWhY,UACT,MAAMyY,EAlEsBzE,KAC9B,MAAM0E,EAAapZ,KAAKC,MAAoB,KAAdyU,EAAOnM,MACrC,MAAO,CAAEA,KAAMmM,EAAOnM,KAAO6Q,EAAYzE,GAAID,EAAOC,KAgE1B0E,CAAuB7P,EAAakL,QAGtD4E,GADavW,EAAKuF,KAAO,GACH6Q,EAAgBxE,GACtC4E,EAAWvZ,KAAKC,MAAMqZ,EAAS,KAAO,EAItCE,EAAe,IAFIzW,EAAK2F,WAAa,GACvB,IAAKc,EAAcV,UAAU,IAK3C2Q,EAAoB1W,EAAK0G,gBAAgB1E,OAAS,EACxD,IAAI2U,EAAgB,IAAK3W,EAAK+B,QAAU,IAwCxC,GAtC8B,SAA1B0E,EAAaiL,UAAuBjL,EAAakL,OAAOtL,QAAUsQ,EAAcrJ,SAAS7G,EAAakL,OAAOtL,QAC7GsQ,EAAc1U,KAAKwE,EAAakL,OAAOtL,OAGvCqQ,GAAqB,IAAMC,EAAcrJ,SAAS,oBAClDqJ,EAAc1U,KAAK,mBAEnByU,GAAqB,KAAOC,EAAcrJ,SAAS,cACnDqJ,EAAc1U,KAAK,aAEnByU,GAAqB,KAAOC,EAAcrJ,SAAS,aACnDqJ,EAAc1U,KAAK,YAEnByU,GAAqB,MAAQC,EAAcrJ,SAAS,yBACpDqJ,EAAc1U,KAAK,wBAIvBhC,EAAQ2W,IAAQ,IACTA,EACHpR,KAAMoR,EAASpR,KAAO4Q,EAAgB5Q,KACtCoM,GAAIgF,EAAShF,GAAKwE,EAAgBxE,GAClCrM,IAAKgR,EACLjR,MAAOkR,EACP9P,gBAAiB,IAAIkQ,EAASlQ,gBAAiBD,GAC/Cd,UAAW8Q,EACX1U,OAAQ4U,KAIZ5C,EAAmB,CACjBxO,IAAKgR,EACLjR,MAAOkR,EACP7Q,UAAW8Q,EACX1U,OAAQ4U,IAINvD,GAASA,EAAMvP,KAAKJ,WAAW,UACjC,IACE,MAAMoT,OApGclZ,WAC1B,MAAMmK,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAS/D,GAEzB6D,EAASE,OAAO,cAAehI,EAAKuE,UAEpC,IACE,MAAMvD,QAAiBC,MAAM,yCAA0C,CACrEiG,OAAQ,OACRM,KAAMM,IAEF0C,QAAaxJ,EAASK,OAC5BzD,QAAQC,IAAI,yBAA0B2M,GAGtC,IAAIsM,EAAWtM,EAAKsC,IAAItJ,QAAQ,MAAO,KAIvC,MAHK,gBAAgBmJ,KAAKmK,KACxBA,0BAAmCA,KAE9BA,EACP,MAAO/Y,GAEP,MADAH,QAAQG,MAAM,yBAA0BA,GAClCA,IA8EqBgZ,CAAoB3D,GAC3CxV,QAAQC,IAAI,8CAA+CgZ,GAE3DjD,EAAiB9V,IACf,MACMkZ,EAAY,IAAIlZ,EADL,CAAEgP,IAAK+J,EAAUI,YAAajX,EAAKuE,UAAY,YAGhE,OADA3G,QAAQC,IAAI,yBAA0BmZ,GAC/BA,IAET1D,EAAU,+CACV,MAAO5I,GACP9M,QAAQG,MAAM,yBAA0B2M,GAG5C+I,GAAgB,GAChBJ,EAAS,OACR,MAnFDC,EAAU,0CAJVA,EAAU,8BA0QoC9X,UAAU,MAAMuV,SAAUyC,GAC/DA,EAAe,gBAAkB,iBAItClY,IAAAC,cAAA,SAAG,gCAGLD,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,WAASpB,IAG5CxG,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,kBACjC5H,IAAAC,cAAA,SAAG,eAAayE,EAAKwF,KAAOxF,EAAKwF,KAAO,UACxClK,IAAAC,cAAA,SAAG,aAAWyE,EAAKuF,KACnBjK,IAAAC,cAAA,SAAG,kBAAwBkK,IAAbzF,EAAKuF,IAAoBvF,EAAKuF,IAAM,UAClDjK,IAAAC,cAAA,SAAG,UAAQyE,EAAKsF,OAAS,GACzBhK,IAAAC,cAAA,UAAI,0BACHyE,EAAK+B,OAAOC,OAAS,EACpB1G,IAAAC,cAAA,UACGyE,EAAK+B,OAAOqE,IAAI,CAACC,EAAOC,IACvBhL,IAAAC,cAAA,MAAIgL,IAAKD,GAAQD,KAIrB/K,IAAAC,cAAA,SAAG,yBAELD,IAAAC,cAAA,UAAI,qBACHyE,EAAK0G,gBAAgB1E,OAAS,EAC7B1G,IAAAC,cAAA,UACGyE,EAAK0G,gBAAgBN,IAAI,CAACO,EAAOL,IAChChL,IAAAC,cAAA,MAAIgL,IAAKD,GACNK,EAAM+K,SAAS,KAAG/K,EAAMH,YAAY,kBAAWG,EAAMgL,OAAOnM,KAAK,WAASmB,EAAMgL,OAAOC,GAAG,SAKjGtW,IAAAC,cAAA,SAAG,6BAIPD,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,4BACjC5H,IAAAC,cAAA,UAAQO,QA5MGob,KACblX,EAAK4R,GAAK,GACZ0B,EAAU,oDAGRtT,EAAK+R,SACPuB,EAAU,0CAGZrT,EAAQ2W,IAAQ,IAAUA,EAAU7E,UAAU,KAC9CuB,EAAU,mDAkMyB9X,UAAU,OAAM,6BAK9CwE,EAAK8R,SACJxW,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,UAAI,uBACJD,IAAAC,cAAA,UAAQO,QApeKqb,KACjBnX,EAAK8R,QACPwB,EAAU,uCAEVA,EAAU,gCAge6B9X,UAAU,OAAM,wBAMrDF,IAAAC,cAAA,OAAKC,UAAU,iBACbF,IAAAC,cAAA,UAAQO,QA7XUsb,KACxBvB,IACAvC,EAAU,8BA2XgC9X,UAAU,OAAM,kCAMtDF,IAAAC,cAAA,OAAKC,UAAU,6BACbF,IAAAC,cAAA,UAAI,mBACJD,IAAAC,cAACyW,EAAwB,CACvBE,eAAgBA,EAChBhJ,cAAeA,EACfiJ,0BAnKyB7L,IACjCrF,mDAAmDqF,IAAS,CAC1DY,OAAQ,WAEPoD,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAK,KACJoJ,EAAkB5V,GAAQA,EAAK8D,OAAO,CAAC8M,EAAGC,IAAMA,IAAMrI,MAEvDmE,MAAMC,GAAO9M,QAAQG,MAAM,iCAAkC2M,KA4JxD0H,8BAxJ4BA,KACpCnR,MAAM,4CAA6C,CACjDiG,OAAQ,WAEPoD,KAAK,KACJoJ,EAAkB,IAClB9X,aAAauM,WAAW,oBAEzBsC,MAAMC,GAAO9M,QAAQG,MAAM,sCAAuC2M,QAqJhExB,GAAiByK,EAAc3R,OAAS,GACvC1G,IAAAC,cAAA,OAAKC,UAAU,4BACbF,IAAAC,cAAA,UAAI,+BACHoY,EAAcvN,IAAI,CAACiR,EAAQ/Q,IAC1BhL,IAAAC,cAAA,OAAKgL,IAAKD,EAAO9K,UAAU,sBAEzBF,IAAAC,cAAA,SAAG,iBAAcD,IAAAC,cAAA,cAAS8b,EAAOJ,cACjC3b,IAAAC,cAAA,OACE8H,IAAKgU,EAAOvK,IACZpJ,eAAgB4C,EAAQ,IACxB9K,UAAU,YACViC,MAAO,CAAEwH,QAAS,QAAS0I,SAAU,OAAQhK,OAAQ,QACrD7H,QAASA,IAAMgY,EAAqBuD,EAAOvK,KAC3CW,cAAgBpI,GAAMA,EAAEgC,iBACxBuL,YAAcvN,GAAMA,EAAEgC,iBACtBwL,QAAUxN,IACRzH,QAAQG,MAAM,uBAAwBsZ,EAAOvK,KAC7CzH,EAAEnB,OAAOb,IAAM,qCAGnB/H,IAAAC,cAAA,UAAQO,QAASA,IAlPHwK,KAC1B,MACMuQ,EADWlD,EAAcrN,GACLwG,IAC1B7L,MAAM,4CAA6C,CACjDiG,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEoF,IAAK+J,MAE3BvM,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAKE,IACJ5M,QAAQC,IAAI,+BAAgC2M,GAC5CkJ,EAAkB5V,GAAQ,IAAIA,EAAM+Y,IAEpC5V,kDAAkDqF,IAAS,CACzDY,OAAQ,WAEPoD,KAAKgN,GAAUA,EAAOjW,QACtBiJ,KAAK,KACJsJ,EAAiB9V,GAAQA,EAAK8D,OAAO,CAAC8M,EAAGC,IAAMA,IAAMrI,MAEtDmE,MAAMC,GAAO9M,QAAQG,MAAM,4CAA6C2M,IAG3EzK,EAAQnC,IACN,IAAIyZ,GAAQ,EACZ,MAAMC,EAAmB1Z,EAAK6H,UAAUS,IAAIN,GACrCyR,GAAUzR,EAAGC,SAIXD,GAHLyR,GAAQ,EACD,IAAKzR,EAAIC,UAAU,KAM9B,OADAgO,EAAmB,CAAEpO,UAAW6R,IACzB,IAAK1Z,EAAM6H,UAAW6R,OAGhC/M,MAAMC,GAAO9M,QAAQG,MAAM,sCAAuC2M,KA6MlC+M,CAAmBnR,GAAQ9K,UAAU,OAAM,WAClEF,IAAAC,cAAA,UAAQO,QAASA,IA1MHwK,KAC1BrF,kDAAkDqF,IAAS,CACzDY,OAAQ,WAEPoD,KAAKC,GAAOA,EAAIlJ,QAChBiJ,KAAK,KACJsJ,EAAiB9V,GAAQA,EAAK8D,OAAO,CAAC8M,EAAGC,IAAMA,IAAMrI,MAEtDmE,MAAMC,GAAO9M,QAAQG,MAAM,4CAA6C2M,KAkMxCgN,CAAmBpR,GAAQ9K,UAAU,OAAM,cAOzEqY,GACCvY,IAAAC,cAAA,OAAKC,UAAU,mBAAmBM,QAASA,IAAMgY,EAAqB,OACpExY,IAAAC,cAAA,OACE8H,IAAKwQ,EACLnQ,IAAI,2BACJjG,MAAO,CAAEwH,QAAS,QAAS0I,SAAU,OAAQhK,OAAQ,QACrD8J,cAAgBpI,GAAMA,EAAEgC,iBACxBuL,YAAcvN,GAAMA,EAAEgC,iBACtBwL,QAAUxN,IACRzH,QAAQG,MAAM,6BAA8B8V,GAC5CxO,EAAEnB,OAAOb,IAAM,sCAMvB/H,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAO,YAAa,WAASpB,oBC9ZrC6V,MA1SDA,KACZ,MAAMjc,EAAWC,eAEV6I,EAAOoT,GAAYxb,mBAAS,KAC5Byb,EAAUC,GAAe1b,mBAAS,KAClC2B,EAAOwV,GAAYnX,mBAAS,KAC5B2b,EAAaC,GAAkB5b,mBAAS,KACxC6b,EAAYC,GAAiB9b,oBAAS,IAGtC6X,EAAgBC,GAAqB9X,oBAAS,IAC9C+X,EAAYC,GAAiBhY,mBAAS,KACtCiY,EAAiBC,GAAsBlY,mBAAS,KAChDmY,EAAgBC,GAAqBpY,mBAAS,KAC9CqY,EAAoBC,GAAyBtY,mBAAS,KACtD8M,EAAeC,GAAoB/M,oBAAS,GAGnDM,oBAAU,KAEoB,SADAd,aAAaC,QAAQ,kBAE/CsN,GAAiB,IAElB,IAGHzM,oBAAU,KACR,MAAMyb,EAAmBvc,aAAaC,QAAQ,cACxCuc,EAAoBxc,aAAaC,QAAQ,eACtB,SAArBsc,GAA+BC,GACjC1c,EAAS,MAEV,CAACA,IAGJgB,oBAAU,KACR,MAAM2b,EAAczc,aAAaC,QAAQ,SACrCwc,GACFT,EAASS,GAGgC,SAAvCzc,aAAaC,QAAQ,eACvBqc,GAAc,IAEf,IAEH,MAqEMvD,EAAoBA,KACxB,MAAMC,EAAe3X,KAAK0L,SAAS3D,SAAS,IAAI4D,UAAU,EAAG,GAAGC,cAEhE,UAPO,IAAIrM,MAAOuM,mBAAmB,QAAS,CAAEC,SAAU,wBAOvC4L,KA4DrB,OACEtZ,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,OAAKC,UAAU,mBACbF,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QApIjBwc,KACjB5c,EAAS,OAoIDJ,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,WAGtClC,IAAAC,cAAA,UAAI,SACJD,IAAAC,cAAA,KAAGC,UAAU,SAAQ,+DAEnByc,EAmCA3c,IAAAC,cAAA,OAAKC,UAAU,qBACbF,IAAAC,cAAA,UAAI,sBACJD,IAAAC,cAAA,QAAM6L,SA9IY/B,IAI5B,GAHAA,EAAEgC,iBACFkM,EAAS,KAEJwE,EAAY3K,OAEf,YADAmG,EAAS,iCAKX,MAAMgF,EAAsB3c,aAAaC,QAAQ,uBAG7Ckc,IAAgBQ,GAMpB3c,aAAaI,QAAQ,cAAe+b,GACpC5Z,OAAOqa,SAASC,UANdlF,EAAS,2BAiICjY,IAAAC,cAAA,SACEsI,KAAK,OACLa,YAAY,eACZD,MAAOsT,EACPhU,SAvLiBsB,GAAM2S,EAAe3S,EAAEnB,OAAOO,OAwL/CoD,UAAQ,IAEVvM,IAAAC,cAAA,UAAQsI,KAAK,SAASrI,UAAU,sBAAqB,YA5CzDF,IAAAC,cAAA,QAAM6L,SAxIUzJ,UACxB0H,EAAEgC,iBACFkM,EAAS,IAET,IACE,MAAMvS,QAAiBC,MAAM,kCAAmC,CAC9DiG,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAElD,QAAOqT,eAE1BrN,QAAaxJ,EAASK,OAExBmJ,EAAKzM,MACPwV,EAAS/I,EAAKzM,QAGdnC,aAAaI,QAAQ,aAAc,QACnCJ,aAAaI,QAAQ,QAASwI,GAC9B5I,aAAaI,QAAQ,SAAUwO,EAAKxK,KAAKwB,IACzC5F,aAAaI,QAAQ,OAAQyL,KAAKC,UAAU8C,EAAKxK,OAEjDpE,aAAaI,QAAQ,sBAAuBwO,EAAKkO,cACjDR,GAAc,IAEhB,MAAOna,GACPwV,EAAS,yCACT3V,QAAQG,MAAM,eAAgBA,MA+GtBzC,IAAAC,cAAA,OAAKC,UAAU,sBACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,SACEsI,KAAK,QACLa,YAAY,QACZD,MAAOD,EACPT,SAxJOsB,GAAMuS,EAASvS,EAAEnB,OAAOO,OAyJ/BoD,UAAQ,KAGZvM,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,SACEsI,KAAK,WACLa,YAAY,WACZD,MAAOoT,EACP9T,SAhKUsB,GAAMyS,EAAYzS,EAAEnB,OAAOO,OAiKrCoD,UAAQ,OAKhBvM,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,SACEsI,KAAK,WACLrC,GAAG,WACHmX,eAA0B,KAAVnU,IAElBlJ,IAAAC,cAAA,SAAOqd,QAAQ,WAAWpd,UAAU,SAAQ,iBAE9CF,IAAAC,cAAA,UAAQC,UAAU,uBAAuBqI,KAAK,UAAS,WAkB1D9F,GAASzC,IAAAC,cAAA,OAAKC,UAAU,iBAAiBuC,GAE1CzC,IAAAC,cAAA,OAAKC,UAAU,gBACbF,IAAAC,cAAA,UAAQC,UAAU,mCAChBF,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,QAAO,gBAAS,WAE9ClC,IAAAC,cAAA,UAAQC,UAAU,mCAChBF,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,UAAQ,WAE9ClC,IAAAC,cAAA,UAAQC,UAAU,mCAChBF,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,UAAS,gBAAS,YAIlDlC,IAAAC,cAAA,KAAGC,UAAU,WAAU,qBAAkBF,IAAAC,cAACsd,IAAI,CAACC,GAAG,WAAU,aAG5Dxd,IAAAC,cAAA,OAAKC,UAAU,uBACZ0N,EACC5N,IAAAC,cAAA,UAAQO,QA1FMid,KACxB5P,GAAiB,GACjBvN,aAAauM,WAAW,iBACxBuM,EAAsB,IACtBF,EAAkB,IAClBJ,EAAc,IACdE,EAAmB,IACnBf,EAAS,sBAmFqC/X,UAAU,OAAM,gBAEpDF,IAAAC,cAAA,UAAQO,QAASA,IAAMoY,GAAkB,GAAO1Y,UAAU,OAAM,UAGnEyY,IAAmB/K,GAClB5N,IAAAC,cAAA,OAAKC,UAAU,cACbF,IAAAC,cAAA,MAAIkC,MAAO,CAACyF,MAAO,YAAY,eAC/B5H,IAAAC,cAAA,SACEsI,KAAK,QACLa,YAAY,oBACZD,MAAO0P,EACPpQ,SAAWsB,GAAM+O,EAAc/O,EAAEnB,OAAOO,SAE1CnJ,IAAAC,cAAA,SACEsI,KAAK,OACLa,YAAY,oBACZD,MAAO4P,EACPtQ,SAAWsB,GAAMiP,EAAmBjP,EAAEnB,OAAOO,SAE/CnJ,IAAAC,cAAA,UAAQO,QA1JQ6B,UAC1B,IAAKwW,EAEH,YADAZ,EAAS,wDAGX,GAPyB,WAOrBc,EAEF,YADAd,EAAS,6BAGX,MAAM7U,EAAOiW,IACbD,EAAsBhW,GACtB,IACE,MAAMsC,QAAiBC,MAAM,4CAA6C,CACxEiG,OAAQ,OACRI,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAElD,MAAO2P,EAAYzV,KAAMA,MAE5C8L,QAAaxJ,EAASK,OAC5B,IAAKL,EAASE,GACZ,MAAM,IAAIC,MAAMqJ,EAAKzM,OAAS,8BAEhCwV,EAAS,kCACT,MAAOxV,GACPwV,EAAS,6BAA+BxV,EAAM6J,WAmIApM,UAAU,OAAM,aACrDiZ,GACCnZ,IAAAC,cAAAD,IAAA2R,SAAA,KACE3R,IAAAC,cAAA,SACEsI,KAAK,OACLa,YAAY,8BACZD,MAAO8P,EACPxQ,SAAWsB,GAAMmP,EAAkBnP,EAAEnB,OAAOO,SAE9CnJ,IAAAC,cAAA,UAAQO,QAxIMka,KACxBzB,IAAmBE,GACrBtL,GAAiB,GACjBvN,aAAaI,QAAQ,gBAAiB,QACtCuX,EACEjY,IAAAC,cAAAD,IAAA2R,SAAA,KAAE,kCAEA3R,IAAAC,cAAA,WAAM,qDAIV2Y,GAAkB,IAElBX,EAAS,4CA2H2C/X,UAAU,OAAM,oCCoJ3Dwd,MAjbAA,KAEb,MAAO7V,EAAW8V,GAAgB7c,mBAAS,KACpCgH,EAAU8V,GAAe9c,mBAAS,KAClCmI,EAAU6E,GAAehN,mBAAS,KAClCoI,EAAOoT,GAAYxb,mBAAS,KAC5B+c,EAAWC,GAAgBhd,mBAAS,KACpCyb,EAAUC,GAAe1b,mBAAS,KAClCoE,EAAiBC,GAAsBrE,mBAAS,KAChDid,EAAeC,GAAoBld,mBAAS,KAC5Cmd,EAAeC,GAAoBpd,oBAAS,IAG5C2B,EAAOwV,GAAYnX,mBAAS,KAC5Bqd,EAAgBC,GAAqBtd,mBAAS,KAC9Cud,EAAeC,GAAoBxd,oBAAS,IAC5Cyd,EAAUC,GAAe1d,oBAAS,IAElC2d,EAAeC,GAAoB5d,mBAAS,KAG5C6d,EAAwBC,GAA6B9d,mBAAS,KAC9D+d,EAA0BC,GAA+Bhe,mBAAS,KAGlEie,EAAaC,GAAkBle,mBAAS,IAGzCme,EAAe1C,EAAS7V,QAAU,EAClCwY,EAAe,QAAQ7N,KAAKkL,GAC5B4C,EAAiB,aAAa9N,KAAKkL,GACnC6C,EAAY,QAAQ/N,KAAKkL,GAGzB8C,EAAsBA,KAC1B,IAAK9C,EAAU,MAAO,GACtB,MAAM+C,EAAQ,CAACL,EAAcC,EAAcC,EAAgBC,GAAW9Y,OAAOiZ,SAAS7Y,OACtF,OAAI4Y,GAAS,EAAU,OACJ,IAAVA,EAAoB,SACV,IAAVA,EAAoB,cAAxB,GAGDlf,EAAWC,eAiCVmf,EAAgBC,GAAqB3e,oBAAS,IAC9C6K,EAAiB+T,GAAsB5e,oBAAS,IAChD6e,EAAaC,GAAkB9e,mBAAS,KACxC+e,EAA0BC,GAA+Bhf,mBAAS,KAClEif,EAA4BC,GAAiClf,mBAAS,IAwEvEmf,GAA8B5d,UAClCyd,EAA4B,IAC5BE,EAA8B,IAC9B,IACE,MAAMta,QAAiBwa,IAAMC,KAAK,8CAA+C,CAAEjX,UACnF8W,EAA8Bta,EAASwJ,KAAK5C,SAC5C,MAAO8C,GACP,MAAMgR,EACJhR,EAAI1J,UAAY0J,EAAI1J,SAASwJ,MAAQE,EAAI1J,SAASwJ,KAAKzM,MACnD2M,EAAI1J,SAASwJ,KAAKzM,MAClB,4CACNqd,EAA4BM,KAK1BC,GAA4Bhe,UAIhC,GAHA0H,EAAEgC,iBACF+T,EAA4B,IAC5BE,EAA8B,IACzBL,EAIL,IACE,MAAMja,QAAiBwa,IAAMC,KAAK,2CAA4C,CAAEjX,QAAOyW,gBACvFK,EAA8Bta,EAASwJ,KAAK5C,SAC5CoT,GAAmB,GACnBrF,WAAW,KACTja,EAAS,WACR,KACH,MAAOgP,GACP,MAAMgR,EACJhR,EAAI1J,UAAY0J,EAAI1J,SAASwJ,MAAQE,EAAI1J,SAASwJ,KAAKzM,MACnD2M,EAAI1J,SAASwJ,KAAKzM,MAClB,4BACNqd,EAA4BM,QAf5BN,EAA4B,gDAmB1B9d,GAAQA,IAAM5B,EAAS,KAG7B,OAAIof,IAAmB7T,EAEnB3L,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QAASwB,IACnChC,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,WAEtClC,IAAAC,cAAA,UAAI,wBACJD,IAAAC,cAAA,SAAIke,GACJne,IAAAC,cAAA,UAAQC,UAAU,MAAMM,QAASyf,IAA6B,kCAG7DJ,GACC7f,IAAAC,cAAA,KAAGC,UAAU,gBAAgBiC,MAAO,CAAEyF,MAAO,QAC1CiY,GAGJE,GACC/f,IAAAC,cAAA,KAAGC,UAAU,kBAAkBiC,MAAO,CAAEyF,MAAO,UAC5CmY,GAGL/f,IAAAC,cAAA,QAAM6L,SAAUuU,IACdrgB,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,6BACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOwW,EACPlX,SAAWsB,GAAM6V,EAAe7V,EAAEnB,OAAOO,OACzCoD,UAAQ,EACRnD,YAAY,qCAGhBpJ,IAAAC,cAAA,UAAQsI,KAAK,SAASrI,UAAU,OAAM,qBAS5CyL,EAEA3L,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,UAAI,qBACJD,IAAAC,cAAA,SAAG,uDACHD,IAAAC,cAAA,UAAQC,UAAU,MAAMM,QAASA,IAAMJ,EAAS,WAAW,WAUjEJ,IAAAC,cAAA,OAAKC,UAAU,eACbF,IAAAC,cAAA,OAAKC,UAAU,oBACbF,IAAAC,cAAA,QAAMC,UAAU,YAAYM,QAASwB,IACnChC,IAAAC,cAAA,QAAMgC,KAAK,MAAMC,aAAW,SAAQ,WAGtClC,IAAAC,cAAA,UAAI,wCACJD,IAAAC,cAAA,UAAI,WAEJD,IAAAC,cAAA,QAAM6L,SAnLSzJ,UAMnB,GALA0H,EAAEgC,iBACFkM,EAAS,IACTmG,EAAkB,IAGdnV,EAASvC,OAAS,GAAKuC,EAASvC,OAAS,GAE3C,YADAuR,EAAS,iDAKX,IAAK4F,EAEH,YADA5F,EAAS,gEAIX,GAAI4F,IAAcY,EAEhB,YADAxG,EAAS,oCAKX,GAAIsE,IAAarX,EAEf,YADA+S,EAAS,2BAKX,IAAKgH,IAAiBC,IAAiBC,IAAmBC,EAExD,YADAnH,EAAS,iDAKX,IAAKgG,EAEH,YADAhG,EAAS,6CAIX,MAAMzL,EAAW,CACf3E,YACAC,WACAmB,WACAC,QACA2U,YACAtB,WACArX,kBACA6Y,gBACAgB,cACAd,iBAGF,UAEyBiC,IAAMC,KAAK,mCAAoC3T,GAEtE4R,EAAkB,6DAClBqB,GAAkB,GAClB,MAAOrQ,GACHA,EAAI1J,UAAY0J,EAAI1J,SAASwJ,MAAQE,EAAI1J,SAASwJ,KAAKzM,MACzDwV,EAAS7I,EAAI1J,SAASwJ,KAAKzM,OAE3BwV,EAAS,iDAqHPjY,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,cACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOtB,EACPY,SAAWsB,GAAM4T,EAAa5T,EAAEnB,OAAOO,OACvCoD,UAAQ,EACRnD,YAAY,sBAGhBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,aACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOrB,EACPW,SAAWsB,GAAM6T,EAAY7T,EAAEnB,OAAOO,OACtCoD,UAAQ,EACRnD,YAAY,qBAGhBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,YACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAOF,EACPR,SAAWsB,GAAM+D,EAAY/D,EAAEnB,OAAOO,OACtCoD,UAAQ,EACRnD,YAAY,sCAGhBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,SACPD,IAAAC,cAAA,SACEsI,KAAK,QACLY,MAAOD,EACPT,SAAWsB,GAAMuS,EAASvS,EAAEnB,OAAOO,OACnCoD,UAAQ,EACRnD,YAAY,wBAEdpJ,IAAAC,cAAA,UACEsI,KAAK,SACL/H,QAlQiB6B,UAI3B,GAFAuc,EAA0B,IAC1BE,EAA4B,IACvB5V,EAAL,CAIAoV,GAAiB,GACjB,IACE,MAAM5Y,QAAiBwa,IAAMC,KAAK,4CAA6C,CAAEjX,UACjF4V,EAA4BpZ,EAASwJ,KAAK5C,SAC1CkS,GAAY,GAGR9Y,EAASwJ,KAAK9L,MAChBsb,EAAiBhZ,EAASwJ,KAAK9L,MAEjC,MAAOgM,GACP,MAAMkR,EACJlR,EAAI1J,UAAY0J,EAAI1J,SAASwJ,MAAQE,EAAI1J,SAASwJ,KAAKzM,MACnD2M,EAAI1J,SAASwJ,KAAKzM,MAClB,4DACNmc,EAA0B0B,GAC3B,QACChC,GAAiB,SApBjBM,EAA0B,mCA8PlBnJ,SAAU4I,EACVne,UAAU,OAETme,EAAgB,aAAgBE,EAAW,cAAgB,0BAG7DI,GAA0B3e,IAAAC,cAAA,KAAGC,UAAU,gBAAgBiC,MAAO,CAAEyF,MAAO,QAAU+W,GACjFE,GAA4B7e,IAAAC,cAAA,KAAGC,UAAU,kBAAkBiC,MAAO,CAAEyF,MAAO,UAAYiX,IAEzFN,GACCve,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,2BACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAO0U,EACPpV,SAAWsB,GAAM+T,EAAa/T,EAAEnB,OAAOO,OACvCoD,UAAQ,EACRnD,YAAY,qBAMlBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,MAAIkC,MAAO,CAACyF,MAAO,YAAY,8BAC/B5H,IAAAC,cAAA,MAAIkC,MAAO,CAAEoe,cAAe,OAAQC,YAAa,WAC/CxgB,IAAAC,cAAA,UAAI,uEACJD,IAAAC,cAAA,UAAI,4CACJD,IAAAC,cAAA,UAAI,yEACJD,IAAAC,cAAA,UAAI,mFAIRD,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,YACPD,IAAAC,cAAA,SACEsI,KAAK,WACLY,MAAOoT,EACP9T,SAAWsB,GAAMyS,EAAYzS,EAAEnB,OAAOO,OACtCoD,UAAQ,EACRnD,YAAY,qCAGdpJ,IAAAC,cAAA,MAAIC,UAAU,oBAAoBiC,MAAO,CAAEoe,cAAe,OAAQE,QAAS,IACzEzgB,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAOqX,EAAe,QAAU,MAAOjW,SAAU,WAC3DiW,EAAe,SAAM,SAAI,+BAE5Bjf,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAOsX,EAAe,QAAU,MAAOlW,SAAU,WAC3DkW,EAAe,SAAM,SAAI,iCAE5Blf,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAOwX,EAAY,QAAU,MAAOpW,SAAU,WACxDoW,EAAY,SAAM,SAAI,sBAEzBpf,IAAAC,cAAA,MAAIkC,MAAO,CAAEyF,MAAOuX,EAAiB,QAAU,MAAOnW,SAAU,WAC7DmW,EAAiB,SAAM,SAAI,6CAG/B5C,GACCvc,IAAAC,cAAA,KAAGC,+BAAgCmf,IAAsBqB,iBAAiB,sBACpDrB,MAI1Brf,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,oBACPD,IAAAC,cAAA,SACEsI,KAAK,WACLY,MAAOjE,EACPuD,SAAWsB,GAAM5E,EAAmB4E,EAAEnB,OAAOO,OAC7CoD,UAAQ,EACRnD,YAAY,uBAGhBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,aAAO,6BACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAO4U,EACPtV,SAAWsB,GAAMiU,EAAiBjU,EAAEnB,OAAOO,OAC3CC,YAAY,iCAGhBpJ,IAAAC,cAAA,WACED,IAAAC,cAAA,aACED,IAAAC,cAAA,SACEsI,KAAK,WACLuB,QAASmU,EACTxV,SAAWsB,GAAMmU,EAAiBnU,EAAEnB,OAAOkB,SAC3CyC,UAAQ,IACR,mCAMNvM,IAAAC,cAAA,OAAKkC,MAAO,CAAEwH,QAAS,SACrB3J,IAAAC,cAAA,aAAO,0BACPD,IAAAC,cAAA,SACEsI,KAAK,OACLY,MAAO4V,EACPtW,SAAWsB,GAAMiV,EAAejV,EAAEnB,OAAOO,UAI7CnJ,IAAAC,cAAA,UAAQsI,KAAK,SAASrI,UAAU,OAAM,gBAIvCuC,GAASzC,IAAAC,cAAA,KAAGC,UAAU,gBAAgBiC,MAAO,CAAEyF,MAAO,QAAUnF,GAGjEzC,IAAAC,cAAA,KAAGkC,MAAO,CAAE+P,UAAW,SAAU,2BACN,IACzBlS,IAAAC,cAAA,KACEkC,MAAO,CAAEyF,MAAO,WAChB+Y,KAAK,SACLngB,QAAUuJ,IACRA,EAAEgC,iBACF3L,EAAS,YAEZ,4CC5WIwgB,MA7DFjK,IAAmB,IAAlBkK,UAAEA,GAAWlK,EACzB,MAAO1L,EAAK6V,GAAUhgB,mBAAS,KACxBwL,EAASyU,GAAcjgB,mBAAS,KAChC2B,EAAOwV,GAAYnX,mBAAS,IAqCnC,OACEd,IAAAC,cAAA,OAAKC,UAAU,aACbF,IAAAC,cAAA,OAAKC,UAAU,kBACbF,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAA,QAAM6L,SAzBYzJ,UACtB0H,EAAEgC,iBAEF,MAAMqR,EAhBYnS,KAClB,MAAM+V,EAAYC,IAASC,IAAIC,KAAK9S,MAAM,iCACpC+S,EAAKH,IAASC,IAAIC,KAAK9S,MAAM,oBAQnC,OANkB4S,IAASI,IAAIC,QAAQrW,EAAK+V,EAAW,CACrDI,GAAIA,EACJG,KAAMN,IAASM,KAAKC,IACpBf,QAASQ,IAASQ,IAAIC,QAGPhY,YAMIiY,CAAW1W,GAEhC,IACE,MAAMvF,QAAiBwa,IAAMC,KAC3B,yCACA,CAAElV,IAAKmS,GACP,CAAEpR,QAAS,CAAEC,eAAgB,sBAG/B8U,EAAWrb,EAASwJ,KAAK5C,SACzB2L,EAAS,IACL4I,GAAWA,IACf,MAAOzR,GAAK,IAAAwS,EAAAC,EACZ5J,GAAqB,QAAZ2J,EAAAxS,EAAI1J,gBAAQ,IAAAkc,OAAA,EAAM,QAANC,EAAZD,EAAc1S,YAAI,IAAA2S,OAAA,EAAlBA,EAAoBpf,QAAS,sBACtCse,EAAW,OASP/gB,IAAAC,cAAA,SACEsI,KAAK,WACLY,MAAO8B,EACPxC,SAAWsB,GAAM+W,EAAO/W,EAAEnB,OAAOO,OACjCC,YAAY,qBACZmD,UAAQ,IAEVvM,IAAAC,cAAA,UAAQsI,KAAK,UAAS,WAEvB+D,GAAWtM,IAAAC,cAAA,KAAGC,UAAU,mBAAmBoM,GAC3C7J,GAASzC,IAAAC,cAAA,KAAGC,UAAU,iBAAiBuC,gfC4MjCqf,OAzNf,WACE,MAAM1hB,EAAWC,eACVsc,EAAYC,GAAiB9b,oBAAS,IACtCihB,EAAUC,GAAelhB,oBAAS,IAClCmhB,EAAYC,GAAiBphB,mBAAS+B,OAAOsf,YAActf,OAAOuf,YAGzEhhB,oBAAU,KAER,MAAMihB,EAAa/hB,aAAaC,QAAQ,cACxCqc,EAA6B,SAAfyF,GAGd,MAAMC,EAAeA,KACnBJ,EAAcrf,OAAOsf,YAActf,OAAOuf,aAI5C,OADAvf,OAAO4W,iBAAiB,SAAU6I,GAC3B,IAAMzf,OAAO6W,oBAAoB,SAAU4I,IACjD,IAEH,MAAMC,EAAoBC,IAItBpiB,EAHGuc,GAAuB,WAAT6F,GAA8B,YAATA,EAG7BA,EAFA,WAgBb,OACExiB,IAAAC,cAAA,OAAKC,UAAU,OACbF,IAAAC,cAAA,OAAKC,UAAU,4BAEbF,IAAAC,cAAA,UACEC,UAAU,qBACVM,QAASA,IAAM+hB,EAAiB,SAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAaQ,IAAgBC,IAClCta,IAAI,OACJlI,UAAU,iBAGdF,IAAAC,cAAA,UAAQC,UAAU,qBAAqBM,QAnBpBmiB,KACvBX,EAAaY,IAAeA,KAmBtB5iB,IAAAC,cAAA,OACE8H,IAAKka,EAAaY,IAAiBC,IACnC1a,IAAK2Z,EAAW,SAAW,OAC3B7hB,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,8BACVM,QAASA,IAAM+hB,EAAiB,YAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAac,IAAkBC,IACpC5a,IAAI,UACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,qBACVM,QAASA,IAAM+hB,EAAiB,SAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAagB,IAAeC,IACjC9a,IAAI,OACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,qBACVM,QAASA,IAAM+hB,EAAiB,YAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAakB,IAAkB/U,IACpChG,IAAI,UACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,uBACVM,QAASA,IAAM+hB,EAAiB,aAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAamB,KAAkBC,KACpCjb,IAAI,WACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,sBACVM,QAASA,IAAM+hB,EAAiB,UAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAaqB,KAAgBC,KAClCnb,IAAI,QACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,qBACVM,QAASA,IAAM+hB,EAAiB,SAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAauB,KAAeC,KACjCrb,IAAI,OACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,qBACVM,QAASA,IAAM+hB,EAAiB,eAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAayB,KAAqBC,KACvCvb,IAAI,aACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,oBACVM,QAASA,IAAM+hB,EAAiB,YAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAa2B,KAAkBC,KACpCzb,IAAI,UACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,wBACVM,QAASA,IAAM+hB,EAAiB,qBAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAa6B,KAAyBC,KAC3C3b,IAAI,UACJlI,UAAU,iBAGdF,IAAAC,cAAA,UACEC,UAAU,sBACVM,QAASA,IAAM+hB,EAAiB,SAChC9M,SAAUsM,GAEV/hB,IAAAC,cAAA,OACE8H,IAAKka,EAAa+B,KAAgBC,KAClC7b,IAAI,OACJlI,UAAU,iBAKZyc,EAYA3c,IAAAC,cAAA,UAAQC,UAAU,uBAAuBM,QA5J5BoM,KACnBtM,aAAauM,WAAW,cACxB+P,GAAc,GACdxc,EAAS,YA0JDJ,IAAAC,cAAA,OACE8H,IAAKka,EAAaiC,KAAgBC,KAClC/b,IAAI,SACJlI,UAAU,iBAfdF,IAAAC,cAAA,UACEC,UAAU,sBACVM,QAASA,IAAMJ,EAAS,WAExBJ,IAAAC,cAAA,OACE8H,IAAKka,EAAaiC,KAAgBC,KAClC/b,IAAI,QACJlI,UAAU,kBAelBF,IAAAC,cAACmkB,IAAM,KACLpkB,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAACF,EAAI,QAClCC,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAACE,EAAI,QAClCH,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,WAAW8B,QAAStkB,IAAAC,cAACU,EAAO,QACxCX,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAAC8C,EAAI,QAClC/C,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,WAAW8B,QAAStkB,IAAAC,cAACoD,EAAO,QACxCrD,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,YAAY8B,QAAStkB,IAAAC,cAACskB,EAAO,QACzCvkB,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,SAAS8B,QAAStkB,IAAAC,cAAC+M,EAAK,QACpChN,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAACgN,EAAI,QAClCjN,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,cAAc8B,QAAStkB,IAAAC,cAACukB,EAAU,QAC9CxkB,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,WAAW8B,QAAStkB,IAAAC,cAACkN,EAAO,QACxCnN,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,oBAAoB8B,QAAStkB,IAAAC,cAAC0N,EAAc,QACxD3N,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAACwkB,EAAI,QAClCzkB,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,SAAS8B,QAAStkB,IAAAC,cAACoc,EAAK,QACpCrc,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,UAAU8B,QAAStkB,IAAAC,cAACykB,EAAM,QACtC1kB,IAAAC,cAACokB,IAAK,CAAC7B,KAAK,QAAQ8B,QAAStkB,IAAAC,cAAC2gB,EAAI,WCtP3B+D,OAZSC,IAClBA,GAAeA,aAAuBC,UACxChlB,EAAAkK,EAAA,GAAAiF,KAAAnP,EAAAilB,KAAA,WAAqB9V,KAAK2H,IAAiD,IAAhDoO,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,QAAEA,GAASxO,EACpEoO,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,MCCDQ,IAASC,WAAW5S,SAAS6S,eAAe,SAEpDC,OACHvlB,IAAAC,cAACD,IAAMwlB,WAAU,KACfxlB,IAAAC,cAACwlB,IAAa,KACZzlB,IAAAC,cAAC6hB,GAAG,SAKV6C","file":"static/js/main.ef8d6ac9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login.8409eddf.png\";","module.exports = __webpack_public_path__ + \"static/media/login-portrait.9a5614c9.png\";","module.exports = __webpack_public_path__ + \"static/media/home1.e79b64ff.png\";","module.exports = __webpack_public_path__ + \"static/media/home1-portrait.de6c7041.png\";","module.exports = __webpack_public_path__ + \"static/media/sign-in.fc0421e3.png\";","module.exports = __webpack_public_path__ + \"static/media/sign-in-portrait.540304e4.png\";","module.exports = __webpack_public_path__ + \"static/media/presale.b2804b74.png\";","module.exports = __webpack_public_path__ + \"static/media/presale-portrait.63d5f083.png\";","module.exports = __webpack_public_path__ + \"static/media/game.d8a20dc5.png\";","module.exports = __webpack_public_path__ + \"static/media/game-portrait.083c6053.png\";","module.exports = __webpack_public_path__ + \"static/media/profile.782acbb0.png\";","module.exports = __webpack_public_path__ + \"static/media/profile-portrait.acc5d4d9.png\";","module.exports = __webpack_public_path__ + \"static/media/about-us.97bd2e64.png\";","module.exports = __webpack_public_path__ + \"static/media/about-us-portrait.f2bd7e50.png\";","module.exports = __webpack_public_path__ + \"static/media/stats.a860b957.png\";","module.exports = __webpack_public_path__ + \"static/media/stats-portrait.80cebc6a.png\";","module.exports = __webpack_public_path__ + \"static/media/help.a34ab212.png\";","module.exports = __webpack_public_path__ + \"static/media/help-portrait.fb58e619.png\";","module.exports = __webpack_public_path__ + \"static/media/whitepaper.c24b9570.png\";","module.exports = __webpack_public_path__ + \"static/media/whitepaper-portrait.82e8fa24.png\";","module.exports = __webpack_public_path__ + \"static/media/roadmap.b96b74b3.png\";","module.exports = __webpack_public_path__ + \"static/media/roadmap-portrait.20b516bf.png\";","module.exports = __webpack_public_path__ + \"static/media/confese-and-earn.e2cf2840.png\";","module.exports = __webpack_public_path__ + \"static/media/confese-and-earn-portrait.49add1ea.png\";","module.exports = __webpack_public_path__ + \"static/media/home2.d7923302.png\";","module.exports = __webpack_public_path__ + \"static/media/home2-portrait.dd001171.png\";","import React from 'react';\r\nimport './home.css';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className=\"home-page\">\r\n      <div className=\"home-container\">\r\n        <h1>Home</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './lock.css';\r\n\r\nconst Lock = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLockUnlock = () => {\r\n    const isLocked = localStorage.getItem('isLocked') === 'true';\r\n\r\n    if (isLocked) {\r\n      localStorage.setItem('isLocked', 'false');\r\n    } else {\r\n      localStorage.setItem('isLocked', 'true');\r\n    }\r\n\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <div className=\"lock-page\">\r\n      <div className=\"lock-container\">\r\n        <h1>{localStorage.getItem('isLocked') === 'true' ? 'Unlock' : 'Lock'}</h1>\r\n        <p>\r\n          {localStorage.getItem('isLocked') === 'true'\r\n            ? 'Your account is currently locked. Click below to unlock it.'\r\n            : 'Click below to lock your account.'}\r\n        </p>\r\n\r\n        {/* Lock/Unlock button */}\r\n        <button className=\"btn btn-cube-hover\" onClick={handleLockUnlock}>\r\n          {localStorage.getItem('isLocked') === 'true' ? 'Unlock Account' : 'Lock Account'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Lock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./presale.css\";\r\n\r\nconst Presale = () => {\r\n  const [timeLeft, setTimeLeft] = useState({});\r\n  const [tokensSold, setTokensSold] = useState(350000);\r\n  const totalTokens = 1700000000;\r\n  const presaleEnd = new Date(\"2024-12-31T23:59:59\").getTime();\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      const now = new Date().getTime();\r\n      const timeRemaining = presaleEnd - now;\r\n\r\n      if (timeRemaining <= 0) {\r\n        clearInterval(timer);\r\n        setTimeLeft({});\r\n      } else {\r\n        setTimeLeft({\r\n          days: Math.floor(timeRemaining / (1000 * 60 * 60 * 24)),\r\n          hours: Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\r\n          minutes: Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60)),\r\n          seconds: Math.floor((timeRemaining % (1000 * 60)) / 1000),\r\n        });\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [presaleEnd]);\r\n\r\n  const handleBuyTokens = async () => {\r\n    const amount = 0.1; // Example amount per purchase\r\n    try {\r\n      console.log(`Buying SNV2 with ${amount} ...`);\r\n      setTokensSold((prev) => prev + 10000);\r\n    } catch (error) {\r\n      console.error(\"Transaction failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleShareTwitter = () => {\r\n    const tweetText = encodeURIComponent(\r\n      \"Join the SNV2 Revolution – Limited Presale Live Now! Buy now: mysin.io\"\r\n    );\r\n    window.open(`https://twitter.com/intent/tweet?text=${tweetText}`, \"_blank\");\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n  const close = () => navigate(\"/\");\r\n\r\n  return (\r\n    <div className=\"presale-page\">\r\n      <span className=\"close-btn-presale\" onClick={close}>\r\n        <span role=\"img\" aria-label=\"close icon\">❌</span>\r\n      </span>\r\n      <section className=\"hero-section\">\r\n        <h1>Join the SNV2 Revolution – Limited Presale Live Now!</h1>\r\n        <p>\r\n          Buy SNV2 tokens now and be part of the future of good deeds & crypto rewards.\r\n        </p>\r\n        <div className=\"countdown\">\r\n          <h2>Presale Ends In:</h2>\r\n          <p>\r\n            {timeLeft.days || 0}d {timeLeft.hours || 0}h {timeLeft.minutes || 0}m{\" \"}\r\n            {timeLeft.seconds || 0}s\r\n          </p>\r\n        </div>\r\n        <div className=\"progress-container\">\r\n          <label>\r\n            Presale Progress: {tokensSold} / {totalTokens} Tokens Sold\r\n          </label>\r\n          <div className=\"progress-bar\">\r\n            <div\r\n              className=\"progress-fill\"\r\n              style={{ width: `${(tokensSold / totalTokens) * 100}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <button onClick={handleBuyTokens} className=\"btn\">\r\n          Buy SNV2 Now\r\n        </button>\r\n      </section>\r\n      <section className=\"security-section\">\r\n        <h2>Security & Anti-Whale Measures</h2>\r\n        <ul>\r\n          <li>\r\n            <span role=\"img\" aria-label=\"check mark\">✅</span> Limit of 1 purchase per IP and per wallet.\r\n          </li>\r\n          <li>\r\n            <span role=\"img\" aria-label=\"check mark\">✅</span> Blacklist system for fraudulent activities.\r\n          </li>\r\n          <li>\r\n            <span role=\"img\" aria-label=\"check mark\">✅</span> LP Lock: Liquidity is locked for 1 year after presale completion.\r\n          </li>\r\n        </ul>\r\n      </section>\r\n      <section className=\"referral-section\">\r\n        <h2>Social Media & Referral Program</h2>\r\n        <ul>\r\n          <li>\r\n            <span role=\"img\" aria-label=\"check mark\">✅</span> Live counter shows the percentage of SNV2 sold.\r\n          </li>\r\n          <li>\r\n            <span role=\"img\" aria-label=\"check mark\">✅</span> Early buyers gain Whitelist Access through our Referral System.\r\n          </li>\r\n        </ul>\r\n        <button onClick={handleShareTwitter} className=\"share-button btn\">\r\n          Share on Twitter\r\n        </button>\r\n      </section>\r\n      <footer className=\"presale-footer\">\r\n        <p>\r\n          <span role=\"img\" aria-label=\"warning\">⚠️</span> Always verify the official contract address before making any transaction. Crypto investments are high-risk.\r\n        </p>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Presale;\r\n","import React from 'react';\r\nimport './game.css';\r\n\r\nconst Game = () => {\r\n  return (\r\n    <div className=\"game-page\">\r\n      <div className=\"game-container\">\r\n        <h1>Game</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './profile.css';\r\n\r\nconst countries = [\r\n  \"Afghanistan\",\r\n  \"Albania\",\r\n  \"Algeria\",\r\n  \"Andorra\",\r\n  \"Angola\",\r\n  \"Antigua and Barbuda\",\r\n  \"Argentina\",\r\n  \"Armenia\",\r\n  \"Australia\",\r\n  \"Austria\",\r\n  \"Azerbaijan\",\r\n  \"Bahamas\",\r\n  \"Bahrain\",\r\n  \"Bangladesh\",\r\n  \"Barbados\",\r\n  \"Belarus\",\r\n  \"Belgium\",\r\n  \"Belize\",\r\n  \"Benin\",\r\n  \"Bhutan\",\r\n  \"Bolivia\",\r\n  \"Bosnia and Herzegovina\",\r\n  \"Botswana\",\r\n  \"Brazil\",\r\n  \"Brunei\",\r\n  \"Bulgaria\",\r\n  \"Burkina Faso\",\r\n  \"Burundi\",\r\n  \"Cabo Verde\",\r\n  \"Cambodia\",\r\n  \"Cameroon\",\r\n  \"Canada\",\r\n  \"Central African Republic\",\r\n  \"Chad\",\r\n  \"Chile\",\r\n  \"China\",\r\n  \"Colombia\",\r\n  \"Comoros\",\r\n  \"Congo (Congo-Brazzaville)\",\r\n  \"Costa Rica\",\r\n  \"Croatia\",\r\n  \"Cuba\",\r\n  \"Cyprus\",\r\n  \"Czech Republic (Czechia)\",\r\n  \"Democratic Republic of the Congo\",\r\n  \"Denmark\",\r\n  \"Djibouti\",\r\n  \"Dominica\",\r\n  \"Dominican Republic\",\r\n  \"Ecuador\",\r\n  \"Egypt\",\r\n  \"El Salvador\",\r\n  \"Equatorial Guinea\",\r\n  \"Eritrea\",\r\n  \"Estonia\",\r\n  \"Eswatini (fmr. \\\"Swaziland\\\")\",\r\n  \"Ethiopia\",\r\n  \"Fiji\",\r\n  \"Finland\",\r\n  \"France\",\r\n  \"Gabon\",\r\n  \"Gambia\",\r\n  \"Georgia\",\r\n  \"Germany\",\r\n  \"Ghana\",\r\n  \"Greece\",\r\n  \"Grenada\",\r\n  \"Guatemala\",\r\n  \"Guinea\",\r\n  \"Guinea-Bissau\",\r\n  \"Guyana\",\r\n  \"Haiti\",\r\n  \"Holy See\",\r\n  \"Honduras\",\r\n  \"Hungary\",\r\n  \"Iceland\",\r\n  \"India\",\r\n  \"Indonesia\",\r\n  \"Iran\",\r\n  \"Iraq\",\r\n  \"Ireland\",\r\n  \"Israel\",\r\n  \"Italy\",\r\n  \"Jamaica\",\r\n  \"Japan\",\r\n  \"Jordan\",\r\n  \"Kazakhstan\",\r\n  \"Kenya\",\r\n  \"Kiribati\",\r\n  \"Kuwait\",\r\n  \"Kyrgyzstan\",\r\n  \"Laos\",\r\n  \"Latvia\",\r\n  \"Lebanon\",\r\n  \"Lesotho\",\r\n  \"Liberia\",\r\n  \"Libya\",\r\n  \"Liechtenstein\",\r\n  \"Lithuania\",\r\n  \"Luxembourg\",\r\n  \"Madagascar\",\r\n  \"Malawi\",\r\n  \"Malaysia\",\r\n  \"Maldives\",\r\n  \"Mali\",\r\n  \"Malta\",\r\n  \"Marshall Islands\",\r\n  \"Mauritania\",\r\n  \"Mauritius\",\r\n  \"Mexico\",\r\n  \"Micronesia\",\r\n  \"Moldova\",\r\n  \"Monaco\",\r\n  \"Mongolia\",\r\n  \"Montenegro\",\r\n  \"Morocco\",\r\n  \"Mozambique\",\r\n  \"Myanmar (formerly Burma)\",\r\n  \"Namibia\",\r\n  \"Nauru\",\r\n  \"Nepal\",\r\n  \"Netherlands\",\r\n  \"New Zealand\",\r\n  \"Nicaragua\",\r\n  \"Niger\",\r\n  \"Nigeria\",\r\n  \"North Korea\",\r\n  \"North Macedonia\",\r\n  \"Norway\",\r\n  \"Oman\",\r\n  \"Pakistan\",\r\n  \"Palau\",\r\n  \"Palestine State\",\r\n  \"Panama\",\r\n  \"Papua New Guinea\",\r\n  \"Paraguay\",\r\n  \"Peru\",\r\n  \"Philippines\",\r\n  \"Poland\",\r\n  \"Portugal\",\r\n  \"Qatar\",\r\n  \"Romania\",\r\n  \"Russia\",\r\n  \"Rwanda\",\r\n  \"Saint Kitts and Nevis\",\r\n  \"Saint Lucia\",\r\n  \"Saint Vincent and the Grenadines\",\r\n  \"Samoa\",\r\n  \"San Marino\",\r\n  \"Sao Tome and Principe\",\r\n  \"Saudi Arabia\",\r\n  \"Senegal\",\r\n  \"Serbia\",\r\n  \"Seychelles\",\r\n  \"Sierra Leone\",\r\n  \"Singapore\",\r\n  \"Slovakia\",\r\n  \"Slovenia\",\r\n  \"Solomon Islands\",\r\n  \"Somalia\",\r\n  \"South Africa\",\r\n  \"South Korea\",\r\n  \"South Sudan\",\r\n  \"Spain\",\r\n  \"Sri Lanka\",\r\n  \"Sudan\",\r\n  \"Suriname\",\r\n  \"Sweden\",\r\n  \"Switzerland\",\r\n  \"Syria\",\r\n  \"Tajikistan\",\r\n  \"Tanzania\",\r\n  \"Thailand\",\r\n  \"Timor-Leste\",\r\n  \"Togo\",\r\n  \"Tonga\",\r\n  \"Trinidad and Tobago\",\r\n  \"Tunisia\",\r\n  \"Turkey\",\r\n  \"Turkmenistan\",\r\n  \"Tuvalu\",\r\n  \"Uganda\",\r\n  \"Ukraine\",\r\n  \"United Arab Emirates\",\r\n  \"United Kingdom\",\r\n  \"United States of America\",\r\n  \"Uruguay\",\r\n  \"Uzbekistan\",\r\n  \"Vanuatu\",\r\n  \"Venezuela\",\r\n  \"Vietnam\",\r\n  \"Yemen\",\r\n  \"Zambia\",\r\n  \"Zimbabwe\"\r\n];\r\n\r\nconst countryCodes = [\r\n  { name: \"Afghanistan\", dial_code: \"+93\", code: \"AF\" },\r\n  { name: \"Albania\", dial_code: \"+355\", code: \"AL\" },\r\n  { name: \"Algeria\", dial_code: \"+213\", code: \"DZ\" },\r\n  { name: \"Andorra\", dial_code: \"+376\", code: \"AD\" },\r\n  { name: \"Angola\", dial_code: \"+244\", code: \"AO\" },\r\n  { name: \"Antigua and Barbuda\", dial_code: \"+1-268\", code: \"AG\" },\r\n  { name: \"Argentina\", dial_code: \"+54\", code: \"AR\" },\r\n  { name: \"Armenia\", dial_code: \"+374\", code: \"AM\" },\r\n  { name: \"Australia\", dial_code: \"+61\", code: \"AU\" },\r\n  { name: \"Austria\", dial_code: \"+43\", code: \"AT\" },\r\n  { name: \"Azerbaijan\", dial_code: \"+994\", code: \"AZ\" },\r\n  { name: \"Bahamas\", dial_code: \"+1-242\", code: \"BS\" },\r\n  { name: \"Bahrain\", dial_code: \"+973\", code: \"BH\" },\r\n  { name: \"Bangladesh\", dial_code: \"+880\", code: \"BD\" },\r\n  { name: \"Barbados\", dial_code: \"+1-246\", code: \"BB\" },\r\n  { name: \"Belarus\", dial_code: \"+375\", code: \"BY\" },\r\n  { name: \"Belgium\", dial_code: \"+32\", code: \"BE\" },\r\n  { name: \"Belize\", dial_code: \"+501\", code: \"BZ\" },\r\n  { name: \"Benin\", dial_code: \"+229\", code: \"BJ\" },\r\n  { name: \"Bhutan\", dial_code: \"+975\", code: \"BT\" },\r\n  { name: \"Bolivia\", dial_code: \"+591\", code: \"BO\" },\r\n  { name: \"Bosnia and Herzegovina\", dial_code: \"+387\", code: \"BA\" },\r\n  { name: \"Botswana\", dial_code: \"+267\", code: \"BW\" },\r\n  { name: \"Brazil\", dial_code: \"+55\", code: \"BR\" },\r\n  { name: \"Brunei\", dial_code: \"+673\", code: \"BN\" },\r\n  { name: \"Bulgaria\", dial_code: \"+359\", code: \"BG\" },\r\n  { name: \"Burkina Faso\", dial_code: \"+226\", code: \"BF\" },\r\n  { name: \"Burundi\", dial_code: \"+257\", code: \"BI\" },\r\n  { name: \"Cabo Verde\", dial_code: \"+238\", code: \"CV\" },\r\n  { name: \"Cambodia\", dial_code: \"+855\", code: \"KH\" },\r\n  { name: \"Cameroon\", dial_code: \"+237\", code: \"CM\" },\r\n  { name: \"Canada\", dial_code: \"+1\", code: \"CA\" },\r\n  { name: \"Central African Republic\", dial_code: \"+236\", code: \"CF\" },\r\n  { name: \"Chad\", dial_code: \"+235\", code: \"TD\" },\r\n  { name: \"Chile\", dial_code: \"+56\", code: \"CL\" },\r\n  { name: \"China\", dial_code: \"+86\", code: \"CN\" },\r\n  { name: \"Colombia\", dial_code: \"+57\", code: \"CO\" },\r\n  { name: \"Comoros\", dial_code: \"+269\", code: \"KM\" },\r\n  { name: \"Congo (Congo-Brazzaville)\", dial_code: \"+242\", code: \"CG\" },\r\n  { name: \"Costa Rica\", dial_code: \"+506\", code: \"CR\" },\r\n  { name: \"Croatia\", dial_code: \"+385\", code: \"HR\" },\r\n  { name: \"Cuba\", dial_code: \"+53\", code: \"CU\" },\r\n  { name: \"Cyprus\", dial_code: \"+357\", code: \"CY\" },\r\n  { name: \"Czech Republic (Czechia)\", dial_code: \"+420\", code: \"CZ\" },\r\n  { name: \"Democratic Republic of the Congo\", dial_code: \"+243\", code: \"CD\" },\r\n  { name: \"Denmark\", dial_code: \"+45\", code: \"DK\" },\r\n  { name: \"Djibouti\", dial_code: \"+253\", code: \"DJ\" },\r\n  { name: \"Dominica\", dial_code: \"+1-767\", code: \"DM\" },\r\n  { name: \"Dominican Republic\", dial_code: \"+1-809\", code: \"DO\" },\r\n  { name: \"Ecuador\", dial_code: \"+593\", code: \"EC\" },\r\n  { name: \"Egypt\", dial_code: \"+20\", code: \"EG\" },\r\n  { name: \"El Salvador\", dial_code: \"+503\", code: \"SV\" },\r\n  { name: \"Equatorial Guinea\", dial_code: \"+240\", code: \"GQ\" },\r\n  { name: \"Eritrea\", dial_code: \"+291\", code: \"ER\" },\r\n  { name: \"Estonia\", dial_code: \"+372\", code: \"EE\" },\r\n  { name: \"Eswatini (Swaziland)\", dial_code: \"+268\", code: \"SZ\" },\r\n  { name: \"Ethiopia\", dial_code: \"+251\", code: \"ET\" },\r\n  { name: \"Fiji\", dial_code: \"+679\", code: \"FJ\" },\r\n  { name: \"Finland\", dial_code: \"+358\", code: \"FI\" },\r\n  { name: \"France\", dial_code: \"+33\", code: \"FR\" },\r\n  { name: \"Gabon\", dial_code: \"+241\", code: \"GA\" },\r\n  { name: \"Gambia\", dial_code: \"+220\", code: \"GM\" },\r\n  { name: \"Georgia\", dial_code: \"+995\", code: \"GE\" },\r\n  { name: \"Germany\", dial_code: \"+49\", code: \"DE\" },\r\n  { name: \"Ghana\", dial_code: \"+233\", code: \"GH\" },\r\n  { name: \"Greece\", dial_code: \"+30\", code: \"GR\" },\r\n  { name: \"Grenada\", dial_code: \"+1-473\", code: \"GD\" },\r\n  { name: \"Guatemala\", dial_code: \"+502\", code: \"GT\" },\r\n  { name: \"Guinea\", dial_code: \"+224\", code: \"GN\" },\r\n  { name: \"Guinea-Bissau\", dial_code: \"+245\", code: \"GW\" },\r\n  { name: \"Guyana\", dial_code: \"+592\", code: \"GY\" },\r\n  { name: \"Haiti\", dial_code: \"+509\", code: \"HT\" },\r\n  { name: \"Holy See\", dial_code: \"+379\", code: \"VA\" },\r\n  { name: \"Honduras\", dial_code: \"+504\", code: \"HN\" },\r\n  { name: \"Hungary\", dial_code: \"+36\", code: \"HU\" },\r\n  { name: \"Iceland\", dial_code: \"+354\", code: \"IS\" },\r\n  { name: \"India\", dial_code: \"+91\", code: \"IN\" },\r\n  { name: \"Indonesia\", dial_code: \"+62\", code: \"ID\" },\r\n  { name: \"Iran\", dial_code: \"+98\", code: \"IR\" },\r\n  { name: \"Iraq\", dial_code: \"+964\", code: \"IQ\" },\r\n  { name: \"Ireland\", dial_code: \"+353\", code: \"IE\" },\r\n  { name: \"Israel\", dial_code: \"+972\", code: \"IL\" },\r\n  { name: \"Italy\", dial_code: \"+39\", code: \"IT\" },\r\n  { name: \"Jamaica\", dial_code: \"+1-876\", code: \"JM\" },\r\n  { name: \"Japan\", dial_code: \"+81\", code: \"JP\" },\r\n  { name: \"Jordan\", dial_code: \"+962\", code: \"JO\" },\r\n  { name: \"Kazakhstan\", dial_code: \"+7\", code: \"KZ\" },\r\n  { name: \"Kenya\", dial_code: \"+254\", code: \"KE\" },\r\n  { name: \"Kiribati\", dial_code: \"+686\", code: \"KI\" },\r\n  { name: \"Kuwait\", dial_code: \"+965\", code: \"KW\" },\r\n  { name: \"Kyrgyzstan\", dial_code: \"+996\", code: \"KG\" },\r\n  { name: \"Laos\", dial_code: \"+856\", code: \"LA\" },\r\n  { name: \"Latvia\", dial_code: \"+371\", code: \"LV\" },\r\n  { name: \"Lebanon\", dial_code: \"+961\", code: \"LB\" },\r\n  { name: \"Lesotho\", dial_code: \"+266\", code: \"LS\" },\r\n  { name: \"Liberia\", dial_code: \"+231\", code: \"LR\" },\r\n  { name: \"Libya\", dial_code: \"+218\", code: \"LY\" },\r\n  { name: \"Liechtenstein\", dial_code: \"+423\", code: \"LI\" },\r\n  { name: \"Lithuania\", dial_code: \"+370\", code: \"LT\" },\r\n  { name: \"Luxembourg\", dial_code: \"+352\", code: \"LU\" },\r\n  { name: \"Madagascar\", dial_code: \"+261\", code: \"MG\" },\r\n  { name: \"Malawi\", dial_code: \"+265\", code: \"MW\" },\r\n  { name: \"Malaysia\", dial_code: \"+60\", code: \"MY\" },\r\n  { name: \"Maldives\", dial_code: \"+960\", code: \"MV\" },\r\n  { name: \"Mali\", dial_code: \"+223\", code: \"ML\" },\r\n  { name: \"Malta\", dial_code: \"+356\", code: \"MT\" },\r\n  { name: \"Marshall Islands\", dial_code: \"+692\", code: \"MH\" },\r\n  { name: \"Mauritania\", dial_code: \"+222\", code: \"MR\" },\r\n  { name: \"Mauritius\", dial_code: \"+230\", code: \"MU\" },\r\n  { name: \"Mexico\", dial_code: \"+52\", code: \"MX\" },\r\n  { name: \"Micronesia\", dial_code: \"+691\", code: \"FM\" },\r\n  { name: \"Moldova\", dial_code: \"+373\", code: \"MD\" },\r\n  { name: \"Monaco\", dial_code: \"+377\", code: \"MC\" },\r\n  { name: \"Mongolia\", dial_code: \"+976\", code: \"MN\" },\r\n  { name: \"Montenegro\", dial_code: \"+382\", code: \"ME\" },\r\n  { name: \"Morocco\", dial_code: \"+212\", code: \"MA\" },\r\n  { name: \"Mozambique\", dial_code: \"+258\", code: \"MZ\" },\r\n  { name: \"Myanmar (Burma)\", dial_code: \"+95\", code: \"MM\" },\r\n  { name: \"Namibia\", dial_code: \"+264\", code: \"NA\" },\r\n  { name: \"Nauru\", dial_code: \"+674\", code: \"NR\" },\r\n  { name: \"Nepal\", dial_code: \"+977\", code: \"NP\" },\r\n  { name: \"Netherlands\", dial_code: \"+31\", code: \"NL\" },\r\n  { name: \"New Zealand\", dial_code: \"+64\", code: \"NZ\" },\r\n  { name: \"Nicaragua\", dial_code: \"+505\", code: \"NI\" },\r\n  { name: \"Niger\", dial_code: \"+227\", code: \"NE\" },\r\n  { name: \"Nigeria\", dial_code: \"+234\", code: \"NG\" },\r\n  { name: \"North Korea\", dial_code: \"+850\", code: \"KP\" },\r\n  { name: \"North Macedonia\", dial_code: \"+389\", code: \"MK\" },\r\n  { name: \"Norway\", dial_code: \"+47\", code: \"NO\" },\r\n  { name: \"Oman\", dial_code: \"+968\", code: \"OM\" },\r\n  { name: \"Pakistan\", dial_code: \"+92\", code: \"PK\" },\r\n  { name: \"Palau\", dial_code: \"+680\", code: \"PW\" },\r\n  { name: \"Palestine State\", dial_code: \"+970\", code: \"PS\" },\r\n  { name: \"Panama\", dial_code: \"+507\", code: \"PA\" },\r\n  { name: \"Papua New Guinea\", dial_code: \"+675\", code: \"PG\" },\r\n  { name: \"Paraguay\", dial_code: \"+595\", code: \"PY\" },\r\n  { name: \"Peru\", dial_code: \"+51\", code: \"PE\" },\r\n  { name: \"Philippines\", dial_code: \"+63\", code: \"PH\" },\r\n  { name: \"Poland\", dial_code: \"+48\", code: \"PL\" },\r\n  { name: \"Portugal\", dial_code: \"+351\", code: \"PT\" },\r\n  { name: \"Qatar\", dial_code: \"+974\", code: \"QA\" },\r\n  { name: \"Romania\", dial_code: \"+40\", code: \"RO\" },\r\n  { name: \"Russia\", dial_code: \"+7\", code: \"RU\" },\r\n  { name: \"Rwanda\", dial_code: \"+250\", code: \"RW\" },\r\n  { name: \"Saint Kitts and Nevis\", dial_code: \"+1-869\", code: \"KN\" },\r\n  { name: \"Saint Lucia\", dial_code: \"+1-758\", code: \"LC\" },\r\n  { name: \"Saint Vincent and the Grenadines\", dial_code: \"+1-784\", code: \"VC\" },\r\n  { name: \"Samoa\", dial_code: \"+685\", code: \"WS\" },\r\n  { name: \"San Marino\", dial_code: \"+378\", code: \"SM\" },\r\n  { name: \"Sao Tome and Principe\", dial_code: \"+239\", code: \"ST\" },\r\n  { name: \"Saudi Arabia\", dial_code: \"+966\", code: \"SA\" },\r\n  { name: \"Senegal\", dial_code: \"+221\", code: \"SN\" },\r\n  { name: \"Serbia\", dial_code: \"+381\", code: \"RS\" },\r\n  { name: \"Seychelles\", dial_code: \"+248\", code: \"SC\" },\r\n  { name: \"Sierra Leone\", dial_code: \"+232\", code: \"SL\" },\r\n  { name: \"Singapore\", dial_code: \"+65\", code: \"SG\" },\r\n  { name: \"Slovakia\", dial_code: \"+421\", code: \"SK\" },\r\n  { name: \"Slovenia\", dial_code: \"+386\", code: \"SI\" },\r\n  { name: \"Solomon Islands\", dial_code: \"+677\", code: \"SB\" },\r\n  { name: \"Somalia\", dial_code: \"+252\", code: \"SO\" },\r\n  { name: \"South Africa\", dial_code: \"+27\", code: \"ZA\" },\r\n  { name: \"South Korea\", dial_code: \"+82\", code: \"KR\" },\r\n  { name: \"South Sudan\", dial_code: \"+211\", code: \"SS\" },\r\n  { name: \"Spain\", dial_code: \"+34\", code: \"ES\" },\r\n  { name: \"Sri Lanka\", dial_code: \"+94\", code: \"LK\" },\r\n  { name: \"Sudan\", dial_code: \"+249\", code: \"SD\" },\r\n  { name: \"Suriname\", dial_code: \"+597\", code: \"SR\" },\r\n  { name: \"Sweden\", dial_code: \"+46\", code: \"SE\" },\r\n  { name: \"Switzerland\", dial_code: \"+41\", code: \"CH\" },\r\n  { name: \"Syria\", dial_code: \"+963\", code: \"SY\" },\r\n  { name: \"Tajikistan\", dial_code: \"+992\", code: \"TJ\" },\r\n  { name: \"Tanzania\", dial_code: \"+255\", code: \"TZ\" },\r\n  { name: \"Thailand\", dial_code: \"+66\", code: \"TH\" },\r\n  { name: \"Timor-Leste\", dial_code: \"+670\", code: \"TL\" },\r\n  { name: \"Togo\", dial_code: \"+228\", code: \"TG\" },\r\n  { name: \"Tonga\", dial_code: \"+676\", code: \"TO\" },\r\n  { name: \"Trinidad and Tobago\", dial_code: \"+1-868\", code: \"TT\" },\r\n  { name: \"Tunisia\", dial_code: \"+216\", code: \"TN\" },\r\n  { name: \"Turkey\", dial_code: \"+90\", code: \"TR\" },\r\n  { name: \"Turkmenistan\", dial_code: \"+993\", code: \"TM\" },\r\n  { name: \"Tuvalu\", dial_code: \"+688\", code: \"TV\" },\r\n  { name: \"Uganda\", dial_code: \"+256\", code: \"UG\" },\r\n  { name: \"Ukraine\", dial_code: \"+380\", code: \"UA\" },\r\n  { name: \"United Arab Emirates\", dial_code: \"+971\", code: \"AE\" },\r\n  { name: \"United Kingdom\", dial_code: \"+44\", code: \"GB\" },\r\n  { name: \"United States of America\", dial_code: \"+1\", code: \"US\" },\r\n  { name: \"Uruguay\", dial_code: \"+598\", code: \"UY\" },\r\n  { name: \"Uzbekistan\", dial_code: \"+998\", code: \"UZ\" },\r\n  { name: \"Vanuatu\", dial_code: \"+678\", code: \"VU\" },\r\n  { name: \"Venezuela\", dial_code: \"+58\", code: \"VE\" },\r\n  { name: \"Vietnam\", dial_code: \"+84\", code: \"VN\" },\r\n  { name: \"Yemen\", dial_code: \"+967\", code: \"YE\" },\r\n  { name: \"Zambia\", dial_code: \"+260\", code: \"ZM\" },\r\n  { name: \"Zimbabwe\", dial_code: \"+263\", code: \"ZW\" }\r\n];\r\n\r\nconst Profile = () => {\r\n  // Basic profile states\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [profilePictureFile, setProfilePictureFile] = useState(null);\r\n  const [walletAddress, setWalletAddress] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [phoneCountryCode, setPhoneCountryCode] = useState('');\r\n  const [isAdult, setIsAdult] = useState(false);\r\n  const [notifyQuestUpdates, setNotifyQuestUpdates] = useState(true);\r\n  const [notifyRewardAlerts, setNotifyRewardAlerts] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  const [showResetForm, setShowResetForm] = useState(false);\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [resetStatus, setResetStatus] = useState('');\r\n\r\n  // New state for earned confessions badges (only counting approved confessions)\r\n  const [earnedBadges, setEarnedBadges] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem('userId');\r\n    if (!storedUserId) {\r\n      alert(\"You are not logged in. Redirecting to the login page.\");\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    async function fetchUserData() {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/users/${storedUserId}`);\r\n        if (!response.ok) throw new Error('Failed to fetch user data');\r\n        const currentUser = await response.json();\r\n        setUser(currentUser);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchUserData();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setWalletAddress(user.walletAddress || '');\r\n      setCountry(user.country || '');\r\n      setCity(user.city || '');\r\n      setPhoneNumber(user.phoneNumber || '');\r\n      setPhoneCountryCode(user.phoneCountryCode || '');\r\n      setIsAdult(user.isAdult || false);\r\n      if (user.profilePicture) {\r\n        setProfilePicture(user.profilePicture);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  const userId = user ? (user.id || user._id) : null;\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('userId');\r\n    alert('Logged out successfully!');\r\n    navigate('/login');\r\n  };\r\n\r\n  const handleDeleteAccount = async () => {\r\n    if (\r\n      window.confirm(\r\n        'Are you sure you want to delete your account? This action cannot be undone.'\r\n      )\r\n    ) {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n          method: 'DELETE'\r\n        });\r\n        if (response.ok) {\r\n          alert('Account deleted successfully.');\r\n          navigate('/signup');\r\n        } else {\r\n          alert('Failed to delete account.');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting account:', error);\r\n        alert('An error occurred while deleting your account.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setProfilePictureFile(file);\r\n      setProfilePicture(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleWalletChange = (event) => setWalletAddress(event.target.value);\r\n\r\n  const connectWallet = async () => {\r\n    if (window.solana && window.solana.isPhantom) {\r\n      try {\r\n        const response = await window.solana.connect();\r\n        const publicKey = response.publicKey.toString();\r\n        console.log('Connected with public key:', publicKey);\r\n        setWalletAddress(publicKey);\r\n      } catch (error) {\r\n        console.error('Error connecting to Phantom Wallet:', error);\r\n      }\r\n    } else {\r\n      alert('Phantom Wallet not found. Please install it from https://phantom.app/');\r\n    }\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    if (!country || !city) {\r\n      alert('Country and City are required.');\r\n      return;\r\n    }\r\n    if (!isAdult) {\r\n      alert('You must confirm that you are 18+.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('walletAddress', walletAddress);\r\n    formData.append('country', country);\r\n    formData.append('city', city);\r\n    formData.append('phoneCountryCode', phoneCountryCode);\r\n    formData.append('phoneNumber', phoneNumber);\r\n    formData.append('isAdult', isAdult);\r\n    formData.append('notifyQuestUpdates', notifyQuestUpdates);\r\n    formData.append('notifyRewardAlerts', notifyRewardAlerts);\r\n    formData.append('username', user.username);\r\n\r\n    if (profilePictureFile) {\r\n      formData.append('profilePicture', profilePictureFile);\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n        method: 'PUT',\r\n        body: formData\r\n      });\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setUser(result.user);\r\n        alert('Profile updated successfully!');\r\n      } else {\r\n        alert('Failed to update profile.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('An error occurred while updating your profile.');\r\n    }\r\n  };\r\n\r\n  const handleLockAccount = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${userId}/lock`, {\r\n        method: 'POST'\r\n      });\r\n      if (response.ok) {\r\n        alert('Account has been locked. Please contact support to unlock.');\r\n      } else {\r\n        alert('Failed to lock account.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error locking account:', error);\r\n      alert('An error occurred while locking your account.');\r\n    }\r\n  };\r\n\r\n  const handleResetPasswordClick = () => {\r\n    setShowResetForm(true);\r\n  };\r\n\r\n  const handleSubmitResetPassword = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    if (newPassword !== confirmPassword) {\r\n      setResetStatus('Passwords do not match.');\r\n      return;\r\n    }\r\n  \r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${userId}/reset-password`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ newPassword })\r\n      });\r\n      if (response.ok) {\r\n        setResetStatus('Password reset successfully!');\r\n        setNewPassword('');\r\n        setConfirmPassword('');\r\n        setShowResetForm(false);\r\n      } else {\r\n        const errorData = await response.json();\r\n        setResetStatus(`Failed to reset password: ${errorData.message || 'Unknown error'}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error resetting password:', error);\r\n      setResetStatus('An error occurred while resetting your password.');\r\n    }\r\n  };\r\n\r\n  const handleSetup2FA = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${userId}/setup-2fa`, {\r\n        method: 'POST'\r\n      });\r\n      if (response.ok) {\r\n        await response.json();\r\n        alert('2FA setup initiated. Please check your email or authenticator app for further instructions.');\r\n      } else {\r\n        alert('Failed to setup 2FA.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error setting up 2FA:', error);\r\n      alert('An error occurred while setting up 2FA.');\r\n    }\r\n  };\r\n\r\n  const handleApplyKYC = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/users/${userId}/apply-kyc`, {\r\n        method: 'POST'\r\n      });\r\n      if (response.ok) {\r\n        alert('KYC application submitted successfully!');\r\n      } else {\r\n        alert('Failed to submit KYC application.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error applying for KYC:', error);\r\n      alert('An error occurred while applying for KYC.');\r\n    }\r\n  };\r\n\r\n  const getProfileImageUrl = () => {\r\n    let imgPath = profilePicture;\r\n    if (!imgPath && user && user.profilePicture) {\r\n      imgPath = user.profilePicture;\r\n    }\r\n    if (imgPath && imgPath.replace) {\r\n      imgPath = imgPath.replace(/\\\\/g, '/');\r\n      if (imgPath.startsWith('uploads')) {\r\n        return `http://localhost:5000/${imgPath}`;\r\n      }\r\n      return imgPath;\r\n    }\r\n    return 'default-profile.png';\r\n  };\r\n\r\n  // New useEffect: fetch all confessions and compute earned confessions badges (only count approved confessions)\r\n  useEffect(() => {\r\n    async function fetchUserConfessions() {\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/confessions');\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          // Filter for confessions for the current user that are approved\r\n          const userConfessions = data.filter(\r\n            conf => conf.user === user.referralCode && conf.status === 'approved'\r\n          );\r\n          let badges = [];\r\n          if (userConfessions.length >= 1) {\r\n            badges.push('First Confession');\r\n          }\r\n          if (userConfessions.length >= 50) {\r\n            badges.push('Confession King');\r\n          }\r\n          const totalVotes = userConfessions.reduce((sum, conf) => sum + (conf.votes || 0), 0);\r\n          if (totalVotes >= 500) {\r\n            badges.push('Soul Seeker');\r\n          }\r\n          const now = new Date();\r\n          const dayOfWeek = now.getDay();\r\n          const correctedDay = dayOfWeek === 0 ? 7 : dayOfWeek;\r\n          const monday = new Date(now);\r\n          monday.setDate(now.getDate() - correctedDay + 1);\r\n          monday.setHours(0, 0, 0, 0);\r\n          const sunday = new Date(monday);\r\n          sunday.setDate(monday.getDate() + 6);\r\n          const weekConfessions = userConfessions.filter(conf => {\r\n            const confDate = new Date(conf.timestamp);\r\n            return confDate >= monday && confDate <= sunday;\r\n          });\r\n          if (weekConfessions.length > 0) {\r\n            const topConfession = weekConfessions.reduce(\r\n              (max, conf) => (conf.votes > (max.votes || 0) ? conf : max),\r\n              {}\r\n            );\r\n            if (topConfession.user === user.referralCode) {\r\n              badges.push('Honest Heart');\r\n            }\r\n          }\r\n          setEarnedBadges(badges);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching confessions for badges:\", error);\r\n      }\r\n    }\r\n    if (user && user.referralCode) {\r\n      fetchUserConfessions();\r\n    }\r\n  }, [user]);\r\n\r\n  if (loading) return <p>Loading user data...</p>;\r\n  if (!user) return <p>No user data available.</p>;\r\n\r\n  const cryptoInvestorBadges = [\r\n    { id: 1, name: 'First SNV2 Holder', description: 'Purchase SNV2 in Presale' },\r\n    { id: 2, name: 'Crypto Whale', description: 'Own 500K+ SNV2' },\r\n    { id: 3, name: 'Top Investor', description: 'Be in the Top 10 investors' },\r\n    { id: 4, name: 'Diamond Hands', description: 'Hold SNV2 for 6+ months' }\r\n  ];\r\n\r\n  const nftCollectorBadges = [\r\n    { id: 1, name: 'First NFT', description: 'Own 1 NFT from the Marketplace' },\r\n    { id: 2, name: 'NFT Enthusiast', description: 'Own 5 NFTs' },\r\n    { id: 3, name: 'Collector', description: 'Own 10 NFTs' },\r\n    { id: 4, name: 'Rare Artifact', description: 'Own a rare or limited edition NFT' }\r\n  ];\r\n\r\n  const close = () => navigate('/');\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"profile-container\">\r\n        <span className=\"close-btn\" onClick={close}>\r\n          <span role=\"img\" aria-label=\"close\">❌</span>\r\n        </span>\r\n        <h1>Profile</h1>\r\n        <h3 style={{ color: 'white' }}>\r\n          Welcome, <strong style={{ color: '#ffeb3b' }}>\r\n            {user.firstName + \" \" + user.lastName || 'Unknown User'}\r\n          </strong>!\r\n        </h3>\r\n\r\n        <div className=\"profile-details\">\r\n          <div className=\"profile-picture\">\r\n            <img\r\n              src={getProfileImageUrl()}\r\n              alt=\"Profile\"\r\n              className=\"profile-img\"\r\n              style={{ width: '150px', height: '150px', objectFit: 'cover' }}\r\n            />\r\n            <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} className=\"upload-file\" />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Username:</label>\r\n            <b>\r\n              <p style={{ fontSize: 'larger', color: '#ffeb3b' }}>\r\n                {user.username || 'Not set'}\r\n              </p>\r\n            </b>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Email:</label>\r\n            <p style={{ fontSize: '1rem', color: '#ffeb3b' }}>\r\n              {user.email || 'No email available'} (<span role=\"img\" aria-label=\"verified\">✅</span>)\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Wallet Phantom:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={walletAddress}\r\n              onChange={handleWalletChange}\r\n              placeholder=\"Enter Phantom Wallet Address\"\r\n              style={{ textAlign: 'center' }}\r\n            />\r\n            <button onClick={connectWallet} className=\"btn\">\r\n              Connect Phantom Wallet\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"user-info\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <label>18+ Confirmation:</label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={isAdult}\r\n              onChange={(e) => setIsAdult(e.target.checked)}\r\n            /><p style={{fontSize: 'small'}}> I confirm that I am 18+</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Level & EXP:</label>\r\n            <p>Level {user.level || 1}</p>\r\n            <p>EXP: {user.exp || 0}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Total SNV2 Held:</label>\r\n            <p>{user.SNV2 ? user.SNV2 : \"No Balance\"}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Total Good Deeds Completed:</label>\r\n            <p>\r\n              {user.acceptedGoodDeedsCount !== undefined\r\n                ? user.acceptedGoodDeedsCount\r\n                : (user.goodDeeds && Array.isArray(user.goodDeeds)\r\n                    ? user.goodDeeds.filter(gd => gd.accepted).length\r\n                    : 0)}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Total Confessions Posted:</label>\r\n            <p>\r\n              {user.acceptedConfessionsCount !== undefined\r\n                ? user.acceptedConfessionsCount\r\n                : (user.confessions && Array.isArray(user.confessions)\r\n                    ? user.confessions.filter(c => c.status === 'approved').length\r\n                    : 0)}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Total NFTs Owned:</label>\r\n            <p>{user.nftHoldings && Array.isArray(user.nftHoldings) ? user.nftHoldings.length : 0}</p>\r\n          </div>\r\n\r\n          {/* New section: Earned Confessions Badges (only from approved confessions) */}\r\n          <div className=\"user-info\">\r\n            <label>Your Earned Confessions Badges:</label>\r\n            {earnedBadges && earnedBadges.length > 0 ? (\r\n              <ul>\r\n                {earnedBadges.map((badge, index) => (\r\n                  <li key={index}><strong>{badge}</strong></li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p>None</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* The existing static badge sections remain unchanged */}\r\n          <div className=\"badges-section\">\r\n            <div className=\"badge-category\">\r\n              <h3 style={{ color: '#ffeb3b' }}>Crypto Investor Badges</h3>\r\n              <ul>\r\n                {cryptoInvestorBadges.map((badge) => (\r\n                  <li key={badge.id}>\r\n                    <strong>{badge.name}</strong>: {badge.description}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n            <div className=\"badge-category\">\r\n              <h3 style={{ color: '#ffeb3b' }}>NFT Collector Badges</h3>\r\n              <ul>\r\n                {nftCollectorBadges.map((badge) => (\r\n                  <li key={badge.id}>\r\n                    <strong>{badge.name}</strong>: {badge.description}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Current Quest & Status:</label>\r\n            <p>{user.currentQuest || 'No active quest'}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Completed Quests:</label>\r\n            {user.completedQuests && user.completedQuests.length > 0 ? (\r\n              <ul>\r\n                {user.completedQuests.map((quest, index) => (\r\n                  <li key={index}>{quest}</li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p>No completed quests</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Upcoming Quests:</label>\r\n            {user.upcomingQuests && user.upcomingQuests.length > 0 ? (\r\n              <ul>\r\n                {user.upcomingQuests.map((quest, index) => (\r\n                  <li key={index}>{quest}</li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p>No upcoming quests</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Leaderboard Rank:</label>\r\n            <p>#{user.rank || 'Unranked'}</p>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Country:</label>\r\n            <select\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n              style={{ textAlign: 'center', color: '#fff', backgroundColor: 'rgba(0,0,0,0.8)' }}\r\n              className=\"btn\"\r\n            >\r\n              <option value=\"\">Select your country</option>\r\n              {countries.map((countryName, index) => (\r\n                <option key={index} value={countryName}>\r\n                  {countryName}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>City:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n              placeholder=\"Enter your city\"\r\n              style={{ textAlign: 'center' }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Country Code:</label>\r\n            <select\r\n              value={phoneCountryCode}\r\n              onChange={(e) => setPhoneCountryCode(e.target.value)}\r\n              style={{ textAlign: 'center', backgroundColor: 'rgba(0,0,0,0.8)', color: '#fff' }}\r\n              className=\"btn\"\r\n            >\r\n              <option value=\"\">Select country code</option>\r\n              {countryCodes.map((item, index) => (\r\n                <option key={index} value={item.dial_code}>\r\n                  {item.name} ({item.dial_code})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Phone Number:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={phoneNumber}\r\n              onChange={(e) => setPhoneNumber(e.target.value)}\r\n              placeholder=\"Enter your phone number (optional)\"\r\n              style={{ textAlign: 'center' }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"user-info\">\r\n            <label>Account Verification Status:</label>\r\n            <p>\r\n              {user.accountVerified ? 'Verified' : 'Unverified'}{' '}\r\n              <span role=\"img\" aria-label={user.accountVerified ? 'verified' : 'warning'}>\r\n                {user.accountVerified ? '✅' : '⚠️'}\r\n              </span>\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"user-info\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <label>Notification Preferences:</label>\r\n            <div style={{color: 'white'}}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyQuestUpdates}\r\n                onChange={(e) => setNotifyQuestUpdates(e.target.checked)}\r\n              /><br />\r\n              Quest Updates\r\n            </div>\r\n            <div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={notifyRewardAlerts}\r\n                onChange={(e) => setNotifyRewardAlerts(e.target.checked)}\r\n              /><p style={{fontSize: 'small'}}> Reward Alerts</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"security-section\">\r\n            <h2>Security Settings</h2>\r\n            <p>• 1 Account per IP & Device enforced.</p>\r\n            <p>• Wallet changes require email confirmation.</p>\r\n            <p>• New IP login notifications are active.</p>\r\n            <button onClick={handleLockAccount} className=\"btn\">\r\n              Lock Account\r\n            </button>\r\n            <button onClick={() => alert('Reporting system coming soon')} className=\"btn\">\r\n              Report Fraud/Abuse\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"actions-section\">\r\n            <button onClick={handleResetPasswordClick} className=\"btn\">\r\n              Reset Password\r\n            </button>\r\n            {!showResetForm && resetStatus && <p className=\"reset-message\">{resetStatus}</p>}\r\n            <button onClick={handleSetup2FA} className=\"btn\">\r\n              Setup Two-Factor Authentication (2FA)\r\n            </button>\r\n            {user.level >= 10 && (\r\n              <button onClick={handleApplyKYC} className=\"btn\">\r\n                Apply for KYC\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {showResetForm && (\r\n            <div className=\"reset-password-form\">\r\n              <h3>Reset Password</h3>\r\n              <form onSubmit={handleSubmitResetPassword}>\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"New Password\"\r\n                  value={newPassword}\r\n                  onChange={(e) => setNewPassword(e.target.value)}\r\n                  required\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm Password\"\r\n                  value={confirmPassword}\r\n                  onChange={(e) => setConfirmPassword(e.target.value)}\r\n                  required\r\n                />\r\n                <button type=\"submit\" className=\"btn\">\r\n                  Submit\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn\"\r\n                  onClick={() => {\r\n                    setShowResetForm(false);\r\n                    setResetStatus('');\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </form>\r\n              {resetStatus && <p>{resetStatus}</p>}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"button-group\">\r\n            <button onClick={handleSaveProfile} className=\"btn\">\r\n              Save Profile\r\n            </button>\r\n            <button onClick={handleLogout} className=\"logout-button btn\">\r\n              Logout\r\n            </button>\r\n            <button onClick={handleDeleteAccount} className=\"delete-button btn\" style={{ color: 'red' }}>\r\n              Delete Account\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './about.css';\r\n\r\nconst About = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const close = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <div className=\"about-page\">\r\n      <div className=\"about-container\">\r\n        <span className=\"close-btn\" onClick={close}>\r\n          <span role=\"img\" aria-label=\"cross mark\">❌</span>\r\n        </span>\r\n        <h1>About</h1>\r\n        <h4>Discover Our Vision and Plans</h4>\r\n        <p>\r\n          Welcome to [Project Name], a groundbreaking initiative in the field of [industry/sector]. Our project aims to [brief description of goals and desired impact].\r\n        </p>\r\n        <p>\r\n          As part of this project, we will develop [brief description of main components, such as NFTs, tokens, gaming platform, etc.].\r\n        </p>\r\n        <h3>Future Plans</h3>\r\n        <p>\r\n          We plan to expand our project with new features and innovations, including [example of future features such as new NFT launches, additional game features, strategic partnerships, etc.].\r\n        </p>\r\n        <p>Our goal is to create a unique experience and add value to our community.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from 'react';\r\nimport './stats.css';\r\n\r\nconst Stats = () => {\r\n  return (\r\n    <div className=\"stats-page\">\r\n      <div className=\"stats-container\">\r\n        <h1>Stats</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stats;\r\n","import React from 'react';\r\nimport './help.css';\r\n\r\nconst Help = () => {\r\n  return (\r\n    <div className=\"help-page\">\r\n      <div className=\"help-container\">\r\n        <h1>Help</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Help;\r\n","import React from 'react';\r\nimport './wpaper.css';\r\n\r\nconst Wpaper = () => {\r\n  return (\r\n    <div className=\"wpaper-page\">\r\n      <div className=\"wpaper-container\">\r\n        <h1>Whitepaper</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wpaper;\r\n","import React from 'react';\r\nimport './rmap.css';\r\n\r\nconst RoadMap = () => {\r\n  return (\r\n    <div className=\"rmap-page\">\r\n      <div className=\"rmap-container\">\r\n        <h1>Road Map</h1>\r\n        <p>\r\n          Welcome to our website! This is the About page where we share information about our mission, values, and team.\r\n        </p>\r\n        <p>\r\n          Our goal is to provide exceptional services and ensure customer satisfaction. Feel free to explore the rest of\r\n          our website to learn more about what we offer.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoadMap;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport './confess.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// Helper function to generate referral code in the format \"username-XXXXXX\"\r\nconst generateReferralCode = (username) => {\r\n  const randomPart = Math.random().toString(36).substring(2, 8).toUpperCase();\r\n  return `${username}-${randomPart}`;\r\n};\r\n\r\n// Helper function to get the current date string in Romania time\r\nconst getRomaniaDateString = () => {\r\n  return new Date().toLocaleDateString('en-US', { timeZone: 'Europe/Bucharest' });\r\n};\r\n\r\nconst ConfessAndEarn = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // ─── ADMIN VERIFICATION ─────────────────────────────\r\n  const [adminVerified, setAdminVerified] = useState(false);\r\n  useEffect(() => {\r\n    const storedAdminVerified = localStorage.getItem('adminVerified');\r\n    if (storedAdminVerified === 'true') {\r\n      setAdminVerified(true);\r\n    }\r\n  }, []);\r\n\r\n  // ─── USER PROFILE STATE ─────────────────────────────\r\n  const [username, setUsername] = useState('');\r\n  const [userProfile, setUserProfile] = useState(() => {\r\n    const saved = sessionStorage.getItem('userProfile');\r\n    const today = getRomaniaDateString();\r\n    if (saved) {\r\n      const profile = JSON.parse(saved);\r\n      if (profile.referralCodeDate !== today) {\r\n        const usernameForReferral = profile.username || 'Guest';\r\n        profile.referralCode = generateReferralCode(usernameForReferral);\r\n        profile.referralCodeDate = today;\r\n      }\r\n      return profile;\r\n    } else {\r\n      return {\r\n        tokenBalance: 0,\r\n        badges: [],\r\n        username: '',\r\n        referralCode: generateReferralCode('Guest'),\r\n        referralCodeDate: today,\r\n      };\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    sessionStorage.setItem('userProfile', JSON.stringify(userProfile));\r\n  }, [userProfile]);\r\n\r\n  // ─── STATE FOR IMAGE/VIDEO PREVIEWS (moved up so they're defined before useEffect below) ─────────────────────────────\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [videoPreview, setVideoPreview] = useState(null);\r\n\r\n  // ─── FETCH CURRENT USER DATA ─────────────────────────────\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem('userId');\r\n    if (!storedUserId) {\r\n      console.warn('No user logged in. Please log in.');\r\n      setUsername('');\r\n      return;\r\n    }\r\n    fetch(`http://localhost:5000/api/users/${storedUserId}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log('Fetched user data:', data);\r\n        setUsername(data.username);\r\n        const today = getRomaniaDateString();\r\n        setUserProfile((prev) => {\r\n          if (prev.referralCodeDate === today) {\r\n            return { ...prev, username: data.username };\r\n          } else {\r\n            return { \r\n              ...prev, \r\n              username: data.username, \r\n              referralCode: generateReferralCode(data.username), \r\n              referralCodeDate: today \r\n            };\r\n          }\r\n        });\r\n      })\r\n      .catch((err) => console.error('Error fetching user data:', err));\r\n  }, []);\r\n\r\n  // ─── NEW: Update referral code if it still starts with \"Guest-\"\r\n  useEffect(() => {\r\n    if (username && username !== 'Guest' && userProfile.referralCode.startsWith('Guest-') && !imagePreview) {\r\n      setUserProfile((prev) => ({\r\n        ...prev,\r\n        referralCode: generateReferralCode(username),\r\n        referralCodeDate: getRomaniaDateString(),\r\n      }));\r\n    }\r\n  }, [username, userProfile.referralCode, imagePreview]);\r\n\r\n  // ─── CONFESSIONS & RELATED STATES ─────────────────────────────\r\n  const [freeDeletionsToday, setFreeDeletionsToday] = useState(0);\r\n  const [confessions, setConfessions] = useState([]);\r\n  const [pendingConfessions, setPendingConfessions] = useState([]); // Pending confessions awaiting admin approval\r\n  const [newConfession, setNewConfession] = useState({\r\n    text: '',\r\n    type: 'public',\r\n    file: null,\r\n    video: null,\r\n  });\r\n  const [systemMessage, setSystemMessage] = useState('');\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [rewardInfo, setRewardInfo] = useState({\r\n    dailyRewards: 50,\r\n    weeklyRewards: 150,\r\n    dailyTop: 3,\r\n    weeklyTop: 3,\r\n  });\r\n  const [voteErrors, setVoteErrors] = useState({});\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const confessionsPerPage = 10;\r\n\r\n  // ─── NEW: State for selected video modal ─────────────────────────────\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n\r\n  // ─── BroadcastChannel Setup ─────────────────────────────\r\n  const channelRef = useRef(null);\r\n  useEffect(() => {\r\n    channelRef.current = new BroadcastChannel('confessions_channel');\r\n    channelRef.current.onmessage = (event) => {\r\n      if (event.data.type === 'update') {\r\n        setConfessions(event.data.confessions);\r\n      }\r\n    };\r\n    return () => {\r\n      channelRef.current.close();\r\n    };\r\n  }, []);\r\n\r\n  const fetchConfessions = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/confessions');\r\n      const data = await response.json();\r\n      setConfessions(data);\r\n    } catch (error) {\r\n      console.error('Error fetching confessions:', error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchConfessions();\r\n  }, []);\r\n\r\n  // If admin, fetch pending confessions from the server\r\n  useEffect(() => {\r\n    if (adminVerified) {\r\n      fetch('http://localhost:5000/api/confessions/pending')\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log('Fetched pending confessions from server:', data);\r\n          setPendingConfessions(data);\r\n        })\r\n        .catch((err) => console.error('Error fetching pending confessions:', err));\r\n    }\r\n  }, [adminVerified]);\r\n\r\n  // ─── Set maximum confessions per day (changed from 1 to 3) ─────────────────────────────\r\n  // eslint-disable-next-line no-unused-vars\r\n  const maxConfessionsPerDay = 3;\r\n\r\n  // Fix: Instead of matching an exact referral code, match confessions whose \"user\" field starts with the username followed by a dash.\r\n  const getTodayConfessionsCount = () => {\r\n    const today = getRomaniaDateString();\r\n    const referralCodePattern = new RegExp('^' + userProfile.username + '-');\r\n    return confessions.filter(\r\n      (conf) =>\r\n        new Date(conf.timestamp).toLocaleDateString('en-US', { timeZone: 'Europe/Bucharest' }) === today &&\r\n        referralCodePattern.test(conf.user)\r\n    ).length;\r\n  };\r\n\r\n  // ─── HANDLERS FOR CONFESSION INPUTS ─────────────────────────────\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setNewConfession({ ...newConfession, [name]: value });\r\n  };\r\n\r\n  // Updated file change handler for images\r\n  const handleFileChange = async (e) => {\r\n    if (e.target.files.length > 0) {\r\n      const file = e.target.files[0];\r\n      const validImageTypes = ['image/jpeg', 'image/png', 'image/gif'];\r\n      if (!validImageTypes.includes(file.type)) {\r\n        setSystemMessage('Only image files (JPEG, PNG, GIF) are allowed.');\r\n        setNewConfession({ ...newConfession, file: null });\r\n        setImagePreview(null);\r\n        return;\r\n      }\r\n      const formData = new FormData();\r\n      formData.append('image', file);\r\n      formData.append('referralCode', userProfile.referralCode);\r\n      try {\r\n        const response = await fetch('http://localhost:5000/api/confessions/upload-temp-image', {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setImagePreview(data.url);\r\n          setNewConfession((prev) => ({ ...prev, file: data.url }));\r\n        } else {\r\n          setSystemMessage(data.error || 'Error uploading image.');\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        setSystemMessage('Error uploading image. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Updated video change handler that uploads via FormData\r\n  const handleVideoChange = (e) => {\r\n    if (e.target.files.length > 0) {\r\n      const file = e.target.files[0];\r\n      const validVideoTypes = ['video/mp4', 'video/webm', 'video/ogg'];\r\n      if (!validVideoTypes.includes(file.type)) {\r\n        setSystemMessage('Only video files (MP4, WebM, Ogg) are allowed.');\r\n        setNewConfession({ ...newConfession, video: null });\r\n        setVideoPreview(null);\r\n        return;\r\n      }\r\n      const videoURL = URL.createObjectURL(file);\r\n      const videoElement = document.createElement('video');\r\n      videoElement.preload = 'metadata';\r\n      videoElement.src = videoURL;\r\n      videoElement.onloadedmetadata = async () => {\r\n        window.URL.revokeObjectURL(videoURL);\r\n        if (videoElement.duration > 30) {\r\n          setSystemMessage('Video must be at most 30 seconds.');\r\n          setNewConfession({ ...newConfession, video: null });\r\n          setVideoPreview(null);\r\n        } else {\r\n          const formData = new FormData();\r\n          formData.append('video', file);\r\n          formData.append('referralCode', userProfile.referralCode);\r\n          console.log(\"Uploading video...\");\r\n          try {\r\n            const response = await fetch('http://localhost:5000/api/confessions/upload-temp-video', {\r\n              method: 'POST',\r\n              body: formData,\r\n            });\r\n            const data = await response.json();\r\n            console.log(\"Video upload response:\", data);\r\n            if (response.ok) {\r\n              setVideoPreview(data.url);\r\n              setNewConfession((prev) => ({ ...prev, video: data.url }));\r\n              setSystemMessage('');\r\n            } else {\r\n              setSystemMessage(data.error || 'Error uploading video.');\r\n              setNewConfession((prev) => ({ ...prev, video: null }));\r\n              setVideoPreview(null);\r\n            }\r\n          } catch (error) {\r\n            console.error(\"Upload error:\", error);\r\n            setSystemMessage('Error uploading video. Please try again.');\r\n            setNewConfession((prev) => ({ ...prev, video: null }));\r\n            setVideoPreview(null);\r\n          }\r\n        }\r\n      };\r\n    }\r\n  };\r\n\r\n  // Retrieve any previously uploaded temporary image for the user\r\n  useEffect(() => {\r\n    if (userProfile.referralCode) {\r\n      fetch(`http://localhost:5000/api/confessions/temp-image?referralCode=${userProfile.referralCode}`)\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (data.url) {\r\n            setImagePreview(data.url);\r\n            setNewConfession((prev) => ({ ...prev, file: data.url }));\r\n          }\r\n        })\r\n        .catch((err) => console.error(err));\r\n    }\r\n  }, [userProfile.referralCode]);\r\n\r\n  const submitConfession = async () => {\r\n    const wordCount = newConfession.text.trim().split(/\\s+/).length;\r\n    if (wordCount < 50) {\r\n      setSystemMessage('Confession must be at least 50 words.');\r\n      return;\r\n    }\r\n    // Updated check: allow up to maxConfessionsPerDay confessions per day (now 3)\r\n    if (getTodayConfessionsCount() >= maxConfessionsPerDay) {\r\n      setSystemMessage(`You can only upload ${maxConfessionsPerDay} confessions per day.`);\r\n      return;\r\n    }\r\n    if (\r\n      (newConfession.file && typeof newConfession.file !== 'string') ||\r\n      (newConfession.video && typeof newConfession.video !== 'string')\r\n    ) {\r\n      setSystemMessage('File conversion is in progress. Please wait a moment.');\r\n      return;\r\n    }\r\n    if (newConfession.type === 'public' && !username) {\r\n      setSystemMessage('Username not loaded yet. Please try again later.');\r\n      return;\r\n    }\r\n    const confessionData = {\r\n      text: newConfession.text,\r\n      type: newConfession.type,\r\n      user: userProfile.referralCode,\r\n      status: 'pending'\r\n    };\r\n    if (newConfession.type === 'public') {\r\n      confessionData.username = username;\r\n    }\r\n    if (newConfession.file) {\r\n      confessionData.file = newConfession.file;\r\n    }\r\n    if (newConfession.video) {\r\n      confessionData.video = newConfession.video;\r\n    }\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/confessions', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(confessionData),\r\n      });\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        setSystemMessage('Confession submitted successfully! Awaiting admin approval.');\r\n        setNewConfession({ text: '', type: 'public', file: null, video: null });\r\n        setImagePreview(null);\r\n        setVideoPreview(null);\r\n        setPendingConfessions((prev) => [result.confession, ...prev]);\r\n      } else {\r\n        setSystemMessage(result.error || 'Error submitting confession.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting confession:', error);\r\n      setSystemMessage('Error submitting confession. Please try again.');\r\n    }\r\n  };\r\n\r\n  // ─── BADGE AWARDING LOGIC ─────────────────────────────\r\n  useEffect(() => {\r\n    let badges = [];\r\n    const referralCodePattern = new RegExp('^' + userProfile.username + '-');\r\n    const userConfessions = confessions.filter(conf => referralCodePattern.test(conf.user));\r\n    if (userConfessions.length >= 1) {\r\n      badges.push('First Confession');\r\n    }\r\n    if (userConfessions.length >= 50) {\r\n      badges.push('Confession King');\r\n    }\r\n    const totalVotes = userConfessions.reduce((sum, conf) => sum + (conf.votes || 0), 0);\r\n    if (totalVotes >= 500) {\r\n      badges.push('Soul Seeker');\r\n    }\r\n    const now = new Date();\r\n    const dayOfWeek = now.getDay();\r\n    const correctedDay = dayOfWeek === 0 ? 7 : dayOfWeek;\r\n    const monday = new Date(now);\r\n    monday.setDate(now.getDate() - correctedDay + 1);\r\n    monday.setHours(0, 0, 0, 0);\r\n    const sunday = new Date(monday);\r\n    sunday.setDate(monday.getDate() + 6);\r\n    const weekConfessions = confessions.filter(conf => {\r\n      const confDate = new Date(conf.timestamp);\r\n      return confDate >= monday && confDate <= sunday;\r\n    });\r\n    if (weekConfessions.length > 0) {\r\n      const topConfession = weekConfessions.reduce((max, conf) => (conf.votes > (max.votes || 0) ? conf : max), {});\r\n      if (referralCodePattern.test(topConfession.user)) {\r\n        badges.push('Honest Heart');\r\n      }\r\n    }\r\n    setUserProfile((prev) => ({ ...prev, badges }));\r\n  }, [confessions, userProfile.username]);\r\n\r\n  const upvoteConfession = (id) => {\r\n    let error = '';\r\n    const newConfessions = confessions.map((conf) => {\r\n      const confId = conf._id || conf.id;\r\n      if (confId === id) {\r\n        if (!conf.upvotedBy) {\r\n          conf.upvotedBy = [];\r\n        }\r\n        if (conf.upvotedBy.includes(userProfile.referralCode)) {\r\n          error = 'You have already upvoted this confession.';\r\n          return conf;\r\n        }\r\n        const updatedUpvotedBy = [...conf.upvotedBy, userProfile.referralCode];\r\n        return { ...conf, votes: conf.votes + 1, upvotedBy: updatedUpvotedBy };\r\n      }\r\n      return conf;\r\n    });\r\n    if (error) {\r\n      setVoteErrors((prev) => ({ ...prev, [id]: error }));\r\n      return;\r\n    } else {\r\n      setVoteErrors((prev) => {\r\n        const newErrors = { ...prev };\r\n        delete newErrors[id];\r\n        return newErrors;\r\n      });\r\n    }\r\n    setConfessions(newConfessions);\r\n    if (channelRef.current) {\r\n      channelRef.current.postMessage({\r\n        type: 'update',\r\n        confessions: newConfessions,\r\n      });\r\n    }\r\n    \r\n    fetch(`http://localhost:5000/api/confessions/${id}/upvote`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ user: userProfile.referralCode }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setVoteErrors((prev) => ({ ...prev, [id]: data.error }));\r\n          console.error(data.error);\r\n        } else {\r\n          const updatedConfession = data.confession;\r\n          setConfessions((prevConfessions) =>\r\n            prevConfessions.map((conf) =>\r\n              (conf._id || conf.id) === id ? updatedConfession : conf\r\n            )\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error updating vote on backend:', err);\r\n      });\r\n  };\r\n\r\n  const deleteConfession = async (id) => {\r\n    const conf = confessions.find((c) => (c._id || c.id) === id);\r\n    if (!conf) return;\r\n    if (!adminVerified && conf.user !== userProfile.referralCode) {\r\n      setSystemMessage('You can only delete your own confessions.');\r\n      return;\r\n    }\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/confessions/${id}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ user: userProfile.referralCode, admin: adminVerified }),\r\n      });\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        if (freeDeletionsToday < 1) {\r\n          setFreeDeletionsToday(freeDeletionsToday + 1);\r\n          setUserProfile((prev) => ({\r\n            ...prev,\r\n            tokenBalance: prev.tokenBalance + 10,\r\n          }));\r\n          setSystemMessage('Confession deleted for free. You earned 10 SNV2.');\r\n        } else {\r\n          setSystemMessage('Confession deleted after payment.');\r\n        }\r\n        fetchConfessions();\r\n        if (channelRef.current) {\r\n          channelRef.current.postMessage({ type: 'update', confessions: [] });\r\n        }\r\n      } else {\r\n        setSystemMessage(result.error || 'Error deleting confession.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting confession:', error);\r\n      setSystemMessage('Error deleting confession. Please try again.');\r\n    }\r\n  };\r\n\r\n  const boostConfession = (id) => {\r\n    const conf = confessions.find((c) => (c._id || c.id) === id);\r\n    if (!conf) return;\r\n    const wordCount = conf.text.trim().split(/\\s+/).length;\r\n    if (wordCount < 150 || (!conf.file && !conf.video)) {\r\n      setSystemMessage('Boost requires at least 150 words and an image or video attached.');\r\n      return;\r\n    }\r\n    if (!window.confirm('Boosting this confession costs 0.01 SOL. Proceed?')) {\r\n      return;\r\n    }\r\n    const boostedUntil = Date.now() + 24 * 60 * 60 * 1000;\r\n    const newConfessions = confessions.map((c) =>\r\n      (c._id || c.id) === id ? { ...c, boostedUntil } : c\r\n    );\r\n    setConfessions(newConfessions);\r\n    if (channelRef.current) {\r\n      channelRef.current.postMessage({\r\n        type: 'update',\r\n        confessions: newConfessions,\r\n      });\r\n    }\r\n    setSystemMessage('Confession boosted for 24 hours.');\r\n  };\r\n\r\n  const reportConfession = (id) => {\r\n    let alreadyReported = false;\r\n    const newConfessions = confessions.map((c) => {\r\n      const confId = c._id || c.id;\r\n      if (confId === id) {\r\n        if (!c.reportedBy) {\r\n          c.reportedBy = [];\r\n        }\r\n        if (c.reportedBy.includes(userProfile.referralCode)) {\r\n          setSystemMessage('You have already reported this confession.');\r\n          alreadyReported = true;\r\n          return c;\r\n        }\r\n        const updatedReportedBy = [...c.reportedBy, userProfile.referralCode];\r\n        const newReports = (c.reports || 0) + 1;\r\n        if (newReports >= 5) {\r\n          return {\r\n            ...c,\r\n            reports: newReports,\r\n            hidden: true,\r\n            reportedBy: updatedReportedBy,\r\n          };\r\n        }\r\n        return { ...c, reports: newReports, reportedBy: updatedReportedBy };\r\n      }\r\n      return c;\r\n    });\r\n    if (alreadyReported) return;\r\n    setConfessions(newConfessions);\r\n    if (channelRef.current) {\r\n      channelRef.current.postMessage({\r\n        type: 'update',\r\n        confessions: newConfessions,\r\n      });\r\n    }\r\n    setSystemMessage('Confession reported.');\r\n    \r\n    fetch(`http://localhost:5000/api/confessions/${id}/report`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ user: userProfile.referralCode }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setSystemMessage(data.error);\r\n          console.error(data.error);\r\n        } else {\r\n          const updatedConfession = data.confession;\r\n          setConfessions((prevConfessions) =>\r\n            prevConfessions.map((conf) =>\r\n              (conf._id || conf.id) === id ? updatedConfession : conf\r\n            )\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error reporting confession on backend:', err);\r\n      });\r\n  };\r\n\r\n  const handleDeleteAllConfessions = async () => {\r\n    if (!window.confirm('Are you sure you want to delete ALL confessions?')) return;\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/confessions/all-delete', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ admin: true }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to delete all confessions.');\r\n      }\r\n      setSystemMessage(data.message);\r\n      fetchConfessions();\r\n    } catch (error) {\r\n      setSystemMessage(\"Error deleting all confessions: \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handleApproveConfession = (index) => {\r\n    const confession = pendingConfessions[index];\r\n    fetch(`http://localhost:5000/api/confessions/approve/${confession._id || confession.id}`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ admin: true }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          return res.text().then(text => { throw new Error(text || `HTTP error ${res.status}`) });\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log('Confession approved:', data);\r\n        let approvedConfession = data.confession;\r\n        if (!approvedConfession.file && confession.file) {\r\n          approvedConfession.file = confession.file;\r\n        }\r\n        setPendingConfessions((prev) => prev.filter((_, i) => i !== index));\r\n        setConfessions((prev) => [approvedConfession, ...prev]);\r\n        setSystemMessage('Confession approved successfully.');\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error approving confession:', err);\r\n        setSystemMessage('Error approving confession: ' + err.message);\r\n      });\r\n  };\r\n\r\n  const handleDeclineConfession = (index) => {\r\n    const confession = pendingConfessions[index];\r\n    fetch(`http://localhost:5000/api/confessions/decline/${confession._id || confession.id}`, {\r\n      method: 'DELETE',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ admin: true }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then(() => {\r\n        setPendingConfessions((prev) => prev.filter((_, i) => i !== index));\r\n        setSystemMessage('Confession declined.');\r\n      })\r\n      .catch((err) => {\r\n        console.error('Error declining confession:', err);\r\n        setSystemMessage('Error declining confession.');\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (imagePreview) URL.revokeObjectURL(imagePreview);\r\n      if (videoPreview) URL.revokeObjectURL(videoPreview);\r\n    };\r\n  }, [imagePreview, videoPreview]);\r\n\r\n  const close = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const renderConfessions = () => {\r\n    const approvedConfessions = confessions.filter(conf => conf.status !== 'pending');\r\n    const sortedConfessions = [...approvedConfessions].sort((a, b) => {\r\n      const aBoosted = a.boostedUntil && a.boostedUntil > Date.now() ? 1 : 0;\r\n      const bBoosted = b.boostedUntil && b.boostedUntil > Date.now() ? 1 : 0;\r\n      return bBoosted - aBoosted;\r\n    });\r\n    const totalPages = Math.ceil(sortedConfessions.length / confessionsPerPage);\r\n    const startIndex = (currentPage - 1) * confessionsPerPage;\r\n    const paginatedConfessions = sortedConfessions.slice(startIndex, startIndex + confessionsPerPage);\r\n    return (\r\n      <>\r\n        {paginatedConfessions.map((conf) => (\r\n          <div key={conf._id || conf.id} className=\"confession-card\">\r\n            {conf.hidden ? (\r\n              <p>This confession is under review due to multiple reports.</p>\r\n            ) : (\r\n              <>\r\n                <p>\r\n                  <strong>\r\n                    {conf.type === 'anonymous'\r\n                      ? 'Anonymous Confession'\r\n                      : `Confession by ${conf.username}`}\r\n                  </strong>\r\n                </p>\r\n                <p>{conf.text}</p>\r\n                {conf.file && (\r\n                  <div className=\"confession-image centered-image\">\r\n                    <img\r\n                      src={conf.file}\r\n                      alt=\"Confession Attachment\"\r\n                      className=\"uploaded-image\"\r\n                      onClick={() => setSelectedImage(conf.file)}\r\n                      onContextMenu={(e) => e.preventDefault()}\r\n                      draggable=\"false\"\r\n                      style={{ cursor: 'pointer', maxWidth: '100%', maxHeight: '300px' }}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {conf.video && (\r\n                  <div className=\"confession-video\">\r\n                    <video\r\n                      controls\r\n                      width=\"250\"\r\n                      onContextMenu={(e) => e.preventDefault()}\r\n                      onClick={() => setSelectedVideo(conf.video)}\r\n                      style={{ cursor: 'pointer' }}\r\n                      controlsList=\"nodownload\"\r\n                    >\r\n                      <source src={conf.video} type=\"video/mp4\" />\r\n                      Your browser does not support the video tag.\r\n                    </video>\r\n                  </div>\r\n                )}\r\n                <div className=\"confession-actions\">\r\n                  <button onClick={() => upvoteConfession(conf._id || conf.id)}>Upvote</button>\r\n                  <br />\r\n                  <span>{conf.votes} votes</span>\r\n                  {voteErrors[conf._id || conf.id] && (\r\n                    <p className=\"error-message\">{voteErrors[conf._id || conf.id]}</p>\r\n                  )}\r\n                  {(conf.user === userProfile.referralCode || adminVerified) && (\r\n                    <button className=\"btn\" onClick={() => deleteConfession(conf._id || conf.id)}>\r\n                      Delete\r\n                    </button>\r\n                  )}\r\n                  <button className=\"btn\" onClick={() => boostConfession(conf._id || conf.id)}>\r\n                    Boost\r\n                  </button>\r\n                  <button \r\n                    className=\"btn\" \r\n                    onClick={() => reportConfession(conf._id || conf.id)}\r\n                    disabled={conf.reportedBy && conf.reportedBy.includes(userProfile.referralCode)}\r\n                  >\r\n                    Report\r\n                  </button>\r\n                  {conf.reportedBy && conf.reportedBy.includes(userProfile.referralCode) ? (\r\n                    <p className=\"report-status\" style={{ color: 'green' }}>\r\n                      Reported\r\n                    </p>\r\n                  ) : null}\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        ))}\r\n        {totalPages > 1 && (\r\n          <div className=\"pagination\">\r\n            <button onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))} disabled={currentPage === 1}>\r\n              Previous\r\n            </button>\r\n            {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n              <button key={page} onClick={() => setCurrentPage(page)} className={currentPage === page ? 'active' : ''}>\r\n                {page}\r\n              </button>\r\n            ))}\r\n            <button onClick={() => setCurrentPage((prev) => Math.min(prev + 1, totalPages))} disabled={currentPage === totalPages}>\r\n              Next\r\n            </button>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderPendingConfessions = () => {\r\n    return (\r\n      <div className=\"pending-confessions-container\">\r\n        <h2>Pending Confessions for Approval</h2>\r\n        {pendingConfessions.map((conf, index) => (\r\n          <div key={conf._id || conf.id} className=\"pending-confession-item\">\r\n            <p>\r\n              <strong>\r\n                {conf.type === 'anonymous'\r\n                  ? 'Anonymous Confession'\r\n                  : `Confession by ${conf.username}`}\r\n              </strong>\r\n            </p>\r\n            <p>{conf.text}</p>\r\n            {conf.file && (\r\n              <div className=\"pending-confession-image\"\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  overflow: 'hidden',\r\n                  cursor: 'pointer',\r\n                  maxWidth: '100%',\r\n                }}\r\n              >\r\n                <img\r\n                  src={conf.file}\r\n                  alt=\"Attached\"\r\n                  onClick={() => setSelectedImage(conf.file)}\r\n                  onContextMenu={(e) => e.preventDefault()}\r\n                  draggable=\"false\"\r\n                  style={{ cursor: 'pointer', maxWidth: '100%' }}\r\n                />\r\n              </div>\r\n            )}\r\n            {conf.video && (\r\n              <div className=\"pending-confession-video\">\r\n                <video\r\n                  controls\r\n                  width=\"250\"\r\n                  onContextMenu={(e) => e.preventDefault()}\r\n                  controlsList=\"nodownload\"\r\n                  onClick={() => setSelectedVideo(conf.video)}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  <source src={conf.video} type=\"video/mp4\" />\r\n                  Your browser does not support the video tag.\r\n                </video>\r\n              </div>\r\n            )}\r\n            <div className=\"pending-confession-actions\">\r\n              <button onClick={() => handleApproveConfession(index)} className=\"btn\">Approve</button>\r\n              <button onClick={() => handleDeclineConfession(index)} className=\"btn\">Decline</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"ConfessAndEarn-page\">\r\n      <div className=\"ConfessAndEarn-container\">\r\n        <span className=\"close-btn\" onClick={close}>\r\n          <span role=\"img\" aria-label=\"cross mark\">❌</span>\r\n        </span>\r\n        <br />\r\n        {/* ADMIN CONTROLS (visible only when admin is verified) */}\r\n        {adminVerified && (\r\n          <>\r\n            <button onClick={handleDeleteAllConfessions} className=\"btn\">\r\n              Delete All Confessions\r\n            </button>\r\n            <div className=\"admin-access-granted\">\r\n              <h3>Welcome Admin!</h3>\r\n              <p>Your are allowed to DELETE any \"CONFESSION\" and also to DELETE ALL CONFESSIONS</p>\r\n            </div>\r\n          </>\r\n        )}\r\n        <h1>Confess & Earn</h1>\r\n        <p>Share your confessions and earn SNV2 tokens based on community engagement!</p>\r\n        {/* USER PROFILE DISPLAY */}\r\n        <div className=\"user-profile\">\r\n          <p><strong>Username:</strong></p>\r\n          <p style={{ color: '#ffeb3b', fontSize: 'larger' }}>\r\n            <strong>{username ? username : 'Not Logged In'}</strong>\r\n          </p>\r\n          <p><strong>Token Balance:</strong> {userProfile.tokenBalance} SNV2</p>\r\n          <p>\r\n            <strong>Badges:</strong>{' '}\r\n            {userProfile.badges.length > 0 ? userProfile.badges.join(', ') : 'None'}\r\n          </p>\r\n          <p><strong>Your ID:</strong> {userProfile.referralCode}</p>\r\n        </div>\r\n        <div className=\"confession-form\">\r\n          <textarea\r\n            name=\"text\"\r\n            placeholder=\"Write your confession here (minimum 50 words)\"\r\n            value={newConfession.text}\r\n            onChange={handleInputChange}\r\n            className=\"input-text\"\r\n          ></textarea>\r\n          <p>{newConfession.text.trim().split(/\\s+/).length} / 50 words</p>\r\n          <h5>Post Confession \"Public\" or \"Anonymous\"</h5>\r\n          <select\r\n            name=\"type\"\r\n            value={newConfession.type}\r\n            onChange={handleInputChange}\r\n            className=\"input-select btn\"\r\n            style={{ textAlign: 'center' }}\r\n          >\r\n            <option value=\"public\">Public</option>\r\n            <option value=\"anonymous\">Anonymous</option>\r\n          </select>\r\n          <h4>Upload Image</h4>\r\n          <input type=\"file\" accept=\"image/*\" onChange={handleFileChange} className=\"upload-file\" />\r\n          {imagePreview && (\r\n            <div className=\"image-preview\" style={{ display: 'flex', justifyContent: 'center', marginTop: '10px' }}>\r\n              <img\r\n                src={imagePreview}\r\n                alt=\"Preview\"\r\n                onContextMenu={(e) => e.preventDefault()}\r\n                draggable=\"false\"\r\n                style={{ maxWidth: '200px', maxHeight: '200px' }}\r\n              />\r\n            </div>\r\n          )}\r\n          <h4>Upload Video</h4>\r\n          <input type=\"file\" accept=\"video/*\" onChange={handleVideoChange} className=\"upload-file\" />\r\n          {videoPreview && (\r\n            <div className=\"video-preview\">\r\n              <video\r\n                width=\"250\"\r\n                controls\r\n                onContextMenu={(e) => e.preventDefault()}\r\n                controlsList=\"nodownload\"\r\n              >\r\n                <source src={videoPreview} type=\"video/mp4\" />\r\n                Your browser does not support the video tag.\r\n              </video>\r\n            </div>\r\n          )}\r\n          <button onClick={submitConfession} className=\"btn\">Submit Confession</button>\r\n          {systemMessage && <p className=\"system-message\">{systemMessage}</p>}\r\n        </div>\r\n\r\n        {/* Pending Confessions Panel (visible only to admin) */}\r\n        {adminVerified && pendingConfessions.length > 0 && renderPendingConfessions()}\r\n\r\n        <div className=\"reward-info\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Reward Information</h3>\r\n          <p>Top {rewardInfo.dailyTop} confessions daily earn {rewardInfo.dailyRewards} SNV2 each!</p>\r\n          <p>Top {rewardInfo.weeklyTop} confessions weekly earn {rewardInfo.weeklyRewards} SNV2 each!</p>\r\n        </div>\r\n        <div className=\"referral-section\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Referral Program</h3>\r\n          <p>Your referral code: {userProfile.referralCode}</p>\r\n          <button className=\"btn\" onClick={() => {\r\n              navigator.clipboard.writeText(userProfile.referralCode);\r\n              setSystemMessage('Referral code copied!');\r\n            }}>\r\n            Copy Referral Code\r\n          </button>\r\n        </div>\r\n        <div className=\"confession-feed\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Confession Feed</h3>\r\n          {confessions.length > 0 ? renderConfessions() : <p>No confessions yet. Be the first to confess!</p>}\r\n        </div>\r\n        <div className=\"confession-status\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Status</h3>\r\n          {/* Updated status text to reflect 3 allowed confessions per day */}\r\n          <p>You have submitted {getTodayConfessionsCount()} out of {maxConfessionsPerDay} allowed confessions today.</p>\r\n        </div>\r\n\r\n        {/* Image Modal */}\r\n        {selectedImage && (\r\n          <div className=\"image-modal\" onClick={() => setSelectedImage(null)}>\r\n            <div className=\"image-modal-content\">\r\n              <img\r\n                src={selectedImage}\r\n                alt=\"Full-size\"\r\n                onContextMenu={(e) => e.preventDefault()}\r\n                draggable=\"false\"\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Video Modal */}\r\n        {selectedVideo && (\r\n          <div className=\"video-modal\" onClick={() => setSelectedVideo(null)} style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 1000,\r\n          }}>\r\n            <div className=\"video-modal-content\" onClick={(e) => e.stopPropagation()} style={{\r\n              maxWidth: '90%',\r\n              maxHeight: '90%',\r\n            }}>\r\n              <video\r\n                src={selectedVideo}\r\n                controls\r\n                autoPlay\r\n                onContextMenu={(e) => e.preventDefault()}\r\n                style={{ width: '100%', height: 'auto' }}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfessAndEarn;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './good.css';\r\n\r\n// Quest templates simulating the daily quest assignment\r\nconst questTemplates = [\r\n  { \r\n    id: 1, \r\n    category: 'Easy', \r\n    description: 'Feed a stray dog.', \r\n    reward: { SNV2: 50, XP: 10 } \r\n  },\r\n  { \r\n    id: 2, \r\n    category: 'Moderate', \r\n    description: 'Participate in a local recycling drive.', \r\n    reward: { SNV2: 150, XP: 25 } \r\n  },\r\n  { \r\n    id: 3, \r\n    category: 'Hard', \r\n    description: 'Lead a community environmental campaign.', \r\n    reward: { SNV2: 500, XP: 50, badge: 'Exclusive Badge' } \r\n  }\r\n];\r\n\r\n// Dummy user data simulating a logged-in user (fallback)\r\nconst dummyUser = {\r\n  id: 1,\r\n  username: 'Loading...', // This will be updated from backend\r\n  SNV2: 500,\r\n  XP: 30,\r\n  completedQuests: [],\r\n  badges: [],\r\n  // New fields for progress tracking – if not already present, they default here:\r\n  exp: 0,\r\n  level: 1,\r\n  goodDeeds: [],\r\n  isAdmin: false,   // Toggle this to true to simulate admin access\r\n  hasVoted: false,  // Track whether the user has voted for this week\r\n};\r\n\r\nconst GoodDeeds = () => {\r\n  const [user, setUser] = useState(dummyUser);\r\n  const [currentQuest, setCurrentQuest] = useState(null);\r\n  const [proof, setProof] = useState(null);\r\n  const [status, setStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [approvedImages, setApprovedImages] = useState([]); // Global approved images\r\n  const [pendingImages, setPendingImages] = useState([]);   // Images awaiting admin approval\r\n  const [pendingModalImage, setPendingModalImage] = useState(null); // For full screen modal view\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // >>> NEW: Function to update user progress on backend\r\n  const updateUserProgress = (newProgress) => {\r\n    const userId = localStorage.getItem('userId');\r\n    fetch(`http://localhost:5000/api/users/${userId}/update-progress`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(newProgress)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('User progress updated:', data);\r\n      })\r\n      .catch(err => console.error('Error updating user progress:', err));\r\n  };\r\n\r\n  // NEW: Fetch the logged-in user data\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem('userId');\r\n    if (!storedUserId) {\r\n      console.warn('No user logged in. Please log in.');\r\n      setUser(prev => ({ ...prev, username: 'Not Logged In' }));\r\n      return;\r\n    }\r\n    fetch(`http://localhost:5000/api/users/${storedUserId}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log('Fetched user data:', data);\r\n        setUser(prev => ({ \r\n          ...prev, \r\n          username: data.username,\r\n          SNV2: data.SNV2,\r\n          XP: data.XP,\r\n          exp: data.exp || 0,\r\n          level: data.level || 1,\r\n          goodDeeds: data.goodDeeds || [],\r\n          badges: data.badges || [],\r\n          completedQuests: data.completedQuests || []\r\n        }));\r\n      })\r\n      .catch((err) => console.error('Error fetching user data:', err));\r\n  }, []);\r\n\r\n  // ===== ADMIN AUTHENTICATION STATE & FUNCTIONS =====\r\n  const [showAdminInput, setShowAdminInput] = useState(false);\r\n  const [adminEmail, setAdminEmail] = useState('');\r\n  const [adminAccessText, setAdminAccessText] = useState('');\r\n  const [adminCodeInput, setAdminCodeInput] = useState('');\r\n  const [generatedAdminCode, setGeneratedAdminCode] = useState('');\r\n  const [adminVerified, setAdminVerified] = useState(false);\r\n\r\n  // Helper function to get the current date string in Romania time\r\n  const getRomaniaDateString = () => {\r\n    return new Date().toLocaleDateString('en-US', { timeZone: 'Europe/Bucharest' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const storedAdminVerified = localStorage.getItem('adminVerified');\r\n    if (storedAdminVerified === 'true') {\r\n      setAdminVerified(true);\r\n    }\r\n  }, []);\r\n\r\n  const generateAdminCode = () => {\r\n    const randomString = Math.random().toString(36).substring(2, 8).toUpperCase();\r\n    const today = getRomaniaDateString();\r\n    return `${today}-${randomString}`;\r\n  };\r\n\r\n  const expectedAccessText = \"try123\";\r\n\r\n  const handleSendAdminCode = async () => {\r\n    if (!adminEmail) {\r\n      setStatus('Please enter a valid email address for admin access.');\r\n      return;\r\n    }\r\n    if (adminAccessText !== expectedAccessText) {\r\n      setStatus('Access text is incorrect.');\r\n      return;\r\n    }\r\n    const code = generateAdminCode();\r\n    setGeneratedAdminCode(code);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/send-admin-code', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email: adminEmail, code: code }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to send admin code.');\r\n      }\r\n      setStatus('Admin code sent to your email.');\r\n    } catch (error) {\r\n      setStatus('Error sending admin code: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleVerifyAdminCode = () => {\r\n    if (adminCodeInput === generatedAdminCode) {\r\n      setAdminVerified(true);\r\n      localStorage.setItem('adminVerified', 'true');\r\n      setStatus('Admin verified! Access granted.');\r\n      setShowAdminInput(false);\r\n    } else {\r\n      setStatus('Incorrect admin code. Please try again.');\r\n    }\r\n  };\r\n\r\n  const openAdminPanel = () => {\r\n    if (user.isAdmin) {\r\n      setStatus('Admin panel is active on this page.');\r\n    } else {\r\n      setStatus('Access denied. Admins only.');\r\n    }\r\n  };\r\n\r\n  // Global keydown listener to intercept PrintScreen (not foolproof)\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.key === \"PrintScreen\" || e.keyCode === 44) {\r\n        e.preventDefault();\r\n        alert(\"Screenshots are disabled!\");\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, []);\r\n\r\n  // Load approved images from the global store (with fallback to localStorage)\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/approved-images')\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('Global approvedImages from server:', data);\r\n        setApprovedImages(data);\r\n        localStorage.setItem('approvedImages', JSON.stringify(data));\r\n      })\r\n      .catch(err => {\r\n        console.error('Error fetching global approved images:', err);\r\n        const storedImages = localStorage.getItem('approvedImages');\r\n        if (storedImages) {\r\n          try {\r\n            const parsed = JSON.parse(storedImages);\r\n            console.log('Using localStorage approvedImages:', parsed);\r\n            setApprovedImages(parsed);\r\n          } catch (e) {\r\n            console.error('Error parsing approvedImages from localStorage', e);\r\n          }\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  // Persist approved images array to localStorage as a cache\r\n  useEffect(() => {\r\n    const jsonString = JSON.stringify(approvedImages);\r\n    console.log('Saving approvedImages to localStorage:', jsonString);\r\n    const MAX_STORAGE_LENGTH = 5000000;\r\n    if (jsonString.length > MAX_STORAGE_LENGTH) {\r\n      console.warn(\"approvedImages data is too large, skipping save.\");\r\n      return;\r\n    }\r\n    try {\r\n      localStorage.setItem('approvedImages', jsonString);\r\n    } catch (e) {\r\n      console.error('Error saving approvedImages to localStorage', e);\r\n    }\r\n  }, [approvedImages]);\r\n\r\n  // Scheduled clearing of approved images at Romania midnight.\r\n  useEffect(() => {\r\n    let timerId;\r\n\r\n    const getRomaniaTime = () => {\r\n      return new Date(new Date().toLocaleString(\"en-US\", { timeZone: \"Europe/Bucharest\" }));\r\n    };\r\n\r\n    const getTimeUntilRomaniaMidnight = () => {\r\n      const nowRomania = getRomaniaTime();\r\n      const nextMidnightRomania = new Date(nowRomania);\r\n      nextMidnightRomania.setHours(24, 0, 0, 0);\r\n      let delay = nextMidnightRomania.getTime() - nowRomania.getTime();\r\n      if (delay <= 0) delay = 86400000;\r\n      return delay;\r\n    };\r\n\r\n    const scheduleDeletion = () => {\r\n      const delay = getTimeUntilRomaniaMidnight();\r\n      console.log(\"Scheduling approved images deletion in\", delay, \"ms\");\r\n      timerId = setTimeout(() => {\r\n        fetch('http://localhost:5000/api/approved-images', { method: 'DELETE' })\r\n          .then(() => {\r\n            console.log(\"Global approved images cleared at Romania midnight.\");\r\n            setApprovedImages([]);\r\n            localStorage.removeItem('approvedImages');\r\n          })\r\n          .catch(err => console.error('Error clearing global approved images:', err));\r\n        scheduleDeletion();\r\n      }, delay);\r\n    };\r\n\r\n    scheduleDeletion();\r\n    return () => clearTimeout(timerId);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    assignDailyQuest();\r\n  }, []);\r\n\r\n  // Assign a new daily quest\r\n  const assignDailyQuest = () => {\r\n    const randomIndex = Math.floor(Math.random() * questTemplates.length);\r\n    setCurrentQuest(questTemplates[randomIndex]);\r\n    setProof(null);\r\n    setStatus('');\r\n    setError('');\r\n  };\r\n\r\n  // Refresh daily quest for testing\r\n  const refreshDailyQuest = () => {\r\n    assignDailyQuest();\r\n    setStatus('New daily quest assigned!');\r\n  };\r\n\r\n  // Compute effective reward after 1.8% burn\r\n  const computeEffectiveReward = (reward) => {\r\n    const burnedSNV2 = Math.floor(reward.SNV2 * 0.018);\r\n    return { SNV2: reward.SNV2 - burnedSNV2, XP: reward.XP };\r\n  };\r\n\r\n  // Validate file input\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const fileType = file.type;\r\n      if (fileType.startsWith('image/') || fileType.startsWith('video/')) {\r\n        setProof(file);\r\n        setError('');\r\n      } else {\r\n        setError('Only images and videos are allowed.');\r\n        setProof(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Upload image file to the server\r\n  const uploadImageToServer = async (file) => {\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n    // Append the username so the server knows who submitted this proof\r\n    formData.append('submittedBy', user.username);\r\n  \r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/upload-image', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n      const data = await response.json();\r\n      console.log('Image upload response:', data);\r\n  \r\n      // Replace backslashes and ensure URL is absolute\r\n      let finalUrl = data.url.replace(/\\\\/g, '/');\r\n      if (!/^https?:\\/\\//i.test(finalUrl)) {\r\n        finalUrl = `http://localhost:5000${finalUrl}`;\r\n      }\r\n      return finalUrl;\r\n    } catch (error) {\r\n      console.error('Error uploading image:', error);\r\n      throw error;\r\n    }\r\n  };  \r\n\r\n  // Handle proof submission with admin approval for images\r\n  const handleProofSubmission = async () => {\r\n    if (!currentQuest) {\r\n      setStatus('No active quest assigned.');\r\n      return;\r\n    }\r\n    if (!proof) {\r\n      setStatus('Please upload proof before submitting.');\r\n      return;\r\n    }\r\n    if (user.completedQuests.find(q => q.id === currentQuest.id)) {\r\n      setStatus('You have already submitted proof for this quest.');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setStatus('Proof submitted! Processing...');\r\n\r\n    setTimeout(async () => {\r\n      const effectiveReward = computeEffectiveReward(currentQuest.reward);\r\n      // Calculate new EXP and level\r\n      const currentExp = user.exp || 0;\r\n      const newExp = currentExp + effectiveReward.XP;\r\n      const newLevel = Math.floor(newExp / 100) + 1;\r\n      // Update good deeds and add the current quest as a good deed with an \"accepted\" flag set to false\r\n      const currentGoodDeeds = user.goodDeeds || [];\r\n      const newGoodDeed = { ...currentQuest, accepted: false };\r\n      const newGoodDeeds = [...currentGoodDeeds, newGoodDeed];\r\n\r\n      // Award additional badges based on the number of completed quests\r\n      // (Do not remove existing logic – we only add to it.)\r\n      const newCompletedCount = user.completedQuests.length + 1;\r\n      let updatedBadges = [...(user.badges || [])];\r\n      // Include any hard quest badge if not already awarded\r\n      if (currentQuest.category === 'Hard' && currentQuest.reward.badge && !updatedBadges.includes(currentQuest.reward.badge)) {\r\n          updatedBadges.push(currentQuest.reward.badge);\r\n      }\r\n      // Award Good Deeds badges based on thresholds\r\n      if (newCompletedCount >= 1 && !updatedBadges.includes(\"First Good Deed\")) {\r\n          updatedBadges.push(\"First Good Deed\");\r\n      }\r\n      if (newCompletedCount >= 10 && !updatedBadges.includes(\"Kind Soul\")) {\r\n          updatedBadges.push(\"Kind Soul\");\r\n      }\r\n      if (newCompletedCount >= 50 && !updatedBadges.includes(\"Virtuous\")) {\r\n          updatedBadges.push(\"Virtuous\");\r\n      }\r\n      if (newCompletedCount >= 100 && !updatedBadges.includes(\"Angel of the Streets\")) {\r\n          updatedBadges.push(\"Angel of the Streets\");\r\n      }\r\n\r\n      // Update the local user state with new EXP, level, good deeds, completed quests, and badges\r\n      setUser(prevUser => ({\r\n          ...prevUser,\r\n          SNV2: prevUser.SNV2 + effectiveReward.SNV2,\r\n          XP: prevUser.XP + effectiveReward.XP,\r\n          exp: newExp,\r\n          level: newLevel,\r\n          completedQuests: [...prevUser.completedQuests, currentQuest],\r\n          goodDeeds: newGoodDeeds,\r\n          badges: updatedBadges,\r\n      }));\r\n\r\n      // Update backend progress with new values\r\n      updateUserProgress({\r\n        exp: newExp,\r\n        level: newLevel,\r\n        goodDeeds: newGoodDeeds,\r\n        badges: updatedBadges\r\n      });\r\n\r\n      // If the proof is an image, upload it and add to pending approvals\r\n      if (proof && proof.type.startsWith('image/')) {\r\n        try {\r\n          const imageUrl = await uploadImageToServer(proof);\r\n          console.log('New submitted image URL (pending approval):', imageUrl);\r\n          // Attach the username (submittedBy) along with the image URL\r\n          setPendingImages(prev => {\r\n            const newEntry = { url: imageUrl, submittedBy: user.username || 'Unknown' };\r\n            const newImages = [...prev, newEntry];\r\n            console.log('Updated pendingImages:', newImages);\r\n            return newImages;\r\n          });\r\n          setStatus('Proof submitted! Awaiting admin approval...');\r\n        } catch (err) {\r\n          console.error('Error uploading image:', err);\r\n        }\r\n      }\r\n      setIsSubmitting(false);\r\n      setProof(null);\r\n    }, 3000);\r\n  };\r\n\r\n  // ====== NEW USEEFFECT: FETCH SERVER'S PENDING IMAGES IF ADMIN ======\r\n  useEffect(() => {\r\n    if (adminVerified) {\r\n      fetch('http://localhost:5000/api/pending-images')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          console.log('Fetched pending images from server:', data);\r\n          // Now data should be an array of objects: [{ url, submittedBy }, ...]\r\n          setPendingImages(data);\r\n        })\r\n        .catch(err => console.error('Error fetching pending images:', err));\r\n    }\r\n  }, [adminVerified]);\r\n  // ================================================================\r\n\r\n  // Handle community voting\r\n  const handleVote = () => {\r\n    if (user.XP < 50) {\r\n      setStatus('Insufficient XP to vote for the next hard quest.');\r\n      return;\r\n    }\r\n    if (user.hasVoted) {\r\n      setStatus('You have already voted for this week.');\r\n      return;\r\n    }\r\n    setUser(prevUser => ({ ...prevUser, hasVoted: true }));\r\n    setStatus('Thank you for voting for the next hard quest!');\r\n  };\r\n\r\n  // Handle admin approval of a pending image\r\n  const handleApproveImage = (index) => {\r\n    const imageObj = pendingImages[index];\r\n    const imageUrl = imageObj.url;\r\n    fetch('http://localhost:5000/api/approved-images', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ url: imageUrl }),\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log('Global approved image saved:', data);\r\n        setApprovedImages(prev => [...prev, imageUrl]);\r\n\r\n        fetch(`http://localhost:5000/api/pending-images/${index}`, {\r\n          method: 'DELETE',\r\n        })\r\n          .then(delRes => delRes.json())\r\n          .then(() => {\r\n            setPendingImages(prev => prev.filter((_, i) => i !== index));\r\n          })\r\n          .catch(err => console.error('Error removing pending image from server:', err));\r\n        \r\n        // >>> NEW: Update the corresponding good deed to mark it as accepted by admin.\r\n        setUser(prev => {\r\n          let found = false;\r\n          const updatedGoodDeeds = prev.goodDeeds.map(gd => {\r\n            if (!found && !gd.accepted) {\r\n              found = true;\r\n              return { ...gd, accepted: true };\r\n            }\r\n            return gd;\r\n          });\r\n          // Update backend progress with updated good deeds\r\n          updateUserProgress({ goodDeeds: updatedGoodDeeds });\r\n          return { ...prev, goodDeeds: updatedGoodDeeds };\r\n        });\r\n      })\r\n      .catch(err => console.error('Error saving global approved image:', err));\r\n  };\r\n\r\n  // Handle admin declining a pending image\r\n  const handleDeclineImage = (index) => {\r\n    fetch(`http://localhost:5000/api/pending-images/${index}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then(res => res.json())\r\n      .then(() => {\r\n        setPendingImages(prev => prev.filter((_, i) => i !== index));\r\n      })\r\n      .catch(err => console.error('Error removing pending image from server:', err));\r\n  };\r\n\r\n  // Handle admin deletion of an approved image (individual delete)\r\n  const handleDeleteApprovedImage = (index) => {\r\n    fetch(`http://localhost:5000/api/approved-images/${index}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then(res => res.json())\r\n      .then(() => {\r\n        setApprovedImages(prev => prev.filter((_, i) => i !== index));\r\n      })\r\n      .catch(err => console.error('Error deleting approved image:', err));\r\n  };\r\n\r\n  // Handle admin deletion of all approved images\r\n  const handleDeleteAllApprovedImages = () => {\r\n    fetch('http://localhost:5000/api/approved-images', {\r\n      method: 'DELETE',\r\n    })\r\n      .then(() => {\r\n        setApprovedImages([]);\r\n        localStorage.removeItem('approvedImages');\r\n      })\r\n      .catch(err => console.error('Error deleting all approved images:', err));\r\n  };\r\n\r\n  // Close/navigate back to home page\r\n  const closePage = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <div className=\"good-page\">\r\n      <div className=\"good-container\">\r\n        <span className=\"close-btn\" onClick={closePage}>\r\n          <span role=\"img\" aria-label=\"close\">❌</span>\r\n        </span>\r\n        <br />\r\n\r\n        {/* ADMIN AUTHENTICATION PANEL */}\r\n        {showAdminInput && !adminVerified && (\r\n          <div className=\"admin-auth\">\r\n            <h3>Admin Access</h3>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Enter admin email\"\r\n              value={adminEmail}\r\n              onChange={(e) => setAdminEmail(e.target.value)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Enter access text\"\r\n              value={adminAccessText}\r\n              onChange={(e) => setAdminAccessText(e.target.value)}\r\n            />\r\n            <button onClick={handleSendAdminCode}>Send Code</button>\r\n            {generatedAdminCode && (\r\n              <>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Enter the code you received\"\r\n                  value={adminCodeInput}\r\n                  onChange={(e) => setAdminCodeInput(e.target.value)}\r\n                />\r\n                <button onClick={handleVerifyAdminCode}>Verify Code</button>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {adminVerified && (\r\n          <div className=\"admin-access-granted\">\r\n            <h3>Welcome Admin!</h3>\r\n            <p>You are allowed to accept \"GOOD DEEDS\" and also you are allowed to delete any \"GOOD DEEDS\"</p>\r\n          </div>\r\n        )}\r\n\r\n        <h1>Good Deeds</h1>\r\n        {/* Display the correct logged-in username below the heading */}\r\n        <p style={{ fontWeight: 'bold' }}>Username:<br></br><strong style={{color: '#ffeb3b', fontSize: 'larger'}}>{user.username}</strong></p>\r\n        <p>Complete daily quests to earn rewards and contribute to positive change!</p>\r\n        \r\n        {currentQuest ? (\r\n          <div className=\"quest-display\">\r\n            <h3>Today's Quest: {currentQuest.category} - {currentQuest.description}</h3>\r\n            <p>\r\n              Reward: {currentQuest.reward.SNV2} SNV2 (1.8% burned on transaction) + {currentQuest.reward.XP} XP\r\n              {currentQuest.category === 'Hard' && currentQuest.reward.badge ? ` + ${currentQuest.reward.badge}` : ''}\r\n            </p>\r\n            <input \r\n              className=\"upload-file\"\r\n              type=\"file\"\r\n              accept=\"image/*,video/*\"\r\n              onChange={handleFileChange}\r\n            />\r\n            {error && <p className=\"error-message\" style={{ color: 'red' }}>{error}</p>}\r\n            <button onClick={handleProofSubmission} className=\"btn\" disabled={isSubmitting}>\r\n              {isSubmitting ? 'Submitting...' : 'Submit Proof'}\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <p>No quest assigned for today.</p>\r\n        )}\r\n\r\n        <div className=\"quest-status\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Status: {status}</h3>\r\n        </div>\r\n\r\n        <div className=\"user-dashboard\">\r\n          <h3 style={{ color: '#ffeb3b' }}>User Dashboard</h3>\r\n          <p>Total SNV2: {user.SNV2 ? user.SNV2 : \"0 SNV2\"}</p>\r\n          <p>Total XP: {user.exp}</p>\r\n          <p>Earn EXP: {user.exp !== undefined ? user.exp : \"No EXP\"}</p>\r\n          <p>Level: {user.level || 1}</p>\r\n          <h4>Achievements & Badges:</h4>\r\n          {user.badges.length > 0 ? (\r\n            <ul>\r\n              {user.badges.map((badge, index) => (\r\n                <li key={index}>{badge}</li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>No badges earned yet.</p>\r\n          )}\r\n          <h4>Completed Quests:</h4>\r\n          {user.completedQuests.length > 0 ? (\r\n            <ul>\r\n              {user.completedQuests.map((quest, index) => (\r\n                <li key={index}>\r\n                  {quest.category}: {quest.description} — Earned {quest.reward.SNV2} SNV2 + {quest.reward.XP} XP\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>No quests completed yet.</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"voting-section\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Vote for Next Hard Quest</h3>\r\n          <button onClick={handleVote} className=\"btn\">\r\n            Vote for Next Hard Quest\r\n          </button>\r\n        </div>\r\n\r\n        {user.isAdmin && (\r\n          <div className=\"admin-panel\">\r\n            <h3>Admin Control Panel</h3>\r\n            <button onClick={openAdminPanel} className=\"btn\">\r\n              Show Admin Controls\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"refresh-quest\">\r\n          <button onClick={refreshDailyQuest} className=\"btn\">\r\n            Assign New Daily Quest (Test)\r\n          </button>\r\n        </div>\r\n\r\n        {/* Approved Images Section */}\r\n        <div className=\"approved-images-container\">\r\n          <h2>Approved Images</h2>\r\n          <ApprovedImagesPagination\r\n            approvedImages={approvedImages}\r\n            adminVerified={adminVerified}\r\n            handleDeleteApprovedImage={handleDeleteApprovedImage}\r\n            handleDeleteAllApprovedImages={handleDeleteAllApprovedImages}\r\n          />\r\n        </div>\r\n\r\n        {/* Pending Images Section for Admin Approval - Only visible if admin is logged in */}\r\n        {adminVerified && pendingImages.length > 0 && (\r\n          <div className=\"pending-images-container\">\r\n            <h2>Pending Images for Approval</h2>\r\n            {pendingImages.map((imgObj, index) => (\r\n              <div key={index} className=\"pending-image-item\">\r\n                {/* Use the submittedBy property from the pending image object */}\r\n                <p>Submitted by: <strong>{imgObj.submittedBy}</strong></p>\r\n                <img\r\n                  src={imgObj.url}\r\n                  alt={`Pending ${index + 1}`}\r\n                  className=\"thumbnail\"\r\n                  style={{ display: 'block', maxWidth: '100%', height: 'auto' }}\r\n                  onClick={() => setPendingModalImage(imgObj.url)}\r\n                  onContextMenu={(e) => e.preventDefault()}\r\n                  onDragStart={(e) => e.preventDefault()}\r\n                  onError={(e) => { \r\n                    console.error('Error loading image:', imgObj.url);\r\n                    e.target.src = 'https://via.placeholder.com/150';\r\n                  }}\r\n                />\r\n                <button onClick={() => handleApproveImage(index)} className=\"btn\">Approve</button>\r\n                <button onClick={() => handleDeclineImage(index)} className=\"btn\">Decline</button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Modal for Pending Images */}\r\n        {pendingModalImage && (\r\n          <div className=\"fullscreen-modal\" onClick={() => setPendingModalImage(null)}>\r\n            <img \r\n              src={pendingModalImage} \r\n              alt=\"Full screen pending view\" \r\n              style={{ display: 'block', maxWidth: '100%', height: 'auto' }}\r\n              onContextMenu={(e) => e.preventDefault()}\r\n              onDragStart={(e) => e.preventDefault()}\r\n              onError={(e) => { \r\n                console.error('Error loading modal image:', pendingModalImage);\r\n                e.target.src = 'https://via.placeholder.com/150';\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"quest-status\">\r\n          <h3 style={{ color: '#ffeb3b' }}>Status: {status}</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ApprovedImagesPagination = ({\r\n  approvedImages,\r\n  adminVerified,\r\n  handleDeleteApprovedImage,\r\n  handleDeleteAllApprovedImages,\r\n}) => {\r\n  console.log('ApprovedImagesPagination received:', approvedImages);\r\n  const images = approvedImages || [];\r\n  const imagesPerPage = 10;\r\n  const totalPages = Math.ceil(images.length / imagesPerPage);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [modalImage, setModalImage] = useState(null);\r\n\r\n  if (images.length === 0) {\r\n    return <p>No approved images yet.</p>;\r\n  }\r\n\r\n  const indexOfLastImage = currentPage * imagesPerPage;\r\n  const indexOfFirstImage = indexOfLastImage - imagesPerPage;\r\n  const currentImages = images.slice(indexOfFirstImage, indexOfLastImage);\r\n\r\n  const goToNextPage = () => {\r\n    if (currentPage < totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const goToPrevPage = () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const handlePageSelect = (page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"images-grid\">\r\n        {currentImages.map((imgUrl, index) => (\r\n          <div key={index} className=\"image-item\">\r\n            <img\r\n              src={imgUrl}\r\n              alt={`Approved ${index + indexOfFirstImage + 1}`}\r\n              className=\"thumbnail\"\r\n              onClick={() => setModalImage(imgUrl)}\r\n              onContextMenu={(e) => e.preventDefault()}\r\n              onDragStart={(e) => e.preventDefault()}\r\n              onError={(e) => { \r\n                console.error('Error loading image:', imgUrl);\r\n                e.target.src = 'https://via.placeholder.com/150';\r\n              }}\r\n            />\r\n            {adminVerified && (\r\n              <button onClick={() => handleDeleteApprovedImage(index + indexOfFirstImage)} className=\"btn\">\r\n                Delete\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"pagination\">\r\n        <button onClick={goToPrevPage} disabled={currentPage === 1}>Prev</button>\r\n        {[...Array(totalPages)].map((_, idx) => (\r\n          <button\r\n            key={idx}\r\n            onClick={() => handlePageSelect(idx + 1)}\r\n            className={currentPage === idx + 1 ? 'active' : ''}\r\n          >\r\n            {idx + 1}\r\n          </button>\r\n        ))}\r\n        <button onClick={goToNextPage} disabled={currentPage === totalPages}>Next</button>\r\n      </div>\r\n      {adminVerified && (\r\n        <div className=\"admin-approved-controls\">\r\n          <button onClick={handleDeleteAllApprovedImages} className=\"btn\">\r\n            Delete All Approved Images\r\n          </button>\r\n        </div>\r\n      )}\r\n      {modalImage && (\r\n        <div className=\"fullscreen-modal\" onClick={() => setModalImage(null)}>\r\n          <img \r\n            src={modalImage} \r\n            alt=\"Full screen view\" \r\n            onContextMenu={(e) => e.preventDefault()}\r\n            onDragStart={(e) => e.preventDefault()}\r\n            onError={(e) => { \r\n              console.error('Error loading modal image:', modalImage);\r\n              e.target.src = 'https://via.placeholder.com/150';\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoodDeeds;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport './login.css';\r\n\r\nconst Login = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [securityKey, setSecurityKey] = useState('');\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  // ===== ADMIN AUTHENTICATION STATE =====\r\n  const [showAdminInput, setShowAdminInput] = useState(false);\r\n  const [adminEmail, setAdminEmail] = useState('');\r\n  const [adminAccessText, setAdminAccessText] = useState('');\r\n  const [adminCodeInput, setAdminCodeInput] = useState('');\r\n  const [generatedAdminCode, setGeneratedAdminCode] = useState('');\r\n  const [adminVerified, setAdminVerified] = useState(false);\r\n\r\n  // Check for stored admin verification\r\n  useEffect(() => {\r\n    const storedAdminVerified = localStorage.getItem('adminVerified');\r\n    if (storedAdminVerified === 'true') {\r\n      setAdminVerified(true);\r\n    }\r\n  }, []);\r\n\r\n  // If a security key is already set, redirect to the main page.\r\n  useEffect(() => {\r\n    const storedIsLoggedIn = localStorage.getItem('isLoggedIn');\r\n    const storedSecurityKey = localStorage.getItem('securityKey');\r\n    if (storedIsLoggedIn === 'true' && storedSecurityKey) {\r\n      navigate('/');\r\n    }\r\n  }, [navigate]);\r\n\r\n  // Set initial states using localStorage values on mount\r\n  useEffect(() => {\r\n    const storedEmail = localStorage.getItem('email');\r\n    if (storedEmail) {\r\n      setEmail(storedEmail);\r\n    }\r\n    \r\n    if (localStorage.getItem('isLoggedIn') === 'true') {\r\n      setIsLoggedIn(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleEmailChange = (e) => setEmail(e.target.value);\r\n  const handlePasswordChange = (e) => setPassword(e.target.value);\r\n  const handleSecurityKeyChange = (e) => setSecurityKey(e.target.value);\r\n\r\n  const closeLogin = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        // Mark the user as logged in and store their email, user id and user data.\r\n        localStorage.setItem('isLoggedIn', 'true');\r\n        localStorage.setItem('email', email);\r\n        localStorage.setItem('userId', data.user.id);\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        // Store the expected encrypted security key from the server response\r\n        localStorage.setItem('expectedSecurityKey', data.encryptedKey);\r\n        setIsLoggedIn(true);\r\n      }\r\n    } catch (error) {\r\n      setError('Login failed. Please try again later.');\r\n      console.error('Login error:', error);\r\n    }\r\n  };\r\n\r\n  const handleSecuritySubmit = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!securityKey.trim()) {\r\n      setError('Security Key cannot be empty.');\r\n      return;\r\n    }\r\n\r\n    // Retrieve the expected security key from localStorage\r\n    const expectedSecurityKey = localStorage.getItem('expectedSecurityKey');\r\n\r\n    // Compare the user input with the expected encrypted key\r\n    if (securityKey !== expectedSecurityKey) {\r\n      setError('Invalid Security Key.');\r\n      return;\r\n    }\r\n\r\n    // If the key is valid, store it (if needed) and proceed\r\n    localStorage.setItem('securityKey', securityKey);\r\n    window.location.reload();\r\n  };\r\n\r\n  // ===== ADMIN ACCESS FUNCTIONS =====\r\n\r\n  // Helper function to get the current date string in Romania time\r\n  const getRomaniaDateString = () => {\r\n    return new Date().toLocaleDateString('en-US', { timeZone: 'Europe/Bucharest' });\r\n  };\r\n\r\n  // Generate a random admin code with today's Romania date\r\n  const generateAdminCode = () => {\r\n    const randomString = Math.random().toString(36).substring(2, 8).toUpperCase();\r\n    const today = getRomaniaDateString();\r\n    return `${today}-${randomString}`;\r\n  };\r\n\r\n  // Expected access text for admin\r\n  const expectedAccessText = \"try123\";\r\n\r\n  const handleSendAdminCode = async () => {\r\n    if (!adminEmail) {\r\n      setError('Please enter a valid email address for admin access.');\r\n      return;\r\n    }\r\n    if (adminAccessText !== expectedAccessText) {\r\n      setError('Access text is incorrect.');\r\n      return;\r\n    }\r\n    const code = generateAdminCode();\r\n    setGeneratedAdminCode(code);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/send-admin-code', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email: adminEmail, code: code }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to send admin code.');\r\n      }\r\n      setError('Admin code sent to your email.');\r\n    } catch (error) {\r\n      setError('Error sending admin code: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleVerifyAdminCode = () => {\r\n    if (adminCodeInput === generatedAdminCode) {\r\n      setAdminVerified(true);\r\n      localStorage.setItem('adminVerified', 'true');\r\n      setError(\r\n        <>\r\n          Admin verified! Access granted.\r\n          <br />\r\n          Please login your account now with Admin Access.\r\n        </>\r\n      );      \r\n      setShowAdminInput(false);\r\n    } else {\r\n      setError('Incorrect admin code. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleAdminLogout = () => {\r\n    setAdminVerified(false);\r\n    localStorage.removeItem('adminVerified');\r\n    setGeneratedAdminCode('');\r\n    setAdminCodeInput('');\r\n    setAdminEmail('');\r\n    setAdminAccessText('');\r\n    setError('Admin logged out.');\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className=\"login-container\">\r\n        <div className=\"login-box\">\r\n          <span className=\"close-btn\" onClick={closeLogin}>\r\n            <span role=\"img\" aria-label=\"Close\">❌</span>\r\n          </span>\r\n\r\n          <h1>Login</h1>\r\n          <p className=\"quote\">\"In a world full of distractions, choose virtue over vice.\"</p>\r\n\r\n          {!isLoggedIn ? (\r\n            <form onSubmit={handleLoginSubmit}>\r\n              <div className=\"control block-cube\">\r\n                <div className=\"block-cube-hover\">\r\n                  <div className=\"block-input\">\r\n                    <input\r\n                      type=\"email\"\r\n                      placeholder=\"Email\"\r\n                      value={email}\r\n                      onChange={handleEmailChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"block-input\">\r\n                    <input\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                      value={password}\r\n                      onChange={handlePasswordChange}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"checkbox-wrapper\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"remember\"\r\n                  defaultChecked={email !== ''}\r\n                />\r\n                <label htmlFor=\"remember\" className=\"label\">Remember me!</label>\r\n              </div>\r\n              <button className=\"btn block-cube-hover\" type=\"submit\">Log In</button>\r\n            </form>\r\n          ) : (\r\n            <div className=\"security-key-form\">\r\n              <h2>Enter Security Key</h2>\r\n              <form onSubmit={handleSecuritySubmit}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Security Key\"\r\n                  value={securityKey}\r\n                  onChange={handleSecurityKeyChange}\r\n                  required\r\n                />\r\n                <button type=\"submit\" className='btn btn-cube-hover'>Submit</button>\r\n              </form>\r\n            </div>\r\n          )}\r\n\r\n          {error && <div className=\"error-message\">{error}</div>}\r\n\r\n          <div className=\"social-login\">\r\n            <button className=\"btn social-btn block-cube-hover\">\r\n              <span role=\"img\" aria-label=\"Lock\">🔒</span> Log In\r\n            </button>\r\n            <button className=\"btn social-btn block-cube-hover\">\r\n              <span role=\"img\" aria-label=\"Cross\">❌</span> Log In\r\n            </button>\r\n            <button className=\"btn social-btn block-cube-hover\">\r\n              <span role=\"img\" aria-label=\"Search\">🔍</span> Log In\r\n            </button>\r\n          </div>\r\n\r\n          <p className=\"sign-up\">Repent some Sins? <Link to=\"/signup\">Sign up!</Link></p>\r\n\r\n          {/* ===== ADMIN ACCESS BUTTON & PANEL AT BOTTOM ===== */}\r\n          <div className=\"admin-login-section\">\r\n            {adminVerified ? (\r\n              <button onClick={handleAdminLogout} className=\"btn\">Logout Admin</button>\r\n            ) : (\r\n              <button onClick={() => setShowAdminInput(true)} className=\"btn\">Admin</button>\r\n            )}\r\n          </div>\r\n          {showAdminInput && !adminVerified && (\r\n            <div className=\"admin-auth\">\r\n              <h3 style={{color: '#ffeb3b'}}>Admin Login</h3>\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter admin email\"\r\n                value={adminEmail}\r\n                onChange={(e) => setAdminEmail(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Enter access text\"\r\n                value={adminAccessText}\r\n                onChange={(e) => setAdminAccessText(e.target.value)}\r\n              />\r\n              <button onClick={handleSendAdminCode} className='btn'>Send Code</button>\r\n              {generatedAdminCode && (\r\n                <>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter the code you received\"\r\n                    value={adminCodeInput}\r\n                    onChange={(e) => setAdminCodeInput(e.target.value)}\r\n                  />\r\n                  <button onClick={handleVerifyAdminCode} className='btn'>Verify Code</button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","// src/pages/SignUp/index.js\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./SignUp.css\";\r\n\r\nconst Signup = () => {\r\n  // Form Fields\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [emailCode, setEmailCode] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [walletPhantom, setWalletPhantom] = useState(\"\");\r\n  const [termsAccepted, setTermsAccepted] = useState(false);\r\n\r\n  // Other States\r\n  const [error, setError] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n  const [isSendingCode, setIsSendingCode] = useState(false);\r\n  const [codeSent, setCodeSent] = useState(false);\r\n  // New state to hold the generated code from the email\r\n  const [generatedCode, setGeneratedCode] = useState(\"\");\r\n\r\n  // New states for email verification messages\r\n  const [emailVerificationError, setEmailVerificationError] = useState(\"\");\r\n  const [emailVerificationSuccess, setEmailVerificationSuccess] = useState(\"\");\r\n\r\n  // Honeypot field (should remain empty for real users)\r\n  const [hiddenField, setHiddenField] = useState(\"\");\r\n\r\n  // Password criteria checks\r\n  const isLongEnough = password.length >= 8;\r\n  const hasUppercase = /[A-Z]/.test(password);\r\n  const hasSpecialChar = /[!@#$%^&*]/.test(password);\r\n  const hasNumber = /[0-9]/.test(password);\r\n\r\n  // Compute password strength based on criteria met\r\n  const getPasswordStrength = () => {\r\n    if (!password) return \"\";\r\n    const count = [isLongEnough, hasUppercase, hasSpecialChar, hasNumber].filter(Boolean).length;\r\n    if (count <= 2) return \"Weak\";\r\n    else if (count === 3) return \"Medium\";\r\n    else if (count === 4) return \"Strong\";\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Function to send the email verification code\r\n  const sendVerificationCode = async () => {\r\n    // Clear previous email verification messages\r\n    setEmailVerificationError(\"\");\r\n    setEmailVerificationSuccess(\"\");\r\n    if (!email) {\r\n      setEmailVerificationError(\"Please enter your email first.\");\r\n      return;\r\n    }\r\n    setIsSendingCode(true);\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/send-email-code\", { email });\r\n      setEmailVerificationSuccess(response.data.message);\r\n      setCodeSent(true); // Mark that the code has been sent\r\n\r\n      // Store the generated code from the server response\r\n      if (response.data.code) {\r\n        setGeneratedCode(response.data.code);\r\n      }\r\n    } catch (err) {\r\n      const detailedError =\r\n        err.response && err.response.data && err.response.data.error\r\n          ? err.response.data.error\r\n          : \"Failed to send verification code. Please try again later.\";\r\n      setEmailVerificationError(detailedError);\r\n    } finally {\r\n      setIsSendingCode(false);\r\n    }\r\n  };\r\n\r\n  // NEW: States and functions for Account Verification (separate from email verification)\r\n  const [accountCreated, setAccountCreated] = useState(false);\r\n  const [accountVerified, setAccountVerified] = useState(false);\r\n  const [accountCode, setAccountCode] = useState(\"\");\r\n  const [accountVerificationError, setAccountVerificationError] = useState(\"\");\r\n  const [accountVerificationSuccess, setAccountVerificationSuccess] = useState(\"\");\r\n\r\n  // Modified function to handle form submission for signup\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccessMessage(\"\");\r\n\r\n    // Validate Username length\r\n    if (username.length < 5 || username.length > 20) {\r\n      setError(\"Username must be between 5 and 20 characters.\");\r\n      return;\r\n    }\r\n\r\n    // Validate Email Verification Code\r\n    if (!emailCode) {\r\n      setError(\"Please enter the email verification code sent to your email.\");\r\n      return;\r\n    }\r\n    // Check if the entered code matches the generated code\r\n    if (emailCode !== generatedCode) {\r\n      setError(\"Invalid email verification code.\");\r\n      return;\r\n    }\r\n\r\n    // Check if passwords match\r\n    if (password !== confirmPassword) {\r\n      setError(\"Passwords do not match.\");\r\n      return;\r\n    }\r\n\r\n    // Validate password meets all criteria\r\n    if (!isLongEnough || !hasUppercase || !hasSpecialChar || !hasNumber) {\r\n      setError(\"Password does not meet the required criteria.\");\r\n      return;\r\n    }\r\n\r\n    // Ensure Terms & Conditions are accepted\r\n    if (!termsAccepted) {\r\n      setError(\"You must agree to the Terms & Conditions.\");\r\n      return;\r\n    }\r\n\r\n    const formData = {\r\n      firstName,\r\n      lastName,\r\n      username,\r\n      email,\r\n      emailCode,\r\n      password,\r\n      confirmPassword,\r\n      walletPhantom,\r\n      hiddenField,\r\n      termsAccepted,\r\n    };\r\n\r\n    try {\r\n      // eslint-disable-next-line no-unused-vars\r\n      const response = await axios.post(\"http://localhost:5000/api/signup\", formData);\r\n      // Instead of immediately verifying the account, mark the account as created\r\n      setSuccessMessage(\"Account created successfully! Please verify your account.\");\r\n      setAccountCreated(true);\r\n    } catch (err) {\r\n      if (err.response && err.response.data && err.response.data.error) {\r\n        setError(err.response.data.error);\r\n      } else {\r\n        setError(\"An error occurred. Please try again later.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // NEW: Function to send account verification code (calls new server endpoint)\r\n  const sendAccountVerificationCode = async () => {\r\n    setAccountVerificationError(\"\");\r\n    setAccountVerificationSuccess(\"\");\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/send-account-code\", { email });\r\n      setAccountVerificationSuccess(response.data.message);\r\n    } catch (err) {\r\n      const errorMsg =\r\n        err.response && err.response.data && err.response.data.error\r\n          ? err.response.data.error\r\n          : \"Failed to send account verification code.\";\r\n      setAccountVerificationError(errorMsg);\r\n    }\r\n  };\r\n\r\n  // NEW: Function to handle account verification submission\r\n  const handleAccountVerification = async (e) => {\r\n    e.preventDefault();\r\n    setAccountVerificationError(\"\");\r\n    setAccountVerificationSuccess(\"\");\r\n    if (!accountCode) {\r\n      setAccountVerificationError(\"Please enter the account verification code.\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/verify-account\", { email, accountCode });\r\n      setAccountVerificationSuccess(response.data.message);\r\n      setAccountVerified(true);\r\n      setTimeout(() => {\r\n        navigate(\"/login\");\r\n      }, 2000);\r\n    } catch (err) {\r\n      const errorMsg =\r\n        err.response && err.response.data && err.response.data.error\r\n          ? err.response.data.error\r\n          : \"Failed to verify account.\";\r\n      setAccountVerificationError(errorMsg);\r\n    }\r\n  };\r\n\r\n  const close = () => navigate(\"/\");\r\n\r\n  // Conditional Rendering for Account Verification Phase\r\n  if (accountCreated && !accountVerified) {\r\n    return (\r\n      <div className=\"signup-page\">\r\n        <div className=\"signup-container\">\r\n          <span className=\"close-btn\" onClick={close}>\r\n            <span role=\"img\" aria-label=\"close\">❌</span>\r\n          </span>\r\n          <h1>Account Verification</h1>\r\n          <p>{successMessage}</p>\r\n          <button className=\"btn\" onClick={sendAccountVerificationCode}>\r\n            Send Account Verification Code\r\n          </button>\r\n          {accountVerificationError && (\r\n            <p className=\"error-message\" style={{ color: \"red\" }}>\r\n              {accountVerificationError}\r\n            </p>\r\n          )}\r\n          {accountVerificationSuccess && (\r\n            <p className=\"success-message\" style={{ color: \"green\" }}>\r\n              {accountVerificationSuccess}\r\n            </p>\r\n          )}\r\n          <form onSubmit={handleAccountVerification}>\r\n            <div>\r\n              <label>Account Verification Code</label>\r\n              <input\r\n                type=\"text\"\r\n                value={accountCode}\r\n                onChange={(e) => setAccountCode(e.target.value)}\r\n                required\r\n                placeholder=\"Enter Account Verification Code\"\r\n              />\r\n            </div>\r\n            <button type=\"submit\" className=\"btn\">\r\n              Verify Account\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (accountVerified) {\r\n    return (\r\n      <div className=\"signup-page\">\r\n        <div className=\"signup-container\">\r\n          <h1>Account verified.</h1>\r\n          <p>Your account has been verified. You can now log in.</p>\r\n          <button className=\"btn\" onClick={() => navigate(\"/login\")}>\r\n            Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Default: Render Signup Form (includes email verification process)\r\n  return (\r\n    <div className=\"signup-page\">\r\n      <div className=\"signup-container\">\r\n        <span className=\"close-btn\" onClick={close}>\r\n          <span role=\"img\" aria-label=\"close\">❌</span>\r\n        </span>\r\n\r\n        <h1>Repent some sins, join the movement!</h1>\r\n        <h2>Sign Up</h2>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <label>First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n              required\r\n              placeholder=\"Enter First Name\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n              required\r\n              placeholder=\"Enter Last Name\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Username</label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n              placeholder=\"Enter Username (5-20 characters)\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Email</label>\r\n            <input\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              required\r\n              placeholder=\"Enter Email Address\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={sendVerificationCode}\r\n              disabled={isSendingCode}\r\n              className=\"btn\"\r\n            >\r\n              {isSendingCode ? \"Sending...\" : (codeSent ? \"Resend Code\" : \"Send Verification Code\")}\r\n            </button>\r\n            {/* Display email verification messages immediately below the button */}\r\n            {emailVerificationError && <p className=\"error-message\" style={{ color: \"red\" }}>{emailVerificationError}</p>}\r\n            {emailVerificationSuccess && <p className=\"success-message\" style={{ color: \"green\" }}>{emailVerificationSuccess}</p>}\r\n          </div>\r\n          {codeSent && (\r\n            <div>\r\n              <label>Email Verification Code</label>\r\n              <input\r\n                type=\"text\"\r\n                value={emailCode}\r\n                onChange={(e) => setEmailCode(e.target.value)}\r\n                required\r\n                placeholder=\"Enter Code here\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Email Confirmation Process Information */}\r\n          <div>\r\n            <h4 style={{color: '#ffeb3b'}}>Email Confirmation Process</h4>\r\n            <ul style={{ listStyleType: \"disc\", paddingLeft: \"1.5rem\" }}>\r\n              <li>After registering, you'll receive an email with an activation code.</li>\r\n              <li>Enter the code to activate your account.</li>\r\n              <li>If email verification is not completed, the account remains inactive.</li>\r\n              <li>If not confirmed within 24 hours, your account will be automatically deleted.</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div>\r\n            <label>Password</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              placeholder=\"Enter Password (8-20 characters)\"\r\n            />\r\n            {/* Display Password Criteria */}\r\n            <ul className=\"password-criteria\" style={{ listStyleType: \"none\", padding: 0 }}>\r\n              <li style={{ color: isLongEnough ? \"green\" : \"red\", fontSize: \"0.8rem\" }}>\r\n                {isLongEnough ? \"✓\" : \"✗\"} At least 8 characters long\r\n              </li>\r\n              <li style={{ color: hasUppercase ? \"green\" : \"red\", fontSize: \"0.8rem\" }}>\r\n                {hasUppercase ? \"✓\" : \"✗\"} Contains an uppercase letter\r\n              </li>\r\n              <li style={{ color: hasNumber ? \"green\" : \"red\", fontSize: \"0.8rem\" }}>\r\n                {hasNumber ? \"✓\" : \"✗\"} Contains a number\r\n              </li>\r\n              <li style={{ color: hasSpecialChar ? \"green\" : \"red\", fontSize: \"0.8rem\" }}>\r\n                {hasSpecialChar ? \"✓\" : \"✗\"} Contains a special character (!@#$%^&*)\r\n              </li>\r\n            </ul>\r\n            {password && (\r\n              <p className={`password-strength ${getPasswordStrength().toLowerCase()}`}>\r\n                Password Strength: {getPasswordStrength()}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <label>Confirm Password</label>\r\n            <input\r\n              type=\"password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n              required\r\n              placeholder=\"Re-enter Password\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Wallet Phantom (optional)</label>\r\n            <input\r\n              type=\"text\"\r\n              value={walletPhantom}\r\n              onChange={(e) => setWalletPhantom(e.target.value)}\r\n              placeholder=\"Your Wallet Phantom address\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={termsAccepted}\r\n                onChange={(e) => setTermsAccepted(e.target.checked)}\r\n                required\r\n              />\r\n              I agree to Terms &amp; Conditions.\r\n            </label>\r\n          </div>\r\n\r\n          {/* Honeypot Field (Invisible to Users) */}\r\n          <div style={{ display: \"none\" }}>\r\n            <label>Do Not Fill This Field</label>\r\n            <input\r\n              type=\"text\"\r\n              value={hiddenField}\r\n              onChange={(e) => setHiddenField(e.target.value)}\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn\">Sign Up Now</button>\r\n        </form>\r\n\r\n        {/* Global messages for signup form submission */}\r\n        {error && <p className=\"error-message\" style={{ color: \"red\" }}>{error}</p>}\r\n        \r\n        {/* Link for existing users */}\r\n        <p style={{ marginTop: \"1rem\" }}>\r\n          Already have an account?{\" \"}\r\n          <a\r\n            style={{ color: \"#ffeb3b\" }}\r\n            href=\"/login\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              navigate(\"/login\");\r\n            }}\r\n          >\r\n            Log in here.\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport CryptoJS from 'crypto-js';\r\nimport './skey.css';\r\n\r\nconst Skey = ({ onSuccess }) => {\r\n  const [key, setKey] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  // AES-256-CBC encryption function\r\n  const encryptKey = (key) => {\r\n    const secretKey = CryptoJS.enc.Utf8.parse('your-secret-key-32bytes-long!'); // 32 bytes\r\n    const iv = CryptoJS.enc.Utf8.parse('your-16-byte-iv!'); // 16 bytes\r\n\r\n    const encrypted = CryptoJS.AES.encrypt(key, secretKey, {\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7,\r\n    });\r\n\r\n    return encrypted.toString(); // Base64 output\r\n  };\r\n\r\n  const handleKeySubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const encryptedKey = encryptKey(key);\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        'http://localhost:5000/api/validate-key',\r\n        { key: encryptedKey },\r\n        { headers: { 'Content-Type': 'application/json' } }\r\n      );\r\n\r\n      setMessage(response.data.message);\r\n      setError('');\r\n      if (onSuccess) onSuccess();\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'An error occurred.');\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"skey-page\">\r\n      <div className=\"skep-container\">\r\n        <h1>Security Key</h1>\r\n        <form onSubmit={handleKeySubmit}>\r\n          <input\r\n            type=\"password\"\r\n            value={key}\r\n            onChange={(e) => setKey(e.target.value)}\r\n            placeholder=\"Enter Security Key\"\r\n            required\r\n          />\r\n          <button type=\"submit\">Submit</button>\r\n        </form>\r\n        {message && <p className=\"success-message\">{message}</p>}\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Skey;\r\n","import React, { useState, useEffect } from 'react';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport './App.css';\nimport Home from './pages/Home';\nimport Lock from './pages/Lock';\nimport Presale from './pages/Presale';\nimport Game from './pages/Game';\nimport Profile from './pages/Profile';\nimport AboutUs from './pages/AboutUs';\nimport Stats from './pages/Stats';\nimport Help from './pages/Help';\nimport Whitepaper from './pages/Whitepaper';\nimport RoadMap from './pages/RoadMap';\nimport ConfessAndEarn from './pages/ConfessAndEarn';\nimport Good from './pages/Good';\nimport Login from './pages/Login';\nimport SignUp from './pages/SignUp';\nimport Skey from './pages/Skey';\n\n// Import all images from your src/Images folder including portrait\nimport home1 from \"./Images/home1.png\";\nimport home1Portrait from \"./Images/home1-portrait.png\";\nimport signIn from \"./Images/sign-in.png\";\nimport signInPortrait from \"./Images/sign-in-portrait.png\";\nimport presale from \"./Images/presale.png\";\nimport presalePortrait from \"./Images/presale-portrait.png\";\nimport game from \"./Images/game.png\";\nimport gamePortrait from \"./Images/game-portrait.png\";\nimport profile from \"./Images/profile.png\";\nimport profilePortrait from \"./Images/profile-portrait.png\";\nimport aboutUs from \"./Images/about-us.png\";\nimport aboutUsPortrait from \"./Images/about-us-portrait.png\";\nimport stats from \"./Images/stats.png\";\nimport statsPortrait from \"./Images/stats-portrait.png\";\nimport helpImg from \"./Images/help.png\";\nimport helpPortrait from \"./Images/help-portrait.png\";\nimport whitepaper from \"./Images/whitepaper.png\";\nimport whitepaperPortrait from \"./Images/whitepaper-portrait.png\";\nimport roadmap from \"./Images/roadmap.png\";\nimport roadmapPortrait from \"./Images/roadmap-portrait.png\";\nimport confeseAndEarn from \"./Images/confese-and-earn.png\";\nimport confeseAndEarnPortrait from \"./Images/confese-and-earn-portrait.png\";\nimport home2 from \"./Images/home2.png\";\nimport home2Portrait from \"./Images/home2-portrait.png\";\nimport loginImg from \"./Images/login.png\";\nimport loginPortrait from \"./Images/login-portrait.png\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isLocked, setIsLocked] = useState(false);\n  const [isPortrait, setIsPortrait] = useState(window.innerHeight > window.innerWidth);\n\n  // Detect login status and screen orientation\n  useEffect(() => {\n    // Check if the user is logged in\n    const userStatus = localStorage.getItem('isLoggedIn');\n    setIsLoggedIn(userStatus === 'true');\n\n    // Orientation change listener\n    const handleResize = () => {\n      setIsPortrait(window.innerHeight > window.innerWidth);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleNavigation = (path) => {\n    if (!isLoggedIn && path !== '/login' && path !== '/signup') {\n      navigate('/login');\n    } else {\n      navigate(path);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('isLoggedIn');\n    setIsLoggedIn(false);\n    navigate('/login');\n  };\n\n  const handleLockToggle = () => {\n    setIsLocked((prevState) => !prevState);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"circle-buttons-container\">\n        {/* Navigation Buttons */}\n        <button\n          className=\"circle-button-home\"\n          onClick={() => handleNavigation(\"/home\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? home1Portrait : home1}\n            alt=\"Home\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button className=\"circle-button-lock\" onClick={handleLockToggle}>\n          <img\n            src={isPortrait ? signInPortrait : signIn}\n            alt={isLocked ? \"Unlock\" : \"Lock\"}\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-shopping-cart\"\n          onClick={() => handleNavigation(\"/presale\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? presalePortrait : presale}\n            alt=\"Presale\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-game\"\n          onClick={() => handleNavigation(\"/game\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? gamePortrait : game}\n            alt=\"Game\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-head\"\n          onClick={() => handleNavigation(\"/profile\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? profilePortrait : profile}\n            alt=\"Profile\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-dollar\"\n          onClick={() => handleNavigation(\"/about-us\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? aboutUsPortrait : aboutUs}\n            alt=\"About Us\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-check\"\n          onClick={() => handleNavigation(\"/stats\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? statsPortrait : stats}\n            alt=\"Stats\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-help\"\n          onClick={() => handleNavigation(\"/help\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? helpPortrait : helpImg}\n            alt=\"Help\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-file\"\n          onClick={() => handleNavigation(\"/whitepaper\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? whitepaperPortrait : whitepaper}\n            alt=\"Whitepaper\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-map\"\n          onClick={() => handleNavigation(\"/roadmap\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? roadmapPortrait : roadmap}\n            alt=\"Roadmap\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-rewards\"\n          onClick={() => handleNavigation(\"/confess-and-earn\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? confeseAndEarnPortrait : confeseAndEarn}\n            alt=\"Rewards\"\n            className=\"circle-icon\"\n          />\n        </button>\n        <button\n          className=\"circle-button-learn\"\n          onClick={() => handleNavigation(\"/good\")}\n          disabled={isLocked}\n        >\n          <img\n            src={isPortrait ? home2Portrait : home2}\n            alt=\"Good\"\n            className=\"circle-icon\"\n          />\n        </button>\n\n        {/* Login/Logout Button */}\n        {!isLoggedIn ? (\n          <button\n            className=\"circle-button-login\"\n            onClick={() => navigate(\"/login\")}\n          >\n            <img\n              src={isPortrait ? loginPortrait : loginImg}\n              alt=\"Login\"\n              className=\"circle-icon\"\n            />\n          </button>\n        ) : (\n          <button className=\"circle-button-logout\" onClick={handleLogout}>\n            <img\n              src={isPortrait ? loginPortrait : loginImg}\n              alt=\"Logout\"\n              className=\"circle-icon\"\n            />\n          </button>\n        )}\n      </div>\n\n      {/* Page Routes */}\n      <Routes>\n        <Route path=\"/home\" element={<Home />} />\n        <Route path=\"/lock\" element={<Lock />} />\n        <Route path=\"/presale\" element={<Presale />} />\n        <Route path=\"/game\" element={<Game />} />\n        <Route path=\"/profile\" element={<Profile />} />\n        <Route path=\"/about-us\" element={<AboutUs />} />\n        <Route path=\"/stats\" element={<Stats />} />\n        <Route path=\"/help\" element={<Help />} />\n        <Route path=\"/whitepaper\" element={<Whitepaper />} />\n        <Route path=\"/roadmap\" element={<RoadMap />} />\n        <Route path=\"/confess-and-earn\" element={<ConfessAndEarn />} />\n        <Route path=\"/good\" element={<Good />} />\n        <Route path=\"/login\" element={<Login />} />\n        <Route path=\"/signup\" element={<SignUp />} />\n        <Route path=\"/skey\" element={<Skey />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// index.js\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n\nreportWebVitals();\n"],"sourceRoot":""}